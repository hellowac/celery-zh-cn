<!doctype html>
<html class="no-js" lang="zh-CN" data-content_root="../">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="index" title="索引" href="../genindex.html" /><link rel="search" title="搜索" href="../search.html" /><link rel="copyright" title="版权所有" href="../copyright.html" /><link rel="next" title="Change history for Celery 2.1" href="changelog-2.1.html" /><link rel="prev" title="Change history for Celery 2.3" href="changelog-2.3.html" />

    <link rel="shortcut icon" href="../_static/favicon.ico"/><!-- Generated with Sphinx 8.2.3 and Furo 2024.08.06 -->
        <title>Change history for Celery 2.2 - Celery 5.5.1 文档</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=3ee1c6c6" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo.css?v=354aac6f" />
    <link rel="stylesheet" type="text/css" href="../_static/tabs.css?v=4c969af8" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo-extensions.css?v=302659d7" />
    <link rel="stylesheet" type="text/css" href="../_static/my.css?v=112ca36d" />
    
    


<style>
  body {
    --color-code-background: #ffffff;
  --color-code-foreground: black;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-with-moon" viewBox="0 0 24 24">
    <title>Auto light/dark, in light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path style="opacity: 50%" d="M 5.411 14.504 C 5.471 14.504 5.532 14.504 5.591 14.504 C 3.639 16.319 4.383 19.569 6.931 20.352 C 7.693 20.586 8.512 20.551 9.25 20.252 C 8.023 23.207 4.056 23.725 2.11 21.184 C 0.166 18.642 1.702 14.949 4.874 14.536 C 5.051 14.512 5.231 14.5 5.411 14.5 L 5.411 14.504 Z"/>
      <line x1="14.5" y1="3.25" x2="14.5" y2="1.25"/>
      <line x1="14.5" y1="15.85" x2="14.5" y2="17.85"/>
      <line x1="10.044" y1="5.094" x2="8.63" y2="3.68"/>
      <line x1="19" y1="14.05" x2="20.414" y2="15.464"/>
      <line x1="8.2" y1="9.55" x2="6.2" y2="9.55"/>
      <line x1="20.8" y1="9.55" x2="22.8" y2="9.55"/>
      <line x1="10.044" y1="14.006" x2="8.63" y2="15.42"/>
      <line x1="19" y1="5.05" x2="20.414" y2="3.636"/>
      <circle cx="14.5" cy="9.55" r="3.6"/>
    </svg>
  </symbol>
  <symbol id="svg-moon-with-sun" viewBox="0 0 24 24">
    <title>Auto light/dark, in dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path d="M 8.282 7.007 C 8.385 7.007 8.494 7.007 8.595 7.007 C 5.18 10.184 6.481 15.869 10.942 17.24 C 12.275 17.648 13.706 17.589 15 17.066 C 12.851 22.236 5.91 23.143 2.505 18.696 C -0.897 14.249 1.791 7.786 7.342 7.063 C 7.652 7.021 7.965 7 8.282 7 L 8.282 7.007 Z"/>
      <line style="opacity: 50%" x1="18" y1="3.705" x2="18" y2="2.5"/>
      <line style="opacity: 50%" x1="18" y1="11.295" x2="18" y2="12.5"/>
      <line style="opacity: 50%" x1="15.316" y1="4.816" x2="14.464" y2="3.964"/>
      <line style="opacity: 50%" x1="20.711" y1="10.212" x2="21.563" y2="11.063"/>
      <line style="opacity: 50%" x1="14.205" y1="7.5" x2="13.001" y2="7.5"/>
      <line style="opacity: 50%" x1="21.795" y1="7.5" x2="23" y2="7.5"/>
      <line style="opacity: 50%" x1="15.316" y1="10.184" x2="14.464" y2="11.036"/>
      <line style="opacity: 50%" x1="20.711" y1="4.789" x2="21.563" y2="3.937"/>
      <circle style="opacity: 50%" cx="18" cy="7.5" r="2.169"/>
    </svg>
  </symbol>
  <symbol id="svg-pencil" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-pencil-code">
      <path d="M4 20h4l10.5 -10.5a2.828 2.828 0 1 0 -4 -4l-10.5 10.5v4" />
      <path d="M13.5 6.5l4 4" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
  <symbol id="svg-eye" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-eye-code">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M10 12a2 2 0 1 0 4 0a2 2 0 0 0 -4 0" />
      <path
        d="M11.11 17.958c-3.209 -.307 -5.91 -2.293 -8.11 -5.958c2.4 -4 5.4 -6 9 -6c3.6 0 6.6 2 9 6c-.21 .352 -.427 .688 -.647 1.008" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>

<a class="skip-to-content muted-link" href="#furo-main-content">Skip to content</a>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="../index.html"><div class="brand">Celery 5.5.1 文档</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
          <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="../index.html">
  
  <div class="sidebar-logo-container">
    <img class="sidebar-logo" src="../_static/celery_512_1.png" alt="Logo"/>
  </div>
  
  <span class="sidebar-brand-text">Celery 5.5.1 文档</span>
  
</a><form class="sidebar-search-container" method="get" action="../search.html" role="search">
  <input class="sidebar-search" placeholder="搜索" name="q" aria-label="搜索">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <ul>
<li class="toctree-l1"><a class="reference internal" href="../copyright.html">版权</a></li>
</ul>
<ul>
<li class="toctree-l1 has-children"><a class="reference internal" href="../getting-started/index.html">快速开始</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><div class="visually-hidden">Toggle navigation of 快速开始</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../getting-started/introduction.html">Celery 简介</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../getting-started/backends-and-brokers/index.html">Backends 和 Brokers</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" role="switch" type="checkbox"/><label for="toctree-checkbox-2"><div class="visually-hidden">Toggle navigation of Backends 和 Brokers</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../getting-started/backends-and-brokers/rabbitmq.html">使用 RabbitMQ</a></li>
<li class="toctree-l3"><a class="reference internal" href="../getting-started/backends-and-brokers/redis.html">使用 Redis</a></li>
<li class="toctree-l3"><a class="reference internal" href="../getting-started/backends-and-brokers/sqs.html">使用 Amazon SQS</a></li>
<li class="toctree-l3"><a class="reference internal" href="../getting-started/backends-and-brokers/kafka.html">使用 Kafka</a></li>
<li class="toctree-l3"><a class="reference internal" href="../getting-started/backends-and-brokers/gcpubsub.html">使用 Google Pub/Sub</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../getting-started/first-steps-with-celery.html">使用 Celery 的第一步</a></li>
<li class="toctree-l2"><a class="reference internal" href="../getting-started/next-steps.html">下一步</a></li>
<li class="toctree-l2"><a class="reference internal" href="../getting-started/resources.html">资源</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../userguide/index.html">用户指南</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" role="switch" type="checkbox"/><label for="toctree-checkbox-3"><div class="visually-hidden">Toggle navigation of 用户指南</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../userguide/application.html">应用程序</a></li>
<li class="toctree-l2"><a class="reference internal" href="../userguide/tasks.html">任务/Tasks</a></li>
<li class="toctree-l2"><a class="reference internal" href="../userguide/calling.html">调用任务/Tasks</a></li>
<li class="toctree-l2"><a class="reference internal" href="../userguide/canvas.html">Canvas：设计工作流</a></li>
<li class="toctree-l2"><a class="reference internal" href="../userguide/workers.html">Workers 指南</a></li>
<li class="toctree-l2"><a class="reference internal" href="../userguide/daemonizing.html">守护进程</a></li>
<li class="toctree-l2"><a class="reference internal" href="../userguide/periodic-tasks.html">周期性任务/Tasks</a></li>
<li class="toctree-l2"><a class="reference internal" href="../userguide/routing.html">路由任务/Tasks</a></li>
<li class="toctree-l2"><a class="reference internal" href="../userguide/monitoring.html">监控和管理指南</a></li>
<li class="toctree-l2"><a class="reference internal" href="../userguide/security.html">安全</a></li>
<li class="toctree-l2"><a class="reference internal" href="../userguide/optimizing.html">优化</a></li>
<li class="toctree-l2"><a class="reference internal" href="../userguide/debugging.html">调试</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../userguide/concurrency/index.html">并发</a><input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" role="switch" type="checkbox"/><label for="toctree-checkbox-4"><div class="visually-hidden">Toggle navigation of 并发</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../userguide/concurrency/eventlet.html">Eventlet 并发</a></li>
<li class="toctree-l3"><a class="reference internal" href="../userguide/concurrency/gevent.html">gevent 并发</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../userguide/signals.html">信号</a></li>
<li class="toctree-l2"><a class="reference internal" href="../userguide/testing.html">使用 Celery 进行测试</a></li>
<li class="toctree-l2"><a class="reference internal" href="../userguide/extending.html">扩展 和 Bootsteps</a></li>
<li class="toctree-l2"><a class="reference internal" href="../userguide/configuration.html">配置和默认值</a></li>
<li class="toctree-l2"><a class="reference internal" href="../userguide/sphinx.html">使用 Sphinx 文档化任务</a></li>
</ul>
</li>
</ul>
<ul class="current">
<li class="toctree-l1 has-children"><a class="reference internal" href="../django/index.html">Django</a><input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" role="switch" type="checkbox"/><label for="toctree-checkbox-5"><div class="visually-hidden">Toggle navigation of Django</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../django/first-steps-with-django.html">使用 Django 的第一步</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../contributing.html">贡献</a></li>
<li class="toctree-l1"><a class="reference internal" href="../community.html">社区资源</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../tutorials/index.html">教程</a><input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" role="switch" type="checkbox"/><label for="toctree-checkbox-6"><div class="visually-hidden">Toggle navigation of 教程</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../tutorials/task-cookbook.html">Task Cookbook</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../faq.html">常见问题</a></li>
<li class="toctree-l1"><a class="reference internal" href="../changelog.html">更改历史</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../reference/index.html">API 参考</a><input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" role="switch" type="checkbox"/><label for="toctree-checkbox-7"><div class="visually-hidden">Toggle navigation of API 参考</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../reference/cli.html">命令行接口</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/celery.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">celery</span></code> --- Distributed processing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/celery.app.html">Proxies</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/celery.app.html#functions">Functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/celery.app.task.html"><code class="docutils literal notranslate"><span class="pre">celery.app.task</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/celery.app.amqp.html">AMQP</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/celery.app.amqp.html#queues">Queues</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/celery.app.defaults.html"><code class="docutils literal notranslate"><span class="pre">celery.app.defaults</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/celery.app.control.html"><code class="docutils literal notranslate"><span class="pre">celery.app.control</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/celery.app.registry.html"><code class="docutils literal notranslate"><span class="pre">celery.app.registry</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/celery.app.backends.html"><code class="docutils literal notranslate"><span class="pre">celery.app.backends</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/celery.app.builtins.html"><code class="docutils literal notranslate"><span class="pre">celery.app.builtins</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/celery.app.events.html"><code class="docutils literal notranslate"><span class="pre">celery.app.events</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/celery.app.log.html"><code class="docutils literal notranslate"><span class="pre">celery.app.log</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/celery.app.utils.html"><code class="docutils literal notranslate"><span class="pre">celery.app.utils</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/celery.app.autoretry.html"><code class="docutils literal notranslate"><span class="pre">celery.app.autoretry</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/celery.bootsteps.html"><code class="docutils literal notranslate"><span class="pre">celery.bootsteps</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/celery.result.html"><code class="docutils literal notranslate"><span class="pre">celery.result</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/celery.schedules.html"><code class="docutils literal notranslate"><span class="pre">celery.schedules</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/celery.signals.html"><code class="docutils literal notranslate"><span class="pre">celery.signals</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/celery.security.html"><code class="docutils literal notranslate"><span class="pre">celery.security</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/celery.utils.debug.html"><code class="docutils literal notranslate"><span class="pre">celery.utils.debug</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/celery.exceptions.html"><code class="docutils literal notranslate"><span class="pre">celery.exceptions</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/celery.loaders.html"><code class="docutils literal notranslate"><span class="pre">celery.loaders</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/celery.loaders.app.html"><code class="docutils literal notranslate"><span class="pre">celery.loaders.app</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/celery.loaders.default.html"><code class="docutils literal notranslate"><span class="pre">celery.loaders.default</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/celery.loaders.base.html"><code class="docutils literal notranslate"><span class="pre">celery.loaders.base</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/celery.states.html">States</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/celery.states.html#sets">Sets</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/celery.states.html#misc">Misc</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/celery.states.html#celery.states.FAILURE"><code class="docutils literal notranslate"><span class="pre">FAILURE</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/celery.states.html#celery.states.PENDING"><code class="docutils literal notranslate"><span class="pre">PENDING</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/celery.states.html#celery.states.RECEIVED"><code class="docutils literal notranslate"><span class="pre">RECEIVED</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/celery.states.html#celery.states.RETRY"><code class="docutils literal notranslate"><span class="pre">RETRY</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/celery.states.html#celery.states.REVOKED"><code class="docutils literal notranslate"><span class="pre">REVOKED</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/celery.states.html#celery.states.STARTED"><code class="docutils literal notranslate"><span class="pre">STARTED</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/celery.states.html#celery.states.SUCCESS"><code class="docutils literal notranslate"><span class="pre">SUCCESS</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/celery.states.html#celery.states.precedence"><code class="docutils literal notranslate"><span class="pre">precedence()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/celery.states.html#celery.states.state"><code class="docutils literal notranslate"><span class="pre">state</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/celery.contrib.abortable.html"><code class="docutils literal notranslate"><span class="pre">celery.contrib.abortable</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/celery.contrib.django.task.html"><code class="docutils literal notranslate"><span class="pre">celery.contrib.django.task</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/celery.contrib.migrate.html"><code class="docutils literal notranslate"><span class="pre">celery.contrib.migrate</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/celery.contrib.pytest.html"><code class="docutils literal notranslate"><span class="pre">celery.contrib.pytest</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/celery.contrib.sphinx.html">celery.contrib.sphinx</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/celery.contrib.testing.worker.html"><code class="docutils literal notranslate"><span class="pre">celery.contrib.testing.worker</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/celery.contrib.testing.app.html"><code class="docutils literal notranslate"><span class="pre">celery.contrib.testing.app</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/celery.contrib.testing.manager.html"><code class="docutils literal notranslate"><span class="pre">celery.contrib.testing.manager</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/celery.contrib.testing.mocks.html"><code class="docutils literal notranslate"><span class="pre">celery.contrib.testing.mocks</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/celery.contrib.rdb.html"><code class="docutils literal notranslate"><span class="pre">celery.contrib.rdb</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/celery.events.html"><code class="docutils literal notranslate"><span class="pre">celery.events</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/celery.events.receiver.html"><code class="docutils literal notranslate"><span class="pre">celery.events.receiver</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/celery.events.dispatcher.html"><code class="docutils literal notranslate"><span class="pre">celery.events.state</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/celery.events.event.html"><code class="docutils literal notranslate"><span class="pre">celery.events.event</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/celery.events.state.html"><code class="docutils literal notranslate"><span class="pre">celery.events.state</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/celery.beat.html"><code class="docutils literal notranslate"><span class="pre">celery.beat</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/celery.apps.worker.html"><code class="docutils literal notranslate"><span class="pre">celery.apps.worker</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/celery.apps.beat.html"><code class="docutils literal notranslate"><span class="pre">celery.apps.beat</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/celery.apps.multi.html"><code class="docutils literal notranslate"><span class="pre">celery.apps.multi</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/celery.worker.html"><code class="docutils literal notranslate"><span class="pre">celery.worker</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/celery.worker.request.html"><code class="docutils literal notranslate"><span class="pre">celery.worker.request</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/celery.worker.state.html"><code class="docutils literal notranslate"><span class="pre">celery.worker.state</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/celery.worker.strategy.html"><code class="docutils literal notranslate"><span class="pre">celery.worker.strategy</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/celery.worker.consumer.html"><code class="docutils literal notranslate"><span class="pre">celery.worker.consumer</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/celery.worker.consumer.agent.html"><code class="docutils literal notranslate"><span class="pre">celery.worker.consumer.agent</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/celery.worker.consumer.connection.html"><code class="docutils literal notranslate"><span class="pre">celery.worker.consumer.connection</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/celery.worker.consumer.consumer.html"><code class="docutils literal notranslate"><span class="pre">celery.worker.consumer.consumer</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/celery.worker.consumer.control.html"><code class="docutils literal notranslate"><span class="pre">celery.worker.consumer.control</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/celery.worker.consumer.events.html"><code class="docutils literal notranslate"><span class="pre">celery.worker.consumer.events</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/celery.worker.consumer.gossip.html"><code class="docutils literal notranslate"><span class="pre">celery.worker.consumer.gossip</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/celery.worker.consumer.heart.html"><code class="docutils literal notranslate"><span class="pre">celery.worker.consumer.heart</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/celery.worker.consumer.mingle.html"><code class="docutils literal notranslate"><span class="pre">celery.worker.consumer.mingle</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/celery.worker.consumer.tasks.html"><code class="docutils literal notranslate"><span class="pre">celery.worker.consumer.tasks</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/celery.worker.worker.html"><code class="docutils literal notranslate"><span class="pre">celery.worker.worker</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/celery.bin.base.html"><code class="docutils literal notranslate"><span class="pre">celery.bin.base</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/celery.bin.celery.html"><code class="docutils literal notranslate"><span class="pre">celery.bin.celery</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/celery.bin.worker.html"><code class="docutils literal notranslate"><span class="pre">celery.bin.worker</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/celery.bin.beat.html"><code class="docutils literal notranslate"><span class="pre">celery.bin.beat</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/celery.bin.events.html"><code class="docutils literal notranslate"><span class="pre">celery.bin.events</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/celery.bin.logtool.html"><code class="docutils literal notranslate"><span class="pre">celery.bin.logtool</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/celery.bin.amqp.html"><code class="docutils literal notranslate"><span class="pre">celery.bin.amqp</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/celery.bin.graph.html"><code class="docutils literal notranslate"><span class="pre">celery.bin.graph</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/celery.bin.multi.html"><code class="docutils literal notranslate"><span class="pre">celery.bin.multi</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/celery.bin.call.html"><code class="docutils literal notranslate"><span class="pre">celery.bin.call</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/celery.bin.control.html"><code class="docutils literal notranslate"><span class="pre">celery.bin.control</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/celery.bin.list.html"><code class="docutils literal notranslate"><span class="pre">celery.bin.list</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/celery.bin.migrate.html"><code class="docutils literal notranslate"><span class="pre">celery.bin.migrate</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/celery.bin.purge.html"><code class="docutils literal notranslate"><span class="pre">celery.bin.purge</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/celery.bin.result.html"><code class="docutils literal notranslate"><span class="pre">celery.bin.result</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/celery.bin.shell.html"><code class="docutils literal notranslate"><span class="pre">celery.bin.shell</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/celery.bin.upgrade.html"><code class="docutils literal notranslate"><span class="pre">celery.bin.upgrade</span></code></a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../internals/index.html">内部</a><input class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" role="switch" type="checkbox"/><label for="toctree-checkbox-8"><div class="visually-hidden">Toggle navigation of 内部</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../internals/guide.html">代码贡献指南</a></li>
<li class="toctree-l2"><a class="reference internal" href="../internals/deprecation.html">Celery 弃用时间表</a></li>
<li class="toctree-l2"><a class="reference internal" href="../internals/worker.html">内部的 worker</a></li>
<li class="toctree-l2"><a class="reference internal" href="../internals/protocol.html">消息协议</a></li>
<li class="toctree-l2"><a class="reference internal" href="../internals/app-overview.html">“大实例”重构</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../internals/reference/index.html">内部模块参考</a><input class="toctree-checkbox" id="toctree-checkbox-9" name="toctree-checkbox-9" role="switch" type="checkbox"/><label for="toctree-checkbox-9"><div class="visually-hidden">Toggle navigation of 内部模块参考</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../internals/reference/celery.worker.components.html"><code class="docutils literal notranslate"><span class="pre">celery.worker.components</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../internals/reference/celery.worker.loops.html"><code class="docutils literal notranslate"><span class="pre">celery.worker.loops</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../internals/reference/celery.worker.heartbeat.html"><code class="docutils literal notranslate"><span class="pre">celery.worker.heartbeat</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../internals/reference/celery.worker.control.html"><code class="docutils literal notranslate"><span class="pre">celery.worker.control</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../internals/reference/celery.worker.pidbox.html"><code class="docutils literal notranslate"><span class="pre">celery.worker.pidbox</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../internals/reference/celery.worker.autoscale.html"><code class="docutils literal notranslate"><span class="pre">celery.worker.autoscale</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../internals/reference/celery.concurrency.html"><code class="docutils literal notranslate"><span class="pre">celery.concurrency</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../internals/reference/celery.concurrency.solo.html"><code class="docutils literal notranslate"><span class="pre">celery.concurrency.solo</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../internals/reference/celery.concurrency.prefork.html"><code class="docutils literal notranslate"><span class="pre">celery.concurrency.prefork</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../internals/reference/celery.concurrency.eventlet.html"><code class="docutils literal notranslate"><span class="pre">celery.concurrency.eventlet</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../internals/reference/celery.concurrency.gevent.html"><code class="docutils literal notranslate"><span class="pre">celery.concurrency.gevent</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../internals/reference/celery.concurrency.thread.html"><code class="docutils literal notranslate"><span class="pre">celery.concurrency.thread</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../internals/reference/celery.concurrency.base.html"><code class="docutils literal notranslate"><span class="pre">celery.concurrency.base</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../internals/reference/celery.backends.html"><code class="docutils literal notranslate"><span class="pre">celery.backends</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../internals/reference/celery.backends.base.html"><code class="docutils literal notranslate"><span class="pre">celery.backends.base</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../internals/reference/celery.backends.asynchronous.html"><code class="docutils literal notranslate"><span class="pre">celery.backends.asynchronous</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../internals/reference/celery.backends.azureblockblob.html"><code class="docutils literal notranslate"><span class="pre">celery.backends.azureblockblob</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../internals/reference/celery.backends.rpc.html"><code class="docutils literal notranslate"><span class="pre">celery.backends.rpc</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../internals/reference/celery.backends.database.html"><code class="docutils literal notranslate"><span class="pre">celery.backends.database</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../internals/reference/celery.backends.cache.html"><code class="docutils literal notranslate"><span class="pre">celery.backends.cache</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../internals/reference/celery.backends.consul.html">celery.backends.consul</a></li>
<li class="toctree-l3"><a class="reference internal" href="../internals/reference/celery.backends.couchdb.html"><code class="docutils literal notranslate"><span class="pre">celery.backends.couchdb</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../internals/reference/celery.backends.mongodb.html"><code class="docutils literal notranslate"><span class="pre">celery.backends.mongodb</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../internals/reference/celery.backends.elasticsearch.html"><code class="docutils literal notranslate"><span class="pre">celery.backends.elasticsearch</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../internals/reference/celery.backends.redis.html"><code class="docutils literal notranslate"><span class="pre">celery.backends.redis</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../internals/reference/celery.backends.cassandra.html"><code class="docutils literal notranslate"><span class="pre">celery.backends.cassandra</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../internals/reference/celery.backends.couchbase.html"><code class="docutils literal notranslate"><span class="pre">celery.backends.couchbase</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../internals/reference/celery.backends.arangodb.html"><code class="docutils literal notranslate"><span class="pre">celery.backends.arangodb</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../internals/reference/celery.backends.dynamodb.html"><code class="docutils literal notranslate"><span class="pre">celery.backends.dynamodb</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../internals/reference/celery.backends.filesystem.html"><code class="docutils literal notranslate"><span class="pre">celery.backends.filesystem</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../internals/reference/celery.backends.cosmosdbsql.html"><code class="docutils literal notranslate"><span class="pre">celery.backends.cosmosdbsql</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../internals/reference/celery.backends.s3.html"><code class="docutils literal notranslate"><span class="pre">celery.backends.s3</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../internals/reference/celery.backends.gcs.html"><code class="docutils literal notranslate"><span class="pre">celery.backends.gcs</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../internals/reference/celery.app.trace.html"><code class="docutils literal notranslate"><span class="pre">celery.app.trace</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../internals/reference/celery.app.annotations.html"><code class="docutils literal notranslate"><span class="pre">celery.app.annotations</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../internals/reference/celery.app.routes.html"><code class="docutils literal notranslate"><span class="pre">celery.app.routes</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../internals/reference/celery.security.certificate.html"><code class="docutils literal notranslate"><span class="pre">celery.security.certificate</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../internals/reference/celery.security.key.html"><code class="docutils literal notranslate"><span class="pre">celery.security.key</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../internals/reference/celery.security.serialization.html"><code class="docutils literal notranslate"><span class="pre">celery.security.serialization</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../internals/reference/celery.security.utils.html"><code class="docutils literal notranslate"><span class="pre">celery.security.utils</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../internals/reference/celery.events.snapshot.html"><code class="docutils literal notranslate"><span class="pre">celery.events.snapshot</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../internals/reference/celery.events.cursesmon.html"><code class="docutils literal notranslate"><span class="pre">celery.events.cursesmon</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../internals/reference/celery.events.dumper.html"><code class="docutils literal notranslate"><span class="pre">celery.events.dumper</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../internals/reference/celery.backends.database.models.html"><code class="docutils literal notranslate"><span class="pre">celery.backends.database.models</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../internals/reference/celery.backends.database.session.html"><code class="docutils literal notranslate"><span class="pre">celery.backends.database.session</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../internals/reference/celery.utils.html"><code class="docutils literal notranslate"><span class="pre">celery.utils</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../internals/reference/celery.utils.abstract.html"><code class="docutils literal notranslate"><span class="pre">celery.utils.abstract</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../internals/reference/celery.utils.collections.html"><code class="docutils literal notranslate"><span class="pre">celery.utils.collections</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../internals/reference/celery.utils.nodenames.html"><code class="docutils literal notranslate"><span class="pre">celery.utils.nodenames</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../internals/reference/celery.utils.deprecated.html"><code class="docutils literal notranslate"><span class="pre">celery.utils.deprecated</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../internals/reference/celery.utils.functional.html"><code class="docutils literal notranslate"><span class="pre">celery.utils.functional</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../internals/reference/celery.utils.graph.html"><code class="docutils literal notranslate"><span class="pre">celery.utils.graph</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../internals/reference/celery.utils.objects.html"><code class="docutils literal notranslate"><span class="pre">celery.utils.objects</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../internals/reference/celery.utils.term.html"><code class="docutils literal notranslate"><span class="pre">celery.utils.term</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../internals/reference/celery.utils.time.html"><code class="docutils literal notranslate"><span class="pre">celery.utils.time</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../internals/reference/celery.utils.iso8601.html"><code class="docutils literal notranslate"><span class="pre">celery.utils.iso8601</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../internals/reference/celery.utils.saferepr.html"><code class="docutils literal notranslate"><span class="pre">celery.utils.saferepr</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../internals/reference/celery.utils.serialization.html"><code class="docutils literal notranslate"><span class="pre">celery.utils.serialization</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../internals/reference/celery.utils.sysinfo.html"><code class="docutils literal notranslate"><span class="pre">celery.utils.sysinfo</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../internals/reference/celery.utils.threads.html"><code class="docutils literal notranslate"><span class="pre">celery.utils.threads</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../internals/reference/celery.utils.timer2.html"><code class="docutils literal notranslate"><span class="pre">celery.utils.timer2</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../internals/reference/celery.utils.imports.html"><code class="docutils literal notranslate"><span class="pre">celery.utils.imports</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../internals/reference/celery.utils.log.html"><code class="docutils literal notranslate"><span class="pre">celery.utils.log</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../internals/reference/celery.utils.text.html"><code class="docutils literal notranslate"><span class="pre">celery.utils.text</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../internals/reference/celery.utils.dispatch.html"><code class="docutils literal notranslate"><span class="pre">celery.utils.dispatch</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../internals/reference/celery.utils.dispatch.signal.html"><code class="docutils literal notranslate"><span class="pre">celery.utils.dispatch.signal</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../internals/reference/celery.platforms.html"><code class="docutils literal notranslate"><span class="pre">celery.platforms</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../internals/reference/celery._state.html"><code class="docutils literal notranslate"><span class="pre">celery._state</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 current has-children"><a class="reference internal" href="index.html">历史</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-10" name="toctree-checkbox-10" role="switch" type="checkbox"/><label for="toctree-checkbox-10"><div class="visually-hidden">Toggle navigation of 历史</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="whatsnew-5.5.html">What's new in Celery 5.5 (Immunity)</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog-5.5.html">Change history</a></li>
<li class="toctree-l2"><a class="reference internal" href="whatsnew-5.4.html">What's new in Celery 5.4 (Opalescent)</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog-5.4.html">Change history</a></li>
<li class="toctree-l2"><a class="reference internal" href="whatsnew-5.3.html">What's new in Celery 5.3 (Emerald Rush)</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog-5.3.html">Change history</a></li>
<li class="toctree-l2"><a class="reference internal" href="whatsnew-5.1.html">What's new in Celery 5.1 (Sun Harmonics)</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog-5.1.html">Change history</a></li>
<li class="toctree-l2"><a class="reference internal" href="whatsnew-5.0.html">What's new in Celery 5.0 (singularity)</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog-5.0.html">Change history</a></li>
<li class="toctree-l2"><a class="reference internal" href="whatsnew-4.4.html">What's new in Celery 4.4 (Cliffs)</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog-4.4.html">Change history</a></li>
<li class="toctree-l2"><a class="reference internal" href="whatsnew-4.3.html">What's new in Celery 4.3 (rhubarb)</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog-4.3.html">Change history</a></li>
<li class="toctree-l2"><a class="reference internal" href="whatsnew-4.2.html">What's new in Celery 4.2 (windowlicker)</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog-4.2.html">Change history</a></li>
<li class="toctree-l2"><a class="reference internal" href="whatsnew-4.1.html">What's new in Celery 4.1 (latentcall)</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog-4.1.html">Change history</a></li>
<li class="toctree-l2"><a class="reference internal" href="whatsnew-4.0.html">What's new in Celery 4.0 (latentcall)</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog-4.0.html">Change history</a></li>
<li class="toctree-l2"><a class="reference internal" href="whatsnew-3.1.html">What's new in Celery 3.1 (Cipater)</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog-3.1.html">Change history</a></li>
<li class="toctree-l2"><a class="reference internal" href="whatsnew-3.0.html">What's new in Celery 3.0 (Chiastic Slide)</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog-3.0.html">Change history for Celery 3.0</a></li>
<li class="toctree-l2"><a class="reference internal" href="whatsnew-2.5.html">What's new in Celery 2.5</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog-2.5.html">Change history for Celery 2.5</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog-2.4.html">Change history for Celery 2.4</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog-2.3.html">Change history for Celery 2.3</a></li>
<li class="toctree-l2 current current-page"><a class="current reference internal" href="#">Change history for Celery 2.2</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog-2.1.html">Change history for Celery 2.1</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog-2.0.html">Change history for Celery 2.0</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog-1.0.html">Change history for Celery 1.0</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../glossary.html">术语</a></li>
</ul>

</div>
<!-- <iframe src="https://ghbtns.com/github-btn.html?user=celery&repo=celery&type=watch&count=true&size=large"
  allowtransparency="true" frameborder="0" scrolling="0" width="200px" height="35px"></iframe> -->
<div id="donate">
  <h5>捐赠</h5>
  <p>请捐赠以支持这个社区项目</p>
  <a href="https://opencollective.com/celery/donate" target="_blank">
    <!-- <img src="https://opencollective.com/celery/donate/button@2x.png?color=blue" /> -->
    <img src="https://opencollective.com/celery/donate/button.png?color=blue" />
  </a>
</div></div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          <div class="view-this-page">
  <a class="muted-link" href="../_sources/history/changelog-2.2.rst.txt" title="View this page">
    <svg><use href="#svg-eye"></use></svg>
    <span class="visually-hidden">View this page</span>
  </a>
</div>
<div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
              <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main" id="furo-main-content">
          <section id="change-history-for-celery-2-2">
<span id="changelog-2-2"></span><h1>Change history for Celery 2.2<a class="headerlink" href="#change-history-for-celery-2-2" title="Link to this heading">¶</a></h1>
<section id="version-2-2-8">
<span id="id1"></span><h2>2.2.8<a class="headerlink" href="#version-2-2-8" title="Link to this heading">¶</a></h2>
<dl class="field-list simple">
<dt class="field-odd">release-date<span class="colon">:</span></dt>
<dd class="field-odd"><p>2011-11-25 04:00 p.m. GMT</p>
</dd>
<dt class="field-even">release-by<span class="colon">:</span></dt>
<dd class="field-even"><p>Ask Solem</p>
</dd>
</dl>
<section id="security-fixes">
<span id="v228-security-fixes"></span><h3>Security Fixes<a class="headerlink" href="#security-fixes" title="Link to this heading">¶</a></h3>
<ul>
<li><p>[Security: <a class="reference external" href="https://github.com/celery/celery/tree/master/docs/sec/CELERYSA-0001.txt">CELERYSA-0001</a>] Daemons would set effective id's rather than
real id's when the <code class="xref std std-option docutils literal notranslate"><span class="pre">--uid</span></code>/
<code class="xref std std-option docutils literal notranslate"><span class="pre">--gid</span></code> arguments to <strong class="program">celery multi</strong>,
<strong class="program">celeryd_detach</strong>, <strong class="program">celery beat</strong> and
<strong class="program">celery events</strong> were used.</p>
<p>This means privileges weren't properly dropped, and that it would
be possible to regain supervisor privileges later.</p>
</li>
</ul>
</section>
</section>
<section id="version-2-2-7">
<span id="id2"></span><h2>2.2.7<a class="headerlink" href="#version-2-2-7" title="Link to this heading">¶</a></h2>
<dl class="field-list simple">
<dt class="field-odd">release-date<span class="colon">:</span></dt>
<dd class="field-odd"><p>2011-06-13 04:00 p.m. BST</p>
</dd>
<dt class="field-even">release-by<span class="colon">:</span></dt>
<dd class="field-even"><p>Ask Solem</p>
</dd>
</dl>
<ul>
<li><p>New signals: <a class="reference internal" href="../userguide/signals.html#std-signal-after_setup_logger"><code class="xref std std-signal docutils literal notranslate"><span class="pre">after_setup_logger</span></code></a> and
<a class="reference internal" href="../userguide/signals.html#std-signal-after_setup_task_logger"><code class="xref std std-signal docutils literal notranslate"><span class="pre">after_setup_task_logger</span></code></a></p>
<blockquote>
<div><p>These signals can be used to augment logging configuration
after Celery has set up logging.</p>
</div></blockquote>
</li>
<li><p>Redis result backend now works with Redis 2.4.4.</p></li>
<li><p>multi: The <code class="xref std std-option docutils literal notranslate"><span class="pre">--gid</span></code> option now works correctly.</p></li>
<li><p>worker: Retry wrongfully used the repr of the traceback instead
of the string representation.</p></li>
<li><p>App.config_from_object: Now loads module, not attribute of module.</p></li>
<li><p>Fixed issue where logging of objects would give &quot;&lt;Unrepresentable: ...&gt;&quot;</p></li>
</ul>
</section>
<section id="version-2-2-6">
<span id="id3"></span><h2>2.2.6<a class="headerlink" href="#version-2-2-6" title="Link to this heading">¶</a></h2>
<dl class="field-list simple">
<dt class="field-odd">release-date<span class="colon">:</span></dt>
<dd class="field-odd"><p>2011-04-15 04:00 p.m. CEST</p>
</dd>
<dt class="field-even">release-by<span class="colon">:</span></dt>
<dd class="field-even"><p>Ask Solem</p>
</dd>
</dl>
<section id="important-notes">
<span id="v226-important"></span><h3>Important Notes<a class="headerlink" href="#important-notes" title="Link to this heading">¶</a></h3>
<ul>
<li><p>Now depends on <a class="extlink-pypi reference external" href="https://pypi.org/project/Kombu/">https://pypi.org/project/Kombu/</a> 1.1.2.</p></li>
<li><p>Dependency lists now explicitly specifies that we don't want
<a class="extlink-pypi reference external" href="https://pypi.org/project/python-dateutil/">https://pypi.org/project/python-dateutil/</a> 2.x, as this version only supports Python 3.</p>
<blockquote>
<div><p>If you have installed dateutil 2.0 by accident you should downgrade
to the 1.5.0 version:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>pip<span class="w"> </span>install<span class="w"> </span>-U<span class="w"> </span>python-dateutil<span class="o">==</span><span class="m">1</span>.5.0
</pre></div>
</div>
<p>or by <code class="docutils literal notranslate"><span class="pre">easy_install</span></code>:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>easy_install<span class="w"> </span>-U<span class="w"> </span>python-dateutil<span class="o">==</span><span class="m">1</span>.5.0
</pre></div>
</div>
</div></blockquote>
</li>
</ul>
</section>
<section id="fixes">
<span id="v226-fixes"></span><h3>Fixes<a class="headerlink" href="#fixes" title="Link to this heading">¶</a></h3>
<ul>
<li><p>The new <code class="docutils literal notranslate"><span class="pre">WatchedFileHandler</span></code> broke Python 2.5 support (<span class="xref issue">Issue #367</span>).</p></li>
<li><p>Task: Don't use <code class="docutils literal notranslate"><span class="pre">app.main</span></code> if the task name is set explicitly.</p></li>
<li><p>Sending emails didn't work on Python 2.5, due to a bug in
the version detection code (<span class="xref issue">Issue #378</span>).</p></li>
<li><p>Beat: Adds method <code class="docutils literal notranslate"><span class="pre">ScheduleEntry._default_now</span></code></p>
<blockquote>
<div><p>This method can be overridden to change the default value
of <code class="docutils literal notranslate"><span class="pre">last_run_at</span></code>.</p>
</div></blockquote>
</li>
<li><p>An error occurring in process cleanup could mask task errors.</p>
<p>We no longer propagate errors happening at process cleanup,
but log them instead. This way they won't interfere with publishing
the task result (<span class="xref issue">Issue #365</span>).</p>
</li>
<li><p>Defining tasks didn't work properly when using the Django
<code class="docutils literal notranslate"><span class="pre">shell_plus</span></code> utility (<span class="xref issue">Issue #366</span>).</p></li>
<li><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">AsyncResult.get</span></code> didn't accept the <code class="docutils literal notranslate"><span class="pre">interval</span></code> and <code class="docutils literal notranslate"><span class="pre">propagate</span></code></dt><dd><p>arguments.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>worker: Fixed a bug where the worker wouldn't shutdown if a</dt><dd><p><a class="reference external" href="https://docs.python.org/dev/library/socket.html#socket.error" title="（在 Python v3.15）"><code class="xref py py-exc docutils literal notranslate"><span class="pre">socket.error</span></code></a> was raised.</p>
</dd>
</dl>
</li>
</ul>
</section>
</section>
<section id="version-2-2-5">
<span id="id4"></span><h2>2.2.5<a class="headerlink" href="#version-2-2-5" title="Link to this heading">¶</a></h2>
<dl class="field-list simple">
<dt class="field-odd">release-date<span class="colon">:</span></dt>
<dd class="field-odd"><p>2011-03-28 06:00 p.m. CEST</p>
</dd>
<dt class="field-even">release-by<span class="colon">:</span></dt>
<dd class="field-even"><p>Ask Solem</p>
</dd>
</dl>
<section id="v225-important">
<span id="id5"></span><h3>Important Notes<a class="headerlink" href="#v225-important" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Now depends on Kombu 1.0.7</p></li>
</ul>
</section>
<section id="news">
<span id="v225-news"></span><h3>News<a class="headerlink" href="#news" title="Link to this heading">¶</a></h3>
<ul>
<li><p>Our documentation is now hosted by Read The Docs
(<a class="reference external" href="https://docs.celeryq.dev">https://docs.celeryq.dev</a>), and all links have been changed to point to
the new URL.</p></li>
<li><p>Logging: Now supports log rotation using external tools like <a class="reference external" href="http://www.ducea.com/2006/06/06/rotating-linux-log-files-part-2-logrotate/">logrotate.d</a>
(<span class="xref issue">Issue #321</span>)</p>
<blockquote>
<div><p>This is accomplished by using the <code class="docutils literal notranslate"><span class="pre">WatchedFileHandler</span></code>, which re-opens
the file if it's renamed or deleted.</p>
</div></blockquote>
</li>
</ul>
<ul>
<li><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">otherqueues</span></code> tutorial now documents how to configure Redis/Database result</dt><dd><p>backends.</p>
</dd>
</dl>
</li>
<li><p>gevent: Now supports ETA tasks.</p>
<blockquote>
<div><p>But gevent still needs <code class="docutils literal notranslate"><span class="pre">CELERY_DISABLE_RATE_LIMITS=True</span></code> to work.</p>
</div></blockquote>
</li>
<li><p>TaskSet User Guide: now contains TaskSet callback recipes.</p></li>
<li><p>Eventlet: New signals:</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">eventlet_pool_started</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">eventlet_pool_preshutdown</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">eventlet_pool_postshutdown</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">eventlet_pool_apply</span></code></p></li>
</ul>
<p>See <a class="reference internal" href="../reference/celery.signals.html#module-celery.signals" title="celery.signals"><code class="xref py py-mod docutils literal notranslate"><span class="pre">celery.signals</span></code></a> for more information.</p>
</div></blockquote>
</li>
<li><p>New <code class="xref std std-setting docutils literal notranslate"><span class="pre">BROKER_TRANSPORT_OPTIONS</span></code> setting can be used to pass
additional arguments to a particular broker transport.</p></li>
<li><p>worker: <code class="docutils literal notranslate"><span class="pre">worker_pid</span></code> is now part of the request info as returned by
broadcast commands.</p></li>
<li><p>TaskSet.apply/Taskset.apply_async now accepts an optional <code class="docutils literal notranslate"><span class="pre">taskset_id</span></code>
argument.</p></li>
<li><p>The taskset_id (if any) is now available in the Task request context.</p></li>
<li><p>SQLAlchemy result backend: taskset_id and taskset_id columns now have a
unique constraint (tables need to recreated for this to take affect).</p></li>
<li><p>Task user guide: Added section about choosing a result backend.</p></li>
<li><p>Removed unused attribute <code class="docutils literal notranslate"><span class="pre">AsyncResult.uuid</span></code>.</p></li>
</ul>
</section>
<section id="v225-fixes">
<span id="id6"></span><h3>Fixes<a class="headerlink" href="#v225-fixes" title="Link to this heading">¶</a></h3>
<ul>
<li><p>multiprocessing.Pool:  Fixes race condition when marking job with
<code class="docutils literal notranslate"><span class="pre">WorkerLostError</span></code> (<span class="xref issue">Issue #268</span>).</p>
<blockquote>
<div><p>The process may have published a result before it was terminated,
but we have no reliable way to detect that this is the case.</p>
<p>So we have to wait for 10 seconds before marking the result with
WorkerLostError. This gives the result handler a chance to retrieve the
result.</p>
</div></blockquote>
</li>
<li><p>multiprocessing.Pool: Shutdown could hang if rate limits disabled.</p>
<blockquote>
<div><p>There was a race condition when the MainThread was waiting for the pool
semaphore to be released. The ResultHandler now terminates after 5
seconds if there are unacked jobs, but no worker processes left to start
them  (it needs to timeout because there could still be an ack+result
that we haven't consumed from the result queue. It
is unlikely we'll receive any after 5 seconds with no worker processes).</p>
</div></blockquote>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">celerybeat</span></code>: Now creates pidfile even if the <code class="docutils literal notranslate"><span class="pre">--detach</span></code> option isn't set.</p></li>
<li><p>eventlet/gevent: The broadcast command consumer is now running in a separate
green-thread.</p>
<blockquote>
<div><p>This ensures broadcast commands will take priority even if there are many
active tasks.</p>
</div></blockquote>
</li>
<li><p>Internal module <code class="docutils literal notranslate"><span class="pre">celery.worker.controllers</span></code> renamed to
<code class="docutils literal notranslate"><span class="pre">celery.worker.mediator</span></code>.</p></li>
<li><p>worker: Threads now terminates the program by calling <code class="docutils literal notranslate"><span class="pre">os._exit</span></code>, as it
is the only way to ensure exit in the case of syntax errors, or other
unrecoverable errors.</p></li>
<li><p>Fixed typo in <code class="docutils literal notranslate"><span class="pre">maybe_timedelta</span></code> (<span class="xref issue">Issue #352</span>).</p></li>
<li><p>worker: Broadcast commands now logs with loglevel debug instead of warning.</p></li>
<li><p>AMQP Result Backend: Now resets cached channel if the connection is lost.</p></li>
<li><p>Polling results with the AMQP result backend wasn't working properly.</p></li>
<li><p>Rate limits: No longer sleeps if there are no tasks, but rather waits for
the task received condition (Performance improvement).</p></li>
<li><p>ConfigurationView: <code class="docutils literal notranslate"><span class="pre">iter(dict)</span></code> should return keys, not items (<span class="xref issue">Issue #362</span>).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">celerybeat</span></code>:  PersistentScheduler now automatically removes a corrupted
schedule file (<span class="xref issue">Issue #346</span>).</p></li>
<li><p>Programs that doesn't support positional command-line arguments now provides
a user friendly error message.</p></li>
<li><p>Programs no longer tries to load the configuration file when showing
<code class="docutils literal notranslate"><span class="pre">--version</span></code> (<span class="xref issue">Issue #347</span>).</p></li>
<li><p>Autoscaler: The &quot;all processes busy&quot; log message is now severity debug
instead of error.</p></li>
<li><p>worker: If the message body can't be decoded, it's now passed through
<code class="docutils literal notranslate"><span class="pre">safe_str</span></code> when logging.</p>
<blockquote>
<div><p>This to ensure we don't get additional decoding errors when trying to log
the failure.</p>
</div></blockquote>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">app.config_from_object</span></code>/<code class="docutils literal notranslate"><span class="pre">app.config_from_envvar</span></code> now works for all
loaders.</p></li>
<li><p>Now emits a user-friendly error message if the result backend name is
unknown (<span class="xref issue">Issue #349</span>).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">celery.contrib.batches</span></code>: Now sets loglevel and logfile in the task
request so <code class="docutils literal notranslate"><span class="pre">task.get_logger</span></code> works with batch tasks (<span class="xref issue">Issue #357</span>).</p></li>
<li><p>worker: An exception was raised if using the amqp transport and the prefetch
count value exceeded 65535 (<span class="xref issue">Issue #359</span>).</p>
<blockquote>
<div><p>The prefetch count is incremented for every received task with an
ETA/countdown defined. The prefetch count is a short, so can only support
a maximum value of 65535. If the value exceeds the maximum value we now
disable the prefetch count, it's re-enabled as soon as the value is below
the limit again.</p>
</div></blockquote>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">cursesmon</span></code>: Fixed unbound local error (<span class="xref issue">Issue #303</span>).</p></li>
<li><p>eventlet/gevent is now imported on demand so autodoc can import the modules
without having eventlet/gevent installed.</p></li>
<li><p>worker: Ack callback now properly handles <code class="docutils literal notranslate"><span class="pre">AttributeError</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Task.after_return</span></code> is now always called <em>after</em> the result has been
written.</p></li>
<li><p>Cassandra Result Backend: Should now work with the latest <code class="docutils literal notranslate"><span class="pre">pycassa</span></code>
version.</p></li>
<li><p>multiprocessing.Pool: No longer cares if the <code class="docutils literal notranslate"><span class="pre">putlock</span></code> semaphore is released
too many times (this can happen if one or more worker processes are
killed).</p></li>
<li><p>SQLAlchemy Result Backend: Now returns accidentally removed <code class="docutils literal notranslate"><span class="pre">date_done</span></code> again
(<span class="xref issue">Issue #325</span>).</p></li>
<li><p>Task.request context is now always initialized to ensure calling the task
function directly works even if it actively uses the request context.</p></li>
<li><p>Exception occurring when iterating over the result from <code class="docutils literal notranslate"><span class="pre">TaskSet.apply</span></code>
fixed.</p></li>
<li><p>eventlet: Now properly schedules tasks with an ETA in the past.</p></li>
</ul>
</section>
</section>
<section id="version-2-2-4">
<span id="id7"></span><h2>2.2.4<a class="headerlink" href="#version-2-2-4" title="Link to this heading">¶</a></h2>
<dl class="field-list simple">
<dt class="field-odd">release-date<span class="colon">:</span></dt>
<dd class="field-odd"><p>2011-02-19 00:00 AM CET</p>
</dd>
<dt class="field-even">release-by<span class="colon">:</span></dt>
<dd class="field-even"><p>Ask Solem</p>
</dd>
</dl>
<section id="v224-fixes">
<span id="id8"></span><h3>Fixes<a class="headerlink" href="#v224-fixes" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>worker: 2.2.3 broke error logging, resulting in tracebacks not being logged.</p></li>
<li><p>AMQP result backend: Polling task states didn't work properly if there were
more than one result message in the queue.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">TaskSet.apply_async()</span></code> and <code class="docutils literal notranslate"><span class="pre">TaskSet.apply()</span></code> now supports an optional
<code class="docutils literal notranslate"><span class="pre">taskset_id</span></code> keyword argument (<span class="xref issue">Issue #331</span>).</p></li>
<li><p>The current taskset id (if any) is now available in the task context as
<code class="docutils literal notranslate"><span class="pre">request.taskset</span></code> (<span class="xref issue">Issue #329</span>).</p></li>
<li><p>SQLAlchemy result backend: <cite>date_done</cite> was no longer part of the results as it had
been accidentally removed. It's now available again (<span class="xref issue">Issue #325</span>).</p></li>
<li><p>SQLAlchemy result backend: Added unique constraint on <cite>Task.id</cite> and
<cite>TaskSet.taskset_id</cite>. Tables needs to be recreated for this to take effect.</p></li>
<li><p>Fixed exception raised when iterating on the result of <code class="docutils literal notranslate"><span class="pre">TaskSet.apply()</span></code>.</p></li>
<li><p>Tasks user guide: Added section on choosing a result backend.</p></li>
</ul>
</section>
</section>
<section id="version-2-2-3">
<span id="id9"></span><h2>2.2.3<a class="headerlink" href="#version-2-2-3" title="Link to this heading">¶</a></h2>
<dl class="field-list simple">
<dt class="field-odd">release-date<span class="colon">:</span></dt>
<dd class="field-odd"><p>2011-02-12 04:00 p.m. CET</p>
</dd>
<dt class="field-even">release-by<span class="colon">:</span></dt>
<dd class="field-even"><p>Ask Solem</p>
</dd>
</dl>
<section id="v223-fixes">
<span id="id10"></span><h3>Fixes<a class="headerlink" href="#v223-fixes" title="Link to this heading">¶</a></h3>
<ul>
<li><p>Now depends on <a class="extlink-pypi reference external" href="https://pypi.org/project/Kombu/">https://pypi.org/project/Kombu/</a> 1.0.3</p></li>
<li><p>Task.retry now supports a <code class="docutils literal notranslate"><span class="pre">max_retries</span></code> argument, used to change the
default value.</p></li>
<li><p><cite>multiprocessing.cpu_count</cite> may raise <a class="reference external" href="https://docs.python.org/dev/library/exceptions.html#NotImplementedError" title="（在 Python v3.15）"><code class="xref py py-exc docutils literal notranslate"><span class="pre">NotImplementedError</span></code></a> on
platforms where this isn't supported (<span class="xref issue">Issue #320</span>).</p></li>
<li><p>Coloring of log messages broke if the logged object wasn't a string.</p></li>
<li><p>Fixed several typos in the init-script documentation.</p></li>
<li><p>A regression caused <cite>Task.exchange</cite> and <cite>Task.routing_key</cite> to no longer
have any effect. This is now fixed.</p></li>
<li><p>Routing user guide: Fixes typo, routers in <code class="xref std std-setting docutils literal notranslate"><span class="pre">CELERY_ROUTES</span></code> must be
instances, not classes.</p></li>
<li><p><strong class="program">celeryev</strong> didn't create pidfile even though the
<a class="reference internal" href="../reference/cli.html#cmdoption-celery-events-pidfile"><code class="xref std std-option docutils literal notranslate"><span class="pre">--pidfile</span></code></a> argument was set.</p></li>
<li><p>Task logger format was no longer used (<span class="xref issue">Issue #317</span>).</p>
<blockquote>
<div><p>The id and name of the task is now part of the log message again.</p>
</div></blockquote>
</li>
<li><p>A safe version of <code class="docutils literal notranslate"><span class="pre">repr()</span></code> is now used in strategic places to ensure
objects with a broken <code class="docutils literal notranslate"><span class="pre">__repr__</span></code> doesn't crash the worker, or otherwise
make errors hard to understand (<span class="xref issue">Issue #298</span>).</p></li>
<li><p>Remote control command <a class="reference internal" href="../userguide/workers.html#std-control-active_queues"><code class="xref std std-control docutils literal notranslate"><span class="pre">active_queues</span></code></a>: didn't account for queues added
at runtime.</p>
<blockquote>
<div><p>In addition the dictionary replied by this command now has a different
structure: the exchange key is now a dictionary containing the
exchange declaration in full.</p>
</div></blockquote>
</li>
<li><p>The <a class="reference internal" href="../reference/cli.html#cmdoption-celery-worker-Q"><code class="xref std std-option docutils literal notranslate"><span class="pre">celery</span> <span class="pre">worker</span> <span class="pre">-Q</span></code></a> option removed unused queue
declarations, so routing of tasks could fail.</p>
<blockquote>
<div><p>Queues are no longer removed, but rather <cite>app.amqp.queues.consume_from()</cite>
is used as the list of queues to consume from.</p>
<p>This ensures all queues are available for routing purposes.</p>
</div></blockquote>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">celeryctl</span></code>: Now supports the <cite>inspect active_queues</cite> command.</p></li>
</ul>
</section>
</section>
<section id="version-2-2-2">
<span id="id11"></span><h2>2.2.2<a class="headerlink" href="#version-2-2-2" title="Link to this heading">¶</a></h2>
<dl class="field-list simple">
<dt class="field-odd">release-date<span class="colon">:</span></dt>
<dd class="field-odd"><p>2011-02-03 04:00 p.m. CET</p>
</dd>
<dt class="field-even">release-by<span class="colon">:</span></dt>
<dd class="field-even"><p>Ask Solem</p>
</dd>
</dl>
<section id="v222-fixes">
<span id="id12"></span><h3>Fixes<a class="headerlink" href="#v222-fixes" title="Link to this heading">¶</a></h3>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">celerybeat</span></code> couldn't read the schedule properly, so entries in
<code class="xref std std-setting docutils literal notranslate"><span class="pre">CELERYBEAT_SCHEDULE</span></code> wouldn't be scheduled.</p></li>
<li><p>Task error log message now includes <cite>exc_info</cite> again.</p></li>
<li><p>The <cite>eta</cite> argument can now be used with <cite>task.retry</cite>.</p>
<blockquote>
<div><p>Previously it was overwritten by the countdown argument.</p>
</div></blockquote>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">celery</span> <span class="pre">multi</span></code>/<code class="docutils literal notranslate"><span class="pre">celeryd_detach</span></code>: Now logs errors occurring when executing
the <cite>celery worker</cite> command.</p></li>
<li><p>daemonizing tutorial: Fixed typo <code class="docutils literal notranslate"><span class="pre">--time-limit</span> <span class="pre">300</span></code> -&gt;
<code class="docutils literal notranslate"><span class="pre">--time-limit=300</span></code></p></li>
<li><p>Colors in logging broke non-string objects in log messages.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">setup_task_logger</span></code> no longer makes assumptions about magic task kwargs.</p></li>
</ul>
</section>
</section>
<section id="version-2-2-1">
<span id="id13"></span><h2>2.2.1<a class="headerlink" href="#version-2-2-1" title="Link to this heading">¶</a></h2>
<dl class="field-list simple">
<dt class="field-odd">release-date<span class="colon">:</span></dt>
<dd class="field-odd"><p>2011-02-02 04:00 p.m. CET</p>
</dd>
<dt class="field-even">release-by<span class="colon">:</span></dt>
<dd class="field-even"><p>Ask Solem</p>
</dd>
</dl>
<section id="v221-fixes">
<span id="id14"></span><h3>Fixes<a class="headerlink" href="#v221-fixes" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Eventlet pool was leaking memory (<span class="xref issue">Issue #308</span>).</p></li>
<li><p>Deprecated function <code class="docutils literal notranslate"><span class="pre">celery.execute.delay_task</span></code> was accidentally removed,
now available again.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">BasePool.on_terminate</span></code> stub didn't exist</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">celeryd_detach</span></code>: Adds readable error messages if user/group name
doesn't exist.</p></li>
<li><p>Smarter handling of unicode decode errors when logging errors.</p></li>
</ul>
</section>
</section>
<section id="version-2-2-0">
<span id="id15"></span><h2>2.2.0<a class="headerlink" href="#version-2-2-0" title="Link to this heading">¶</a></h2>
<dl class="field-list simple">
<dt class="field-odd">release-date<span class="colon">:</span></dt>
<dd class="field-odd"><p>2011-02-01 10:00 AM CET</p>
</dd>
<dt class="field-even">release-by<span class="colon">:</span></dt>
<dd class="field-even"><p>Ask Solem</p>
</dd>
</dl>
<section id="v220-important">
<span id="id16"></span><h3>Important Notes<a class="headerlink" href="#v220-important" title="Link to this heading">¶</a></h3>
<ul>
<li><p>Carrot has been replaced with <a class="extlink-pypi reference external" href="https://pypi.org/project/Kombu/">https://pypi.org/project/Kombu/</a></p>
<blockquote>
<div><p>Kombu is the next generation messaging library for Python,
fixing several flaws present in Carrot that was hard to fix
without breaking backwards compatibility.</p>
<p>Also it adds:</p>
<ul class="simple">
<li><p>First-class support for virtual transports; Redis, Django ORM,
SQLAlchemy, Beanstalk, MongoDB, CouchDB and in-memory.</p></li>
<li><p>Consistent error handling with introspection,</p></li>
<li><p>The ability to ensure that an operation is performed by gracefully
handling connection and channel errors,</p></li>
<li><p>Message compression (<a class="reference external" href="https://docs.python.org/dev/library/zlib.html#module-zlib" title="（在 Python v3.15）"><code class="xref py py-mod docutils literal notranslate"><span class="pre">zlib</span></code></a>, <a class="reference external" href="https://docs.python.org/dev/library/bz2.html#module-bz2" title="（在 Python v3.15）"><code class="xref py py-mod docutils literal notranslate"><span class="pre">bz2</span></code></a>, or custom compression schemes).</p></li>
</ul>
<p>This means that <cite>ghettoq</cite> is no longer needed as the
functionality it provided is already available in Celery by default.
The virtual transports are also more feature complete with support
for exchanges (direct and topic). The Redis transport even supports
fanout exchanges so it's able to perform worker remote control
commands.</p>
</div></blockquote>
</li>
<li><p>Magic keyword arguments pending deprecation.</p>
<blockquote>
<div><p>The magic keyword arguments were responsible for many problems
and quirks: notably issues with tasks and decorators, and name
collisions in keyword arguments for the unaware.</p>
<p>It wasn't easy to find a way to deprecate the magic keyword arguments,
but we think this is a solution that makes sense and it won't
have any adverse effects for existing code.</p>
<p>The path to a magic keyword argument free world is:</p>
<blockquote>
<div><ul class="simple">
<li><p>the <cite>celery.decorators</cite> module is deprecated and the decorators
can now be found in <cite>celery.task</cite>.</p></li>
<li><p>The decorators in <cite>celery.task</cite> disables keyword arguments by
default</p></li>
<li><p>All examples in the documentation have been changed to use
<cite>celery.task</cite>.</p></li>
</ul>
<p>This means that the following will have magic keyword arguments
enabled (old style):</p>
<blockquote>
<div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">celery.decorators</span><span class="w"> </span><span class="kn">import</span> <span class="n">task</span>

<span class="nd">@task</span><span class="p">()</span>
<span class="k">def</span><span class="w"> </span><span class="nf">add</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;In task </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">kwargs</span><span class="p">[</span><span class="s1">&#39;task_id&#39;</span><span class="p">])</span>
    <span class="k">return</span> <span class="n">x</span> <span class="o">+</span> <span class="n">y</span>
</pre></div>
</div>
</div></blockquote>
<p>And this won't use magic keyword arguments (new style):</p>
<blockquote>
<div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">celery.task</span><span class="w"> </span><span class="kn">import</span> <span class="n">task</span>

<span class="nd">@task</span><span class="p">()</span>
<span class="k">def</span><span class="w"> </span><span class="nf">add</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;In task </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">add</span><span class="o">.</span><span class="n">request</span><span class="o">.</span><span class="n">id</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">x</span> <span class="o">+</span> <span class="n">y</span>
</pre></div>
</div>
</div></blockquote>
</div></blockquote>
<p>In addition, tasks can choose not to accept magic keyword arguments by
setting the <cite>task.accept_magic_kwargs</cite> attribute.</p>
<div class="admonition-deprecation admonition">
<p class="admonition-title">Deprecation</p>
<p>Using the decorators in <code class="xref py py-mod docutils literal notranslate"><span class="pre">celery.decorators</span></code> emits a
<a class="reference external" href="https://docs.python.org/dev/library/exceptions.html#PendingDeprecationWarning" title="（在 Python v3.15）"><code class="xref py py-class docutils literal notranslate"><span class="pre">PendingDeprecationWarning</span></code></a> with a helpful message urging
you to change your code, in version 2.4 this will be replaced with
a <a class="reference external" href="https://docs.python.org/dev/library/exceptions.html#DeprecationWarning" title="（在 Python v3.15）"><code class="xref py py-class docutils literal notranslate"><span class="pre">DeprecationWarning</span></code></a>, and in version 4.0 the
<code class="xref py py-mod docutils literal notranslate"><span class="pre">celery.decorators</span></code> module will be removed and no longer exist.</p>
<p>Similarly, the <cite>task.accept_magic_kwargs</cite> attribute will no
longer have any effect starting from version 4.0.</p>
</div>
</div></blockquote>
</li>
<li><p>The magic keyword arguments are now available as <cite>task.request</cite></p>
<blockquote>
<div><p>This is called <em>the context</em>. Using thread-local storage the
context contains state that's related to the current request.</p>
<p>It's mutable and you can add custom attributes that'll only be seen
by the current task request.</p>
<p>The following context attributes are always available:</p>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p><strong>Magic Keyword Argument</strong></p></th>
<th class="head"><p><strong>Replace with</strong></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><cite>kwargs['task_id']</cite></p></td>
<td><p><cite>self.request.id</cite></p></td>
</tr>
<tr class="row-odd"><td><p><cite>kwargs['delivery_info']</cite></p></td>
<td><p><cite>self.request.delivery_info</cite></p></td>
</tr>
<tr class="row-even"><td><p><cite>kwargs['task_retries']</cite></p></td>
<td><p><cite>self.request.retries</cite></p></td>
</tr>
<tr class="row-odd"><td><p><cite>kwargs['logfile']</cite></p></td>
<td><p><cite>self.request.logfile</cite></p></td>
</tr>
<tr class="row-even"><td><p><cite>kwargs['loglevel']</cite></p></td>
<td><p><cite>self.request.loglevel</cite></p></td>
</tr>
<tr class="row-odd"><td><p><cite>kwargs['task_is_eager']</cite></p></td>
<td><p><cite>self.request.is_eager</cite></p></td>
</tr>
<tr class="row-even"><td><p><strong>NEW</strong></p></td>
<td><p><cite>self.request.args</cite></p></td>
</tr>
<tr class="row-odd"><td><p><strong>NEW</strong></p></td>
<td><p><cite>self.request.kwargs</cite></p></td>
</tr>
</tbody>
</table>
</div>
<p>In addition, the following methods now automatically uses the current
context, so you don't have to pass <cite>kwargs</cite> manually anymore:</p>
<blockquote>
<div><ul class="simple">
<li><p><cite>task.retry</cite></p></li>
<li><p><cite>task.get_logger</cite></p></li>
<li><p><cite>task.update_state</cite></p></li>
</ul>
</div></blockquote>
</div></blockquote>
</li>
<li><p><a class="reference external" href="http://eventlet.net">Eventlet</a> support.</p>
<blockquote>
<div><p>This is great news for I/O-bound tasks!</p>
<p>To change pool implementations you use the <a class="reference internal" href="../reference/cli.html#cmdoption-celery-worker-P"><code class="xref std std-option docutils literal notranslate"><span class="pre">celery</span> <span class="pre">worker</span> <span class="pre">--pool</span></code></a>
argument, or globally using the
<code class="xref std std-setting docutils literal notranslate"><span class="pre">CELERYD_POOL</span></code> setting. This can be the full name of a class,
or one of the following aliases: <cite>processes</cite>, <cite>eventlet</cite>, <cite>gevent</cite>.</p>
<p>For more information please see the <a class="reference internal" href="../userguide/concurrency/gevent.html#concurrency-eventlet"><span class="std std-ref">gevent 并发</span></a> section
in the User Guide.</p>
<div class="admonition-why-not-gevent admonition">
<p class="admonition-title">Why not gevent?</p>
<p>For our first alternative concurrency implementation we've focused
on <a class="reference external" href="http://eventlet.net">Eventlet</a>, but there's also an experimental <a class="reference external" href="http://gevent.org">gevent</a> pool
available. This is missing some features, notably the ability to
schedule ETA tasks.</p>
<p>Hopefully the <a class="reference external" href="http://gevent.org">gevent</a> support will be feature complete by
version 2.3, but this depends on user demand (and contributions).</p>
</div>
</div></blockquote>
</li>
</ul>
<ul>
<li><p>Python 2.4 support deprecated!</p>
<blockquote>
<div><p>We're happy^H^H^H^H^Hsad to announce that this is the last version
to support Python 2.4.</p>
<p>You're urged to make some noise if you're currently stuck with
Python 2.4. Complain to your package maintainers, sysadmins and bosses:
tell them it's time to move on!</p>
<p>Apart from wanting to take advantage of <a class="reference external" href="https://docs.python.org/dev/reference/compound_stmts.html#with" title="（在 Python v3.15）"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">with</span></code></a> statements,
coroutines, conditional expressions and enhanced <a class="reference external" href="https://docs.python.org/dev/reference/compound_stmts.html#try" title="（在 Python v3.15）"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">try</span></code></a> blocks,
the code base now contains so many 2.4 related hacks and workarounds
it's no longer just a compromise, but a sacrifice.</p>
<p>If it really isn't your choice, and you don't have the option to upgrade
to a newer version of Python, you can just continue to use Celery 2.2.
Important fixes can be back ported for as long as there's interest.</p>
</div></blockquote>
</li>
<li><p>worker: Now supports Autoscaling of child worker processes.</p>
<blockquote>
<div><p>The <a class="reference internal" href="../reference/cli.html#cmdoption-celery-worker-autoscale"><code class="xref std std-option docutils literal notranslate"><span class="pre">--autoscale</span></code></a> option can be used
to configure the minimum and maximum number of child worker processes:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>--autoscale=AUTOSCALE
     Enable autoscaling by providing
     max_concurrency,min_concurrency. Example:
       --autoscale=10,3 (always keep 3 processes, but grow to
      10 if necessary).
</pre></div>
</div>
</div></blockquote>
</li>
<li><p>Remote Debugging of Tasks</p>
<blockquote>
<div><p><code class="docutils literal notranslate"><span class="pre">celery.contrib.rdb</span></code> is an extended version of <a class="reference external" href="https://docs.python.org/dev/library/pdb.html#module-pdb" title="（在 Python v3.15）"><code class="xref py py-mod docutils literal notranslate"><span class="pre">pdb</span></code></a> that
enables remote debugging of processes that doesn't have terminal
access.</p>
<p>Example usage:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>    from celery.contrib import rdb
    from celery.task import task

    @task()
    def add(x, y):
        result = x + y
        # set breakpoint
        rdb.set_trace()
        return result

:func:`~celery.contrib.rdb.set_trace` sets a breakpoint at the current
location and creates a socket you can telnet into to remotely debug
your task.

The debugger may be started by multiple processes at the same time,
so rather than using a fixed port the debugger will search for an
available port, starting from the base port (6900 by default).
The base port can be changed using the environment variable
:envvar:`CELERY_RDB_PORT`.

By default the debugger will only be available from the local host,
to enable access from the outside you have to set the environment
variable :envvar:`CELERY_RDB_HOST`.

When the worker encounters your breakpoint it will log the following
information::

    [INFO/MainProcess] Received task:
        tasks.add[d7261c71-4962-47e5-b342-2448bedd20e8]
    [WARNING/PoolWorker-1] Remote Debugger:6900:
        Please telnet 127.0.0.1 6900.  Type `exit` in session to continue.
    [2011-01-18 14:25:44,119: WARNING/PoolWorker-1] Remote Debugger:6900:
        Waiting for client...

If you telnet the port specified you&#39;ll be presented
with a ``pdb`` shell:

.. code-block:: console

    $ telnet localhost 6900
    Connected to localhost.
    Escape character is &#39;^]&#39;.
    &gt; /opt/devel/demoapp/tasks.py(128)add()
    -&gt; return result
    (Pdb)

Enter ``help`` to get a list of available commands,
It may be a good idea to read the `Python Debugger Manual`_ if
you have never used `pdb` before.
</pre></div>
</div>
</div></blockquote>
</li>
</ul>
<ul>
<li><p>Events are now transient and is using a topic exchange (instead of direct).</p>
<blockquote>
<div><p>The <cite>CELERYD_EVENT_EXCHANGE</cite>, <cite>CELERYD_EVENT_ROUTING_KEY</cite>,
<cite>CELERYD_EVENT_EXCHANGE_TYPE</cite> settings are no longer in use.</p>
<p>This means events won't be stored until there's a consumer, and the
events will be gone as soon as the consumer stops. Also it means there
can be multiple monitors running at the same time.</p>
<p>The routing key of an event is the type of event (e.g., <cite>worker.started</cite>,
<cite>worker.heartbeat</cite>, <cite>task.succeeded</cite>, etc. This means a consumer can
filter on specific types, to only be alerted of the events it cares about.</p>
<p>Each consumer will create a unique queue, meaning it's in effect a
broadcast exchange.</p>
<p>This opens up a lot of possibilities, for example the workers could listen
for worker events to know what workers are in the neighborhood, and even
restart workers when they go down (or use this information to optimize
tasks/autoscaling).</p>
<div class="admonition note">
<p class="admonition-title">备注</p>
<p>The event exchange has been renamed from <code class="docutils literal notranslate"><span class="pre">&quot;celeryevent&quot;</span></code>
to <code class="docutils literal notranslate"><span class="pre">&quot;celeryev&quot;</span></code> so it doesn't collide with older versions.</p>
<p>If you'd like to remove the old exchange you can do so
by executing the following command:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>camqadm<span class="w"> </span>exchange.delete<span class="w"> </span>celeryevent
</pre></div>
</div>
</div>
</div></blockquote>
</li>
<li><p>The worker now starts without configuration, and configuration can be
specified directly on the command-line.</p>
<p>Configuration options must appear after the last argument, separated
by two dashes:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>celery<span class="w"> </span>worker<span class="w"> </span>-l<span class="w"> </span>info<span class="w"> </span>-I<span class="w"> </span>tasks<span class="w"> </span>--<span class="w"> </span>broker.host<span class="o">=</span>localhost<span class="w"> </span>broker.vhost<span class="o">=</span>/app
</pre></div>
</div>
</li>
<li><p>Configuration is now an alias to the original configuration, so changes
to the original will reflect Celery at runtime.</p></li>
<li><p><cite>celery.conf</cite> has been deprecated, and modifying <cite>celery.conf.ALWAYS_EAGER</cite>
will no longer have any effect.</p>
<blockquote>
<div><p>The default configuration is now available in the
<a class="reference internal" href="../reference/celery.app.defaults.html#module-celery.app.defaults" title="celery.app.defaults"><code class="xref py py-mod docutils literal notranslate"><span class="pre">celery.app.defaults</span></code></a> module. The available configuration options
and their types can now be introspected.</p>
</div></blockquote>
</li>
<li><p>Remote control commands are now provided by <cite>kombu.pidbox</cite>, the generic
process mailbox.</p></li>
<li><p>Internal module <cite>celery.worker.listener</cite> has been renamed to
<cite>celery.worker.consumer</cite>, and <cite>.CarrotListener</cite> is now <cite>.Consumer</cite>.</p></li>
<li><p>Previously deprecated modules <cite>celery.models</cite> and
<cite>celery.management.commands</cite> have now been removed as per the deprecation
time-line.</p></li>
<li><dl>
<dt>[Security: Low severity] Removed <cite>celery.task.RemoteExecuteTask</cite> and</dt><dd><p>accompanying functions: <cite>dmap</cite>, <cite>dmap_async</cite>, and <cite>execute_remote</cite>.</p>
<p>Executing arbitrary code using pickle is a potential security issue if
someone gains unrestricted access to the message broker.</p>
<p>If you really need this functionality, then you'd've to add
this to your own project.</p>
</dd>
</dl>
</li>
<li><p>[Security: Low severity] The <cite>stats</cite> command no longer transmits the
broker password.</p>
<blockquote>
<div><p>One would've needed an authenticated broker connection to receive
this password in the first place, but sniffing the password at the
wire level would've been possible if using unencrypted communication.</p>
</div></blockquote>
</li>
</ul>
</section>
<section id="v220-news">
<span id="id17"></span><h3>News<a class="headerlink" href="#v220-news" title="Link to this heading">¶</a></h3>
<ul>
<li><p>The internal module <cite>celery.task.builtins</cite> has been removed.</p></li>
<li><p>The module <cite>celery.task.schedules</cite> is deprecated, and
<cite>celery.schedules</cite> should be used instead.</p>
<blockquote>
<div><p>For example if you have:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">celery.task.schedules</span><span class="w"> </span><span class="kn">import</span> <span class="n">crontab</span>
</pre></div>
</div>
<p>You should replace that with:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">celery.schedules</span><span class="w"> </span><span class="kn">import</span> <span class="n">crontab</span>
</pre></div>
</div>
<p>The module needs to be renamed because it must be possible
to import schedules without importing the <cite>celery.task</cite> module.</p>
</div></blockquote>
</li>
<li><p>The following functions have been deprecated and is scheduled for
removal in version 2.3:</p>
<blockquote>
<div><ul>
<li><p><cite>celery.execute.apply_async</cite></p>
<blockquote>
<div><p>Use <cite>task.apply_async()</cite> instead.</p>
</div></blockquote>
</li>
<li><p><cite>celery.execute.apply</cite></p>
<blockquote>
<div><p>Use <cite>task.apply()</cite> instead.</p>
</div></blockquote>
</li>
<li><p><cite>celery.execute.delay_task</cite></p>
<blockquote>
<div><p>Use <cite>registry.tasks[name].delay()</cite> instead.</p>
</div></blockquote>
</li>
</ul>
</div></blockquote>
</li>
<li><p>Importing <cite>TaskSet</cite> from <cite>celery.task.base</cite> is now deprecated.</p>
<blockquote>
<div><p>You should use:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">celery.task</span><span class="w"> </span><span class="kn">import</span> <span class="n">TaskSet</span>
</pre></div>
</div>
<p>instead.</p>
</div></blockquote>
</li>
<li><p>New remote control commands:</p>
<blockquote>
<div><ul>
<li><p><cite>active_queues</cite></p>
<blockquote>
<div><p>Returns the queue declarations a worker is currently consuming from.</p>
</div></blockquote>
</li>
</ul>
</div></blockquote>
</li>
<li><p>Added the ability to retry publishing the task message in
the event of connection loss or failure.</p>
<blockquote>
<div><p>This is disabled by default but can be enabled using the
<code class="xref std std-setting docutils literal notranslate"><span class="pre">CELERY_TASK_PUBLISH_RETRY</span></code> setting, and tweaked by
the <code class="xref std std-setting docutils literal notranslate"><span class="pre">CELERY_TASK_PUBLISH_RETRY_POLICY</span></code> setting.</p>
<p>In addition <cite>retry</cite>, and <cite>retry_policy</cite> keyword arguments have
been added to <cite>Task.apply_async</cite>.</p>
<div class="admonition note">
<p class="admonition-title">备注</p>
<p>Using the <cite>retry</cite> argument to <cite>apply_async</cite> requires you to
handle the publisher/connection manually.</p>
</div>
</div></blockquote>
</li>
<li><p>Periodic Task classes (<cite>&#64;periodic_task</cite>/<cite>PeriodicTask</cite>) will <em>not</em> be
deprecated as previously indicated in the source code.</p>
<blockquote>
<div><p>But you're encouraged to use the more flexible
<code class="xref std std-setting docutils literal notranslate"><span class="pre">CELERYBEAT_SCHEDULE</span></code> setting.</p>
</div></blockquote>
</li>
<li><p>Built-in daemonization support of the worker using <cite>celery multi</cite>
is no longer experimental and is considered production quality.</p>
<blockquote>
<div><p>See <a class="reference internal" href="../userguide/daemonizing.html#daemon-generic"><span class="std std-ref">通用初始化脚本</span></a> if you want to use the new generic init
scripts.</p>
</div></blockquote>
</li>
<li><p>Added support for message compression using the
<code class="xref std std-setting docutils literal notranslate"><span class="pre">CELERY_MESSAGE_COMPRESSION</span></code> setting, or the <cite>compression</cite> argument
to <cite>apply_async</cite>. This can also be set using routers.</p></li>
<li><dl>
<dt>worker: Now logs stack-trace of all threads when receiving the</dt><dd><p><cite>SIGUSR1</cite> signal (doesn't work on CPython 2.4, Windows or Jython).</p>
<blockquote>
<div><p>Inspired by <a class="reference external" href="https://gist.github.com/737056">https://gist.github.com/737056</a></p>
</div></blockquote>
</dd>
</dl>
</li>
<li><p>Can now remotely terminate/kill the worker process currently processing
a task.</p>
<blockquote>
<div><p>The <cite>revoke</cite> remote control command now supports a <cite>terminate</cite> argument
Default signal is <cite>TERM</cite>, but can be specified using the <cite>signal</cite>
argument. Signal can be the uppercase name of any signal defined
in the <a class="reference external" href="https://docs.python.org/dev/library/signal.html#module-signal" title="（在 Python v3.15）"><code class="xref py py-mod docutils literal notranslate"><span class="pre">signal</span></code></a> module in the Python Standard Library.</p>
<p>Terminating a task also revokes it.</p>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">celery.task.control</span><span class="w"> </span><span class="kn">import</span> <span class="n">revoke</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">revoke</span><span class="p">(</span><span class="n">task_id</span><span class="p">,</span> <span class="n">terminate</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">revoke</span><span class="p">(</span><span class="n">task_id</span><span class="p">,</span> <span class="n">terminate</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">signal</span><span class="o">=</span><span class="s1">&#39;KILL&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">revoke</span><span class="p">(</span><span class="n">task_id</span><span class="p">,</span> <span class="n">terminate</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">signal</span><span class="o">=</span><span class="s1">&#39;SIGKILL&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div></blockquote>
</li>
<li><p><cite>TaskSetResult.join_native</cite>: Backend-optimized version of <cite>join()</cite>.</p>
<blockquote>
<div><p>If available, this version uses the backends ability to retrieve
multiple results at once, unlike <cite>join()</cite> which fetches the results
one by one.</p>
<p>So far only supported by the AMQP result backend. Support for Memcached
and Redis may be added later.</p>
</div></blockquote>
</li>
<li><p>Improved implementations of <cite>TaskSetResult.join</cite> and <cite>AsyncResult.wait</cite>.</p>
<blockquote>
<div><p>An <cite>interval</cite> keyword argument have been added to both so the
polling interval can be specified (default interval is 0.5 seconds).</p>
<blockquote>
<div><p>A <cite>propagate</cite> keyword argument have been added to <cite>result.wait()</cite>,
errors will be returned instead of raised if this is set to False.</p>
<div class="admonition warning">
<p class="admonition-title">警告</p>
<p>You should decrease the polling interval when using the database
result backend, as frequent polling can result in high database load.</p>
</div>
</div></blockquote>
</div></blockquote>
</li>
<li><p>The PID of the child worker process accepting a task is now sent as a field
with the <a class="reference internal" href="../userguide/monitoring.html#std-event-task-started"><code class="xref std std-event docutils literal notranslate"><span class="pre">task-started</span></code></a> event.</p></li>
<li><p>The following fields have been added to all events in the worker class:</p>
<blockquote>
<div><ul class="simple">
<li><p><cite>sw_ident</cite>: Name of worker software (e.g., <code class="docutils literal notranslate"><span class="pre">&quot;py-celery&quot;</span></code>).</p></li>
<li><p><cite>sw_ver</cite>: Software version (e.g., 2.2.0).</p></li>
<li><p><cite>sw_sys</cite>: Operating System (e.g., Linux, Windows, Darwin).</p></li>
</ul>
</div></blockquote>
</li>
<li><p>For better accuracy the start time reported by the multiprocessing worker
process is used when calculating task duration.</p>
<blockquote>
<div><p>Previously the time reported by the accept callback was used.</p>
</div></blockquote>
</li>
<li><dl class="simple">
<dt><cite>celerybeat</cite>: New built-in daemonization support using the <cite>--detach</cite></dt><dd><p>option.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><cite>celeryev</cite>: New built-in daemonization support using the <cite>--detach</cite></dt><dd><p>option.</p>
</dd>
</dl>
</li>
<li><p><cite>TaskSet.apply_async</cite>: Now supports custom publishers by using the
<cite>publisher</cite> argument.</p></li>
<li><p>Added <code class="xref std std-setting docutils literal notranslate"><span class="pre">CELERY_SEND_TASK_SENT_EVENT</span></code> setting.</p>
<blockquote>
<div><p>If enabled an event will be sent with every task, so monitors can
track tasks before the workers receive them.</p>
</div></blockquote>
</li>
<li><dl class="simple">
<dt><cite>celerybeat</cite>: Now reuses the broker connection when calling</dt><dd><p>scheduled tasks.</p>
</dd>
</dl>
</li>
<li><p>The configuration module and loader to use can now be specified on
the command-line.</p>
<blockquote>
<div><p>For example:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>celery<span class="w"> </span>worker<span class="w"> </span>--config<span class="o">=</span>celeryconfig.py<span class="w"> </span>--loader<span class="o">=</span>myloader.Loader
</pre></div>
</div>
</div></blockquote>
</li>
<li><p>Added signals: <cite>beat_init</cite> and <cite>beat_embedded_init</cite></p>
<blockquote>
<div><ul>
<li><p><code class="xref std std-signal docutils literal notranslate"><span class="pre">celery.signals.beat_init</span></code></p>
<blockquote>
<div><p>Dispatched when <strong class="program">celerybeat</strong> starts (either standalone or
embedded). Sender is the <a class="reference internal" href="../reference/celery.beat.html#celery.beat.Service" title="celery.beat.Service"><code class="xref py py-class docutils literal notranslate"><span class="pre">celery.beat.Service</span></code></a> instance.</p>
</div></blockquote>
</li>
<li><p><code class="xref std std-signal docutils literal notranslate"><span class="pre">celery.signals.beat_embedded_init</span></code></p>
<blockquote>
<div><p>Dispatched in addition to the <a class="reference internal" href="../userguide/signals.html#std-signal-beat_init"><code class="xref std std-signal docutils literal notranslate"><span class="pre">beat_init</span></code></a> signal when
<strong class="program">celerybeat</strong> is started as an embedded process. Sender
is the <a class="reference internal" href="../reference/celery.beat.html#celery.beat.Service" title="celery.beat.Service"><code class="xref py py-class docutils literal notranslate"><span class="pre">celery.beat.Service</span></code></a> instance.</p>
</div></blockquote>
</li>
</ul>
</div></blockquote>
</li>
<li><p>Redis result backend: Removed deprecated settings <cite>REDIS_TIMEOUT</cite> and
<cite>REDIS_CONNECT_RETRY</cite>.</p></li>
<li><p>CentOS init-script for <strong class="program">celery worker</strong> now available in <cite>extra/centos</cite>.</p></li>
<li><p>Now depends on <a class="extlink-pypi reference external" href="https://pypi.org/project/pyparsing/">https://pypi.org/project/pyparsing/</a> version 1.5.0 or higher.</p>
<blockquote>
<div><p>There have been reported issues using Celery with <a class="extlink-pypi reference external" href="https://pypi.org/project/pyparsing/">https://pypi.org/project/pyparsing/</a> 1.4.x,
so please upgrade to the latest version.</p>
</div></blockquote>
</li>
<li><p>Lots of new unit tests written, now with a total coverage of 95%.</p></li>
</ul>
</section>
<section id="v220-fixes">
<span id="id18"></span><h3>Fixes<a class="headerlink" href="#v220-fixes" title="Link to this heading">¶</a></h3>
<ul>
<li><p><cite>celeryev</cite> Curses Monitor: Improved resize handling and UI layout
(<span class="xref issue">Issue #274</span> + <span class="xref issue">Issue #276</span>)</p></li>
<li><p>AMQP Backend: Exceptions occurring while sending task results are now
propagated instead of silenced.</p>
<blockquote>
<div><p>the worker will then show the full traceback of these errors in the log.</p>
</div></blockquote>
</li>
<li><p>AMQP Backend: No longer deletes the result queue after successful
poll, as this should be handled by the
<code class="xref std std-setting docutils literal notranslate"><span class="pre">CELERY_AMQP_TASK_RESULT_EXPIRES</span></code> setting instead.</p></li>
<li><p>AMQP Backend: Now ensures queues are declared before polling results.</p></li>
<li><p>Windows: worker: Show error if running with <cite>-B</cite> option.</p>
<blockquote>
<div><p>Running <code class="docutils literal notranslate"><span class="pre">celerybeat</span></code> embedded is known not to work on Windows, so
users are encouraged to run <code class="docutils literal notranslate"><span class="pre">celerybeat</span></code> as a separate service instead.</p>
</div></blockquote>
</li>
<li><p>Windows: Utilities no longer output ANSI color codes on Windows</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">camqadm</span></code>: Now properly handles <kbd class="kbd docutils literal notranslate">Control</kbd>-<kbd class="kbd docutils literal notranslate">c</kbd> by simply exiting instead
of showing confusing traceback.</p></li>
<li><p>Windows: All tests are now passing on Windows.</p></li>
<li><p>Remove bin/ directory, and <cite>scripts</cite> section from <code class="file docutils literal notranslate"><span class="pre">setup.py</span></code>.</p>
<blockquote>
<div><p>This means we now rely completely on setuptools entry-points.</p>
</div></blockquote>
</li>
</ul>
</section>
<section id="experimental">
<span id="v220-experimental"></span><h3>Experimental<a class="headerlink" href="#experimental" title="Link to this heading">¶</a></h3>
<ul>
<li><p>Jython: worker now runs on Jython using the threaded pool.</p>
<blockquote>
<div><p>All tests pass, but there may still be bugs lurking around the corners.</p>
</div></blockquote>
</li>
<li><p>PyPy: worker now runs on PyPy.</p>
<blockquote>
<div><p>It runs without any pool, so to get parallel execution you must start
multiple instances (e.g., using <strong class="program">multi</strong>).</p>
<p>Sadly an initial benchmark seems to show a 30% performance decrease on
<code class="docutils literal notranslate"><span class="pre">pypy-1.4.1</span></code> + JIT. We would like to find out why this is, so stay tuned.</p>
</div></blockquote>
</li>
<li><p><code class="xref py py-class docutils literal notranslate"><span class="pre">PublisherPool</span></code>: Experimental pool of task publishers and
connections to be used with the <cite>retry</cite> argument to <cite>apply_async</cite>.</p>
<p>The example code below will re-use connections and channels, and
retry sending of the task message if the connection is lost.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">celery</span><span class="w"> </span><span class="kn">import</span> <span class="n">current_app</span>

<span class="c1"># Global pool</span>
<span class="n">pool</span> <span class="o">=</span> <span class="n">current_app</span><span class="p">()</span><span class="o">.</span><span class="n">amqp</span><span class="o">.</span><span class="n">PublisherPool</span><span class="p">(</span><span class="n">limit</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>

<span class="k">def</span><span class="w"> </span><span class="nf">my_view</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
    <span class="k">with</span> <span class="n">pool</span><span class="o">.</span><span class="n">acquire</span><span class="p">()</span> <span class="k">as</span> <span class="n">publisher</span><span class="p">:</span>
        <span class="n">add</span><span class="o">.</span><span class="n">apply_async</span><span class="p">((</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="n">publisher</span><span class="o">=</span><span class="n">publisher</span><span class="p">,</span> <span class="n">retry</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</li>
</ul>
</section>
</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="changelog-2.1.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">Change history for Celery 2.1</div>
              </div>
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="changelog-2.3.html">
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">Change history for Celery 2.3</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                <a href="../copyright.html">Copyright</a> &#169; 2009-2023, Ask Solem &amp; contributors
            </div>
            Made with 
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">Change history for Celery 2.2</a><ul>
<li><a class="reference internal" href="#version-2-2-8">2.2.8</a><ul>
<li><a class="reference internal" href="#security-fixes">Security Fixes</a></li>
</ul>
</li>
<li><a class="reference internal" href="#version-2-2-7">2.2.7</a></li>
<li><a class="reference internal" href="#version-2-2-6">2.2.6</a><ul>
<li><a class="reference internal" href="#important-notes">Important Notes</a></li>
<li><a class="reference internal" href="#fixes">Fixes</a></li>
</ul>
</li>
<li><a class="reference internal" href="#version-2-2-5">2.2.5</a><ul>
<li><a class="reference internal" href="#v225-important">Important Notes</a></li>
<li><a class="reference internal" href="#news">News</a></li>
<li><a class="reference internal" href="#v225-fixes">Fixes</a></li>
</ul>
</li>
<li><a class="reference internal" href="#version-2-2-4">2.2.4</a><ul>
<li><a class="reference internal" href="#v224-fixes">Fixes</a></li>
</ul>
</li>
<li><a class="reference internal" href="#version-2-2-3">2.2.3</a><ul>
<li><a class="reference internal" href="#v223-fixes">Fixes</a></li>
</ul>
</li>
<li><a class="reference internal" href="#version-2-2-2">2.2.2</a><ul>
<li><a class="reference internal" href="#v222-fixes">Fixes</a></li>
</ul>
</li>
<li><a class="reference internal" href="#version-2-2-1">2.2.1</a><ul>
<li><a class="reference internal" href="#v221-fixes">Fixes</a></li>
</ul>
</li>
<li><a class="reference internal" href="#version-2-2-0">2.2.0</a><ul>
<li><a class="reference internal" href="#v220-important">Important Notes</a></li>
<li><a class="reference internal" href="#v220-news">News</a></li>
<li><a class="reference internal" href="#v220-fixes">Fixes</a></li>
<li><a class="reference internal" href="#experimental">Experimental</a></li>
</ul>
</li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script src="../_static/documentation_options.js?v=8156d91f"></script>
    <script src="../_static/doctools.js?v=9bcbadda"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/scripts/furo.js?v=5fa4622c"></script>
    <script src="../_static/tabs.js?v=3ee01567"></script>
    <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../_static/copybutton.js?v=5eb1bb1e"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../_static/togglebutton.js?v=4a39c7ea"></script>
    <script src="../_static/translations.js?v=beaddf03"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    </body>
</html>