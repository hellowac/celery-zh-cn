<!doctype html>
<html class="no-js" lang="zh-CN" data-content_root="../">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="index" title="索引" href="../genindex.html" /><link rel="search" title="搜索" href="../search.html" /><link rel="copyright" title="版权所有" href="../copyright.html" /><link rel="next" title="What&#39;s new in Celery 3.0 (Chiastic Slide)" href="whatsnew-3.0.html" /><link rel="prev" title="What&#39;s new in Celery 3.1 (Cipater)" href="whatsnew-3.1.html" />

    <link rel="shortcut icon" href="../_static/favicon.ico"/><!-- Generated with Sphinx 8.2.3 and Furo 2024.08.06 -->
        <title>Change history - Celery 5.5.1 文档</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=3ee1c6c6" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo.css?v=354aac6f" />
    <link rel="stylesheet" type="text/css" href="../_static/tabs.css?v=4c969af8" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo-extensions.css?v=302659d7" />
    <link rel="stylesheet" type="text/css" href="../_static/my.css?v=112ca36d" />
    
    


<style>
  body {
    --color-code-background: #ffffff;
  --color-code-foreground: black;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-with-moon" viewBox="0 0 24 24">
    <title>Auto light/dark, in light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path style="opacity: 50%" d="M 5.411 14.504 C 5.471 14.504 5.532 14.504 5.591 14.504 C 3.639 16.319 4.383 19.569 6.931 20.352 C 7.693 20.586 8.512 20.551 9.25 20.252 C 8.023 23.207 4.056 23.725 2.11 21.184 C 0.166 18.642 1.702 14.949 4.874 14.536 C 5.051 14.512 5.231 14.5 5.411 14.5 L 5.411 14.504 Z"/>
      <line x1="14.5" y1="3.25" x2="14.5" y2="1.25"/>
      <line x1="14.5" y1="15.85" x2="14.5" y2="17.85"/>
      <line x1="10.044" y1="5.094" x2="8.63" y2="3.68"/>
      <line x1="19" y1="14.05" x2="20.414" y2="15.464"/>
      <line x1="8.2" y1="9.55" x2="6.2" y2="9.55"/>
      <line x1="20.8" y1="9.55" x2="22.8" y2="9.55"/>
      <line x1="10.044" y1="14.006" x2="8.63" y2="15.42"/>
      <line x1="19" y1="5.05" x2="20.414" y2="3.636"/>
      <circle cx="14.5" cy="9.55" r="3.6"/>
    </svg>
  </symbol>
  <symbol id="svg-moon-with-sun" viewBox="0 0 24 24">
    <title>Auto light/dark, in dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path d="M 8.282 7.007 C 8.385 7.007 8.494 7.007 8.595 7.007 C 5.18 10.184 6.481 15.869 10.942 17.24 C 12.275 17.648 13.706 17.589 15 17.066 C 12.851 22.236 5.91 23.143 2.505 18.696 C -0.897 14.249 1.791 7.786 7.342 7.063 C 7.652 7.021 7.965 7 8.282 7 L 8.282 7.007 Z"/>
      <line style="opacity: 50%" x1="18" y1="3.705" x2="18" y2="2.5"/>
      <line style="opacity: 50%" x1="18" y1="11.295" x2="18" y2="12.5"/>
      <line style="opacity: 50%" x1="15.316" y1="4.816" x2="14.464" y2="3.964"/>
      <line style="opacity: 50%" x1="20.711" y1="10.212" x2="21.563" y2="11.063"/>
      <line style="opacity: 50%" x1="14.205" y1="7.5" x2="13.001" y2="7.5"/>
      <line style="opacity: 50%" x1="21.795" y1="7.5" x2="23" y2="7.5"/>
      <line style="opacity: 50%" x1="15.316" y1="10.184" x2="14.464" y2="11.036"/>
      <line style="opacity: 50%" x1="20.711" y1="4.789" x2="21.563" y2="3.937"/>
      <circle style="opacity: 50%" cx="18" cy="7.5" r="2.169"/>
    </svg>
  </symbol>
  <symbol id="svg-pencil" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-pencil-code">
      <path d="M4 20h4l10.5 -10.5a2.828 2.828 0 1 0 -4 -4l-10.5 10.5v4" />
      <path d="M13.5 6.5l4 4" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
  <symbol id="svg-eye" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-eye-code">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M10 12a2 2 0 1 0 4 0a2 2 0 0 0 -4 0" />
      <path
        d="M11.11 17.958c-3.209 -.307 -5.91 -2.293 -8.11 -5.958c2.4 -4 5.4 -6 9 -6c3.6 0 6.6 2 9 6c-.21 .352 -.427 .688 -.647 1.008" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>

<a class="skip-to-content muted-link" href="#furo-main-content">Skip to content</a>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="../index.html"><div class="brand">Celery 5.5.1 文档</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
          <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="../index.html">
  
  <div class="sidebar-logo-container">
    <img class="sidebar-logo" src="../_static/celery_512_1.png" alt="Logo"/>
  </div>
  
  <span class="sidebar-brand-text">Celery 5.5.1 文档</span>
  
</a><form class="sidebar-search-container" method="get" action="../search.html" role="search">
  <input class="sidebar-search" placeholder="搜索" name="q" aria-label="搜索">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <ul>
<li class="toctree-l1"><a class="reference internal" href="../copyright.html">版权</a></li>
</ul>
<ul>
<li class="toctree-l1 has-children"><a class="reference internal" href="../getting-started/index.html">快速开始</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><div class="visually-hidden">Toggle navigation of 快速开始</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../getting-started/introduction.html">Celery 简介</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../getting-started/backends-and-brokers/index.html">Backends 和 Brokers</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" role="switch" type="checkbox"/><label for="toctree-checkbox-2"><div class="visually-hidden">Toggle navigation of Backends 和 Brokers</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../getting-started/backends-and-brokers/rabbitmq.html">使用 RabbitMQ</a></li>
<li class="toctree-l3"><a class="reference internal" href="../getting-started/backends-and-brokers/redis.html">使用 Redis</a></li>
<li class="toctree-l3"><a class="reference internal" href="../getting-started/backends-and-brokers/sqs.html">使用 Amazon SQS</a></li>
<li class="toctree-l3"><a class="reference internal" href="../getting-started/backends-and-brokers/kafka.html">使用 Kafka</a></li>
<li class="toctree-l3"><a class="reference internal" href="../getting-started/backends-and-brokers/gcpubsub.html">使用 Google Pub/Sub</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../getting-started/first-steps-with-celery.html">使用 Celery 的第一步</a></li>
<li class="toctree-l2"><a class="reference internal" href="../getting-started/next-steps.html">下一步</a></li>
<li class="toctree-l2"><a class="reference internal" href="../getting-started/resources.html">资源</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../userguide/index.html">用户指南</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" role="switch" type="checkbox"/><label for="toctree-checkbox-3"><div class="visually-hidden">Toggle navigation of 用户指南</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../userguide/application.html">应用程序</a></li>
<li class="toctree-l2"><a class="reference internal" href="../userguide/tasks.html">任务/Tasks</a></li>
<li class="toctree-l2"><a class="reference internal" href="../userguide/calling.html">调用任务/Tasks</a></li>
<li class="toctree-l2"><a class="reference internal" href="../userguide/canvas.html">Canvas：设计工作流</a></li>
<li class="toctree-l2"><a class="reference internal" href="../userguide/workers.html">Workers 指南</a></li>
<li class="toctree-l2"><a class="reference internal" href="../userguide/daemonizing.html">守护进程</a></li>
<li class="toctree-l2"><a class="reference internal" href="../userguide/periodic-tasks.html">周期性任务/Tasks</a></li>
<li class="toctree-l2"><a class="reference internal" href="../userguide/routing.html">路由任务/Tasks</a></li>
<li class="toctree-l2"><a class="reference internal" href="../userguide/monitoring.html">监控和管理指南</a></li>
<li class="toctree-l2"><a class="reference internal" href="../userguide/security.html">安全</a></li>
<li class="toctree-l2"><a class="reference internal" href="../userguide/optimizing.html">优化</a></li>
<li class="toctree-l2"><a class="reference internal" href="../userguide/debugging.html">调试</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../userguide/concurrency/index.html">并发</a><input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" role="switch" type="checkbox"/><label for="toctree-checkbox-4"><div class="visually-hidden">Toggle navigation of 并发</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../userguide/concurrency/eventlet.html">Eventlet 并发</a></li>
<li class="toctree-l3"><a class="reference internal" href="../userguide/concurrency/gevent.html">gevent 并发</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../userguide/signals.html">信号</a></li>
<li class="toctree-l2"><a class="reference internal" href="../userguide/testing.html">使用 Celery 进行测试</a></li>
<li class="toctree-l2"><a class="reference internal" href="../userguide/extending.html">扩展 和 Bootsteps</a></li>
<li class="toctree-l2"><a class="reference internal" href="../userguide/configuration.html">配置和默认值</a></li>
<li class="toctree-l2"><a class="reference internal" href="../userguide/sphinx.html">使用 Sphinx 文档化任务</a></li>
</ul>
</li>
</ul>
<ul class="current">
<li class="toctree-l1 has-children"><a class="reference internal" href="../django/index.html">Django</a><input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" role="switch" type="checkbox"/><label for="toctree-checkbox-5"><div class="visually-hidden">Toggle navigation of Django</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../django/first-steps-with-django.html">使用 Django 的第一步</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../contributing.html">贡献</a></li>
<li class="toctree-l1"><a class="reference internal" href="../community.html">社区资源</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../tutorials/index.html">教程</a><input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" role="switch" type="checkbox"/><label for="toctree-checkbox-6"><div class="visually-hidden">Toggle navigation of 教程</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../tutorials/task-cookbook.html">Task Cookbook</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../faq.html">常见问题</a></li>
<li class="toctree-l1"><a class="reference internal" href="../changelog.html">更改历史</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../reference/index.html">API 参考</a><input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" role="switch" type="checkbox"/><label for="toctree-checkbox-7"><div class="visually-hidden">Toggle navigation of API 参考</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../reference/cli.html">命令行接口</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/celery.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">celery</span></code> --- Distributed processing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/celery.app.html">Proxies</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/celery.app.html#functions">Functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/celery.app.task.html"><code class="docutils literal notranslate"><span class="pre">celery.app.task</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/celery.app.amqp.html">AMQP</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/celery.app.amqp.html#queues">Queues</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/celery.app.defaults.html"><code class="docutils literal notranslate"><span class="pre">celery.app.defaults</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/celery.app.control.html"><code class="docutils literal notranslate"><span class="pre">celery.app.control</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/celery.app.registry.html"><code class="docutils literal notranslate"><span class="pre">celery.app.registry</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/celery.app.backends.html"><code class="docutils literal notranslate"><span class="pre">celery.app.backends</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/celery.app.builtins.html"><code class="docutils literal notranslate"><span class="pre">celery.app.builtins</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/celery.app.events.html"><code class="docutils literal notranslate"><span class="pre">celery.app.events</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/celery.app.log.html"><code class="docutils literal notranslate"><span class="pre">celery.app.log</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/celery.app.utils.html"><code class="docutils literal notranslate"><span class="pre">celery.app.utils</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/celery.app.autoretry.html"><code class="docutils literal notranslate"><span class="pre">celery.app.autoretry</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/celery.bootsteps.html"><code class="docutils literal notranslate"><span class="pre">celery.bootsteps</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/celery.result.html"><code class="docutils literal notranslate"><span class="pre">celery.result</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/celery.schedules.html"><code class="docutils literal notranslate"><span class="pre">celery.schedules</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/celery.signals.html"><code class="docutils literal notranslate"><span class="pre">celery.signals</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/celery.security.html"><code class="docutils literal notranslate"><span class="pre">celery.security</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/celery.utils.debug.html"><code class="docutils literal notranslate"><span class="pre">celery.utils.debug</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/celery.exceptions.html"><code class="docutils literal notranslate"><span class="pre">celery.exceptions</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/celery.loaders.html"><code class="docutils literal notranslate"><span class="pre">celery.loaders</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/celery.loaders.app.html"><code class="docutils literal notranslate"><span class="pre">celery.loaders.app</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/celery.loaders.default.html"><code class="docutils literal notranslate"><span class="pre">celery.loaders.default</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/celery.loaders.base.html"><code class="docutils literal notranslate"><span class="pre">celery.loaders.base</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/celery.states.html">States</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/celery.states.html#sets">Sets</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/celery.states.html#misc">Misc</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/celery.states.html#celery.states.FAILURE"><code class="docutils literal notranslate"><span class="pre">FAILURE</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/celery.states.html#celery.states.PENDING"><code class="docutils literal notranslate"><span class="pre">PENDING</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/celery.states.html#celery.states.RECEIVED"><code class="docutils literal notranslate"><span class="pre">RECEIVED</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/celery.states.html#celery.states.RETRY"><code class="docutils literal notranslate"><span class="pre">RETRY</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/celery.states.html#celery.states.REVOKED"><code class="docutils literal notranslate"><span class="pre">REVOKED</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/celery.states.html#celery.states.STARTED"><code class="docutils literal notranslate"><span class="pre">STARTED</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/celery.states.html#celery.states.SUCCESS"><code class="docutils literal notranslate"><span class="pre">SUCCESS</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/celery.states.html#celery.states.precedence"><code class="docutils literal notranslate"><span class="pre">precedence()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/celery.states.html#celery.states.state"><code class="docutils literal notranslate"><span class="pre">state</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/celery.contrib.abortable.html"><code class="docutils literal notranslate"><span class="pre">celery.contrib.abortable</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/celery.contrib.django.task.html"><code class="docutils literal notranslate"><span class="pre">celery.contrib.django.task</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/celery.contrib.migrate.html"><code class="docutils literal notranslate"><span class="pre">celery.contrib.migrate</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/celery.contrib.pytest.html"><code class="docutils literal notranslate"><span class="pre">celery.contrib.pytest</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/celery.contrib.sphinx.html">celery.contrib.sphinx</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/celery.contrib.testing.worker.html"><code class="docutils literal notranslate"><span class="pre">celery.contrib.testing.worker</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/celery.contrib.testing.app.html"><code class="docutils literal notranslate"><span class="pre">celery.contrib.testing.app</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/celery.contrib.testing.manager.html"><code class="docutils literal notranslate"><span class="pre">celery.contrib.testing.manager</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/celery.contrib.testing.mocks.html"><code class="docutils literal notranslate"><span class="pre">celery.contrib.testing.mocks</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/celery.contrib.rdb.html"><code class="docutils literal notranslate"><span class="pre">celery.contrib.rdb</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/celery.events.html"><code class="docutils literal notranslate"><span class="pre">celery.events</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/celery.events.receiver.html"><code class="docutils literal notranslate"><span class="pre">celery.events.receiver</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/celery.events.dispatcher.html"><code class="docutils literal notranslate"><span class="pre">celery.events.state</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/celery.events.event.html"><code class="docutils literal notranslate"><span class="pre">celery.events.event</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/celery.events.state.html"><code class="docutils literal notranslate"><span class="pre">celery.events.state</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/celery.beat.html"><code class="docutils literal notranslate"><span class="pre">celery.beat</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/celery.apps.worker.html"><code class="docutils literal notranslate"><span class="pre">celery.apps.worker</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/celery.apps.beat.html"><code class="docutils literal notranslate"><span class="pre">celery.apps.beat</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/celery.apps.multi.html"><code class="docutils literal notranslate"><span class="pre">celery.apps.multi</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/celery.worker.html"><code class="docutils literal notranslate"><span class="pre">celery.worker</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/celery.worker.request.html"><code class="docutils literal notranslate"><span class="pre">celery.worker.request</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/celery.worker.state.html"><code class="docutils literal notranslate"><span class="pre">celery.worker.state</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/celery.worker.strategy.html"><code class="docutils literal notranslate"><span class="pre">celery.worker.strategy</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/celery.worker.consumer.html"><code class="docutils literal notranslate"><span class="pre">celery.worker.consumer</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/celery.worker.consumer.agent.html"><code class="docutils literal notranslate"><span class="pre">celery.worker.consumer.agent</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/celery.worker.consumer.connection.html"><code class="docutils literal notranslate"><span class="pre">celery.worker.consumer.connection</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/celery.worker.consumer.consumer.html"><code class="docutils literal notranslate"><span class="pre">celery.worker.consumer.consumer</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/celery.worker.consumer.control.html"><code class="docutils literal notranslate"><span class="pre">celery.worker.consumer.control</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/celery.worker.consumer.events.html"><code class="docutils literal notranslate"><span class="pre">celery.worker.consumer.events</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/celery.worker.consumer.gossip.html"><code class="docutils literal notranslate"><span class="pre">celery.worker.consumer.gossip</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/celery.worker.consumer.heart.html"><code class="docutils literal notranslate"><span class="pre">celery.worker.consumer.heart</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/celery.worker.consumer.mingle.html"><code class="docutils literal notranslate"><span class="pre">celery.worker.consumer.mingle</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/celery.worker.consumer.tasks.html"><code class="docutils literal notranslate"><span class="pre">celery.worker.consumer.tasks</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/celery.worker.worker.html"><code class="docutils literal notranslate"><span class="pre">celery.worker.worker</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/celery.bin.base.html"><code class="docutils literal notranslate"><span class="pre">celery.bin.base</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/celery.bin.celery.html"><code class="docutils literal notranslate"><span class="pre">celery.bin.celery</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/celery.bin.worker.html"><code class="docutils literal notranslate"><span class="pre">celery.bin.worker</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/celery.bin.beat.html"><code class="docutils literal notranslate"><span class="pre">celery.bin.beat</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/celery.bin.events.html"><code class="docutils literal notranslate"><span class="pre">celery.bin.events</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/celery.bin.logtool.html"><code class="docutils literal notranslate"><span class="pre">celery.bin.logtool</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/celery.bin.amqp.html"><code class="docutils literal notranslate"><span class="pre">celery.bin.amqp</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/celery.bin.graph.html"><code class="docutils literal notranslate"><span class="pre">celery.bin.graph</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/celery.bin.multi.html"><code class="docutils literal notranslate"><span class="pre">celery.bin.multi</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/celery.bin.call.html"><code class="docutils literal notranslate"><span class="pre">celery.bin.call</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/celery.bin.control.html"><code class="docutils literal notranslate"><span class="pre">celery.bin.control</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/celery.bin.list.html"><code class="docutils literal notranslate"><span class="pre">celery.bin.list</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/celery.bin.migrate.html"><code class="docutils literal notranslate"><span class="pre">celery.bin.migrate</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/celery.bin.purge.html"><code class="docutils literal notranslate"><span class="pre">celery.bin.purge</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/celery.bin.result.html"><code class="docutils literal notranslate"><span class="pre">celery.bin.result</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/celery.bin.shell.html"><code class="docutils literal notranslate"><span class="pre">celery.bin.shell</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/celery.bin.upgrade.html"><code class="docutils literal notranslate"><span class="pre">celery.bin.upgrade</span></code></a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../internals/index.html">内部</a><input class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" role="switch" type="checkbox"/><label for="toctree-checkbox-8"><div class="visually-hidden">Toggle navigation of 内部</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../internals/guide.html">代码贡献指南</a></li>
<li class="toctree-l2"><a class="reference internal" href="../internals/deprecation.html">Celery 弃用时间表</a></li>
<li class="toctree-l2"><a class="reference internal" href="../internals/worker.html">内部的 worker</a></li>
<li class="toctree-l2"><a class="reference internal" href="../internals/protocol.html">消息协议</a></li>
<li class="toctree-l2"><a class="reference internal" href="../internals/app-overview.html">“大实例”重构</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../internals/reference/index.html">内部模块参考</a><input class="toctree-checkbox" id="toctree-checkbox-9" name="toctree-checkbox-9" role="switch" type="checkbox"/><label for="toctree-checkbox-9"><div class="visually-hidden">Toggle navigation of 内部模块参考</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../internals/reference/celery.worker.components.html"><code class="docutils literal notranslate"><span class="pre">celery.worker.components</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../internals/reference/celery.worker.loops.html"><code class="docutils literal notranslate"><span class="pre">celery.worker.loops</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../internals/reference/celery.worker.heartbeat.html"><code class="docutils literal notranslate"><span class="pre">celery.worker.heartbeat</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../internals/reference/celery.worker.control.html"><code class="docutils literal notranslate"><span class="pre">celery.worker.control</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../internals/reference/celery.worker.pidbox.html"><code class="docutils literal notranslate"><span class="pre">celery.worker.pidbox</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../internals/reference/celery.worker.autoscale.html"><code class="docutils literal notranslate"><span class="pre">celery.worker.autoscale</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../internals/reference/celery.concurrency.html"><code class="docutils literal notranslate"><span class="pre">celery.concurrency</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../internals/reference/celery.concurrency.solo.html"><code class="docutils literal notranslate"><span class="pre">celery.concurrency.solo</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../internals/reference/celery.concurrency.prefork.html"><code class="docutils literal notranslate"><span class="pre">celery.concurrency.prefork</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../internals/reference/celery.concurrency.eventlet.html"><code class="docutils literal notranslate"><span class="pre">celery.concurrency.eventlet</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../internals/reference/celery.concurrency.gevent.html"><code class="docutils literal notranslate"><span class="pre">celery.concurrency.gevent</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../internals/reference/celery.concurrency.thread.html"><code class="docutils literal notranslate"><span class="pre">celery.concurrency.thread</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../internals/reference/celery.concurrency.base.html"><code class="docutils literal notranslate"><span class="pre">celery.concurrency.base</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../internals/reference/celery.backends.html"><code class="docutils literal notranslate"><span class="pre">celery.backends</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../internals/reference/celery.backends.base.html"><code class="docutils literal notranslate"><span class="pre">celery.backends.base</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../internals/reference/celery.backends.asynchronous.html"><code class="docutils literal notranslate"><span class="pre">celery.backends.asynchronous</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../internals/reference/celery.backends.azureblockblob.html"><code class="docutils literal notranslate"><span class="pre">celery.backends.azureblockblob</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../internals/reference/celery.backends.rpc.html"><code class="docutils literal notranslate"><span class="pre">celery.backends.rpc</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../internals/reference/celery.backends.database.html"><code class="docutils literal notranslate"><span class="pre">celery.backends.database</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../internals/reference/celery.backends.cache.html"><code class="docutils literal notranslate"><span class="pre">celery.backends.cache</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../internals/reference/celery.backends.consul.html">celery.backends.consul</a></li>
<li class="toctree-l3"><a class="reference internal" href="../internals/reference/celery.backends.couchdb.html"><code class="docutils literal notranslate"><span class="pre">celery.backends.couchdb</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../internals/reference/celery.backends.mongodb.html"><code class="docutils literal notranslate"><span class="pre">celery.backends.mongodb</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../internals/reference/celery.backends.elasticsearch.html"><code class="docutils literal notranslate"><span class="pre">celery.backends.elasticsearch</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../internals/reference/celery.backends.redis.html"><code class="docutils literal notranslate"><span class="pre">celery.backends.redis</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../internals/reference/celery.backends.cassandra.html"><code class="docutils literal notranslate"><span class="pre">celery.backends.cassandra</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../internals/reference/celery.backends.couchbase.html"><code class="docutils literal notranslate"><span class="pre">celery.backends.couchbase</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../internals/reference/celery.backends.arangodb.html"><code class="docutils literal notranslate"><span class="pre">celery.backends.arangodb</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../internals/reference/celery.backends.dynamodb.html"><code class="docutils literal notranslate"><span class="pre">celery.backends.dynamodb</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../internals/reference/celery.backends.filesystem.html"><code class="docutils literal notranslate"><span class="pre">celery.backends.filesystem</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../internals/reference/celery.backends.cosmosdbsql.html"><code class="docutils literal notranslate"><span class="pre">celery.backends.cosmosdbsql</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../internals/reference/celery.backends.s3.html"><code class="docutils literal notranslate"><span class="pre">celery.backends.s3</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../internals/reference/celery.backends.gcs.html"><code class="docutils literal notranslate"><span class="pre">celery.backends.gcs</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../internals/reference/celery.app.trace.html"><code class="docutils literal notranslate"><span class="pre">celery.app.trace</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../internals/reference/celery.app.annotations.html"><code class="docutils literal notranslate"><span class="pre">celery.app.annotations</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../internals/reference/celery.app.routes.html"><code class="docutils literal notranslate"><span class="pre">celery.app.routes</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../internals/reference/celery.security.certificate.html"><code class="docutils literal notranslate"><span class="pre">celery.security.certificate</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../internals/reference/celery.security.key.html"><code class="docutils literal notranslate"><span class="pre">celery.security.key</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../internals/reference/celery.security.serialization.html"><code class="docutils literal notranslate"><span class="pre">celery.security.serialization</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../internals/reference/celery.security.utils.html"><code class="docutils literal notranslate"><span class="pre">celery.security.utils</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../internals/reference/celery.events.snapshot.html"><code class="docutils literal notranslate"><span class="pre">celery.events.snapshot</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../internals/reference/celery.events.cursesmon.html"><code class="docutils literal notranslate"><span class="pre">celery.events.cursesmon</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../internals/reference/celery.events.dumper.html"><code class="docutils literal notranslate"><span class="pre">celery.events.dumper</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../internals/reference/celery.backends.database.models.html"><code class="docutils literal notranslate"><span class="pre">celery.backends.database.models</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../internals/reference/celery.backends.database.session.html"><code class="docutils literal notranslate"><span class="pre">celery.backends.database.session</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../internals/reference/celery.utils.html"><code class="docutils literal notranslate"><span class="pre">celery.utils</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../internals/reference/celery.utils.abstract.html"><code class="docutils literal notranslate"><span class="pre">celery.utils.abstract</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../internals/reference/celery.utils.collections.html"><code class="docutils literal notranslate"><span class="pre">celery.utils.collections</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../internals/reference/celery.utils.nodenames.html"><code class="docutils literal notranslate"><span class="pre">celery.utils.nodenames</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../internals/reference/celery.utils.deprecated.html"><code class="docutils literal notranslate"><span class="pre">celery.utils.deprecated</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../internals/reference/celery.utils.functional.html"><code class="docutils literal notranslate"><span class="pre">celery.utils.functional</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../internals/reference/celery.utils.graph.html"><code class="docutils literal notranslate"><span class="pre">celery.utils.graph</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../internals/reference/celery.utils.objects.html"><code class="docutils literal notranslate"><span class="pre">celery.utils.objects</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../internals/reference/celery.utils.term.html"><code class="docutils literal notranslate"><span class="pre">celery.utils.term</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../internals/reference/celery.utils.time.html"><code class="docutils literal notranslate"><span class="pre">celery.utils.time</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../internals/reference/celery.utils.iso8601.html"><code class="docutils literal notranslate"><span class="pre">celery.utils.iso8601</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../internals/reference/celery.utils.saferepr.html"><code class="docutils literal notranslate"><span class="pre">celery.utils.saferepr</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../internals/reference/celery.utils.serialization.html"><code class="docutils literal notranslate"><span class="pre">celery.utils.serialization</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../internals/reference/celery.utils.sysinfo.html"><code class="docutils literal notranslate"><span class="pre">celery.utils.sysinfo</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../internals/reference/celery.utils.threads.html"><code class="docutils literal notranslate"><span class="pre">celery.utils.threads</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../internals/reference/celery.utils.timer2.html"><code class="docutils literal notranslate"><span class="pre">celery.utils.timer2</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../internals/reference/celery.utils.imports.html"><code class="docutils literal notranslate"><span class="pre">celery.utils.imports</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../internals/reference/celery.utils.log.html"><code class="docutils literal notranslate"><span class="pre">celery.utils.log</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../internals/reference/celery.utils.text.html"><code class="docutils literal notranslate"><span class="pre">celery.utils.text</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../internals/reference/celery.utils.dispatch.html"><code class="docutils literal notranslate"><span class="pre">celery.utils.dispatch</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../internals/reference/celery.utils.dispatch.signal.html"><code class="docutils literal notranslate"><span class="pre">celery.utils.dispatch.signal</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../internals/reference/celery.platforms.html"><code class="docutils literal notranslate"><span class="pre">celery.platforms</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../internals/reference/celery._state.html"><code class="docutils literal notranslate"><span class="pre">celery._state</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 current has-children"><a class="reference internal" href="index.html">历史</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-10" name="toctree-checkbox-10" role="switch" type="checkbox"/><label for="toctree-checkbox-10"><div class="visually-hidden">Toggle navigation of 历史</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="whatsnew-5.5.html">What's new in Celery 5.5 (Immunity)</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog-5.5.html">Change history</a></li>
<li class="toctree-l2"><a class="reference internal" href="whatsnew-5.4.html">What's new in Celery 5.4 (Opalescent)</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog-5.4.html">Change history</a></li>
<li class="toctree-l2"><a class="reference internal" href="whatsnew-5.3.html">What's new in Celery 5.3 (Emerald Rush)</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog-5.3.html">Change history</a></li>
<li class="toctree-l2"><a class="reference internal" href="whatsnew-5.1.html">What's new in Celery 5.1 (Sun Harmonics)</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog-5.1.html">Change history</a></li>
<li class="toctree-l2"><a class="reference internal" href="whatsnew-5.0.html">What's new in Celery 5.0 (singularity)</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog-5.0.html">Change history</a></li>
<li class="toctree-l2"><a class="reference internal" href="whatsnew-4.4.html">What's new in Celery 4.4 (Cliffs)</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog-4.4.html">Change history</a></li>
<li class="toctree-l2"><a class="reference internal" href="whatsnew-4.3.html">What's new in Celery 4.3 (rhubarb)</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog-4.3.html">Change history</a></li>
<li class="toctree-l2"><a class="reference internal" href="whatsnew-4.2.html">What's new in Celery 4.2 (windowlicker)</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog-4.2.html">Change history</a></li>
<li class="toctree-l2"><a class="reference internal" href="whatsnew-4.1.html">What's new in Celery 4.1 (latentcall)</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog-4.1.html">Change history</a></li>
<li class="toctree-l2"><a class="reference internal" href="whatsnew-4.0.html">What's new in Celery 4.0 (latentcall)</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog-4.0.html">Change history</a></li>
<li class="toctree-l2"><a class="reference internal" href="whatsnew-3.1.html">What's new in Celery 3.1 (Cipater)</a></li>
<li class="toctree-l2 current current-page"><a class="current reference internal" href="#">Change history</a></li>
<li class="toctree-l2"><a class="reference internal" href="whatsnew-3.0.html">What's new in Celery 3.0 (Chiastic Slide)</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog-3.0.html">Change history for Celery 3.0</a></li>
<li class="toctree-l2"><a class="reference internal" href="whatsnew-2.5.html">What's new in Celery 2.5</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog-2.5.html">Change history for Celery 2.5</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog-2.4.html">Change history for Celery 2.4</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog-2.3.html">Change history for Celery 2.3</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog-2.2.html">Change history for Celery 2.2</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog-2.1.html">Change history for Celery 2.1</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog-2.0.html">Change history for Celery 2.0</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog-1.0.html">Change history for Celery 1.0</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../glossary.html">术语</a></li>
</ul>

</div>
<!-- <iframe src="https://ghbtns.com/github-btn.html?user=celery&repo=celery&type=watch&count=true&size=large"
  allowtransparency="true" frameborder="0" scrolling="0" width="200px" height="35px"></iframe> -->
<div id="donate">
  <h5>捐赠</h5>
  <p>请捐赠以支持这个社区项目</p>
  <a href="https://opencollective.com/celery/donate" target="_blank">
    <!-- <img src="https://opencollective.com/celery/donate/button@2x.png?color=blue" /> -->
    <img src="https://opencollective.com/celery/donate/button.png?color=blue" />
  </a>
</div></div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          <div class="view-this-page">
  <a class="muted-link" href="../_sources/history/changelog-3.1.rst.txt" title="View this page">
    <svg><use href="#svg-eye"></use></svg>
    <span class="visually-hidden">View this page</span>
  </a>
</div>
<div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
              <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main" id="furo-main-content">
          <section id="change-history">
<span id="changelog-3-1"></span><h1>Change history<a class="headerlink" href="#change-history" title="Link to this heading">¶</a></h1>
<p>This document contains change notes for bugfix releases in the 3.1.x series
(Cipater), please see <a class="reference internal" href="whatsnew-3.1.html#whatsnew-3-1"><span class="std std-ref">What's new in Celery 3.1 (Cipater)</span></a> for an overview of what's
new in Celery 3.1.</p>
<section id="version-3-1-26">
<span id="id1"></span><h2>3.1.26<a class="headerlink" href="#version-3-1-26" title="Link to this heading">¶</a></h2>
<dl class="field-list simple">
<dt class="field-odd">release-date<span class="colon">:</span></dt>
<dd class="field-odd"><p>2018-23-03 16:00 PM IST</p>
</dd>
<dt class="field-even">release-by<span class="colon">:</span></dt>
<dd class="field-even"><p>Omer Katz</p>
</dd>
</dl>
<ul class="simple">
<li><p>Fixed a crash caused by tasks cycling between Celery 3 and Celery 4 workers.</p></li>
</ul>
</section>
<section id="version-3-1-25">
<span id="id2"></span><h2>3.1.25<a class="headerlink" href="#version-3-1-25" title="Link to this heading">¶</a></h2>
<dl class="field-list simple">
<dt class="field-odd">release-date<span class="colon">:</span></dt>
<dd class="field-odd"><p>2016-10-10 12:00 PM PDT</p>
</dd>
<dt class="field-even">release-by<span class="colon">:</span></dt>
<dd class="field-even"><p>Ask Solem</p>
</dd>
</dl>
<ul>
<li><p><strong>Requirements</strong></p>
<blockquote>
<div><ul class="simple">
<li><p>Now depends on <a class="reference external" href="https://docs.celeryq.dev/projects/kombu/en/main/changelog.html#version-3-0-37" title="（在 Kombu v5.5）"><span class="xref std std-ref">Kombu 3.0.37</span></a></p></li>
</ul>
</div></blockquote>
</li>
<li><p>Fixed problem with chords in group introduced in 3.1.24 (<span class="xref issue">Issue #3504</span>).</p></li>
</ul>
</section>
<section id="version-3-1-24">
<span id="id3"></span><h2>3.1.24<a class="headerlink" href="#version-3-1-24" title="Link to this heading">¶</a></h2>
<dl class="field-list simple">
<dt class="field-odd">release-date<span class="colon">:</span></dt>
<dd class="field-odd"><p>2016-09-30 04:21 PM PDT</p>
</dd>
<dt class="field-even">release-by<span class="colon">:</span></dt>
<dd class="field-even"><p>Ask Solem</p>
</dd>
</dl>
<ul>
<li><p><strong>Requirements</strong></p>
<blockquote>
<div><ul class="simple">
<li><p>Now depends on <a class="reference external" href="https://docs.celeryq.dev/projects/kombu/en/main/changelog.html#version-3-0-36" title="（在 Kombu v5.5）"><span class="xref std std-ref">Kombu 3.0.36</span></a>.</p></li>
</ul>
</div></blockquote>
</li>
<li><p>Now supports Task protocol 2 from the future 4.0 release.</p>
<blockquote>
<div><p>Workers running 3.1.24 are now able to process messages
sent using the <a class="reference external" href="https://docs.celeryq.dev/en/master/internals/protocol.html#version-2">new task message protocol</a> to be introduced
in Celery 4.0.</p>
<p>Users upgrading to Celery 4.0 when this is released are encouraged
to upgrade to this version as an intermediate step, as this
means workers not yet upgraded will be able to process
messages from clients/workers running 4.0.</p>
</div></blockquote>
</li>
</ul>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">Task.send_events</span></code> can now be set to disable sending of events
for that task only.</p>
<blockquote>
<div><p>Example when defining the task:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nd">@app</span><span class="o">.</span><span class="n">task</span><span class="p">(</span><span class="n">send_events</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">add</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">x</span> <span class="o">+</span> <span class="n">y</span>
</pre></div>
</div>
</div></blockquote>
</li>
<li><p><strong>Utils</strong>: Fixed compatibility with recent <a class="extlink-pypi reference external" href="https://pypi.org/project/psutil/">https://pypi.org/project/psutil/</a> versions
(<span class="xref issue">Issue #3262</span>).</p></li>
<li><p><strong>Canvas</strong>: Chord now forwards partial arguments to its subtasks.</p>
<blockquote>
<div><p>Fix contributed by Tayfun Sen.</p>
</div></blockquote>
</li>
<li><p><strong>App</strong>: Arguments to app such as <code class="docutils literal notranslate"><span class="pre">backend</span></code>, <code class="docutils literal notranslate"><span class="pre">broker</span></code>, etc
are now pickled and sent to the child processes on Windows.</p>
<blockquote>
<div><p>Fix contributed by Jeremy Zafran.</p>
</div></blockquote>
</li>
<li><p><strong>Deployment</strong>: Generic init scripts now supports being symlinked
in runlevel directories (<span class="xref issue">Issue #3208</span>).</p></li>
<li><p><strong>Deployment</strong>: Updated CentOS scripts to work with CentOS 7.</p>
<blockquote>
<div><p>Contributed by Joe Sanford.</p>
</div></blockquote>
</li>
<li><p><strong>Events</strong>: The curses monitor no longer crashes when the
result of a task is empty.</p>
<blockquote>
<div><p>Fix contributed by Dongweiming.</p>
</div></blockquote>
</li>
<li><p><strong>Worker</strong>: <code class="docutils literal notranslate"><span class="pre">repr(worker)</span></code> would crash when called early
in the startup process (<span class="xref issue">Issue #2514</span>).</p></li>
<li><p><strong>Tasks</strong>: GroupResult now defines __bool__ and __nonzero__.</p>
<blockquote>
<div><p>This is to fix an issue where a ResultSet or GroupResult with an empty
result list are not properly tupled with the as_tuple() method when it is
a parent result. This is due to the as_tuple() method performing a logical
and operation on the ResultSet.</p>
<p>Fix contributed by Colin McIntosh.</p>
</div></blockquote>
</li>
<li><p><strong>Worker</strong>: Fixed wrong values in autoscale related logging message.</p>
<blockquote>
<div><p>Fix contributed by <code class="docutils literal notranslate"><span class="pre">&#64;raducc</span></code>.</p>
</div></blockquote>
</li>
<li><p>Documentation improvements by</p>
<blockquote>
<div><ul class="simple">
<li><p>Alexandru Chirila</p></li>
<li><p>Michael Aquilina</p></li>
<li><p>Mikko Ekström</p></li>
<li><p>Mitchel Humpherys</p></li>
<li><p>Thomas A. Neil</p></li>
<li><p>Tiago Moreira Vieira</p></li>
<li><p>Yuriy Syrovetskiy</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&#64;dessant</span></code></p></li>
</ul>
</div></blockquote>
</li>
</ul>
</section>
<section id="version-3-1-23">
<span id="id4"></span><h2>3.1.23<a class="headerlink" href="#version-3-1-23" title="Link to this heading">¶</a></h2>
<dl class="field-list simple">
<dt class="field-odd">release-date<span class="colon">:</span></dt>
<dd class="field-odd"><p>2016-03-09 06:00 P.M PST</p>
</dd>
<dt class="field-even">release-by<span class="colon">:</span></dt>
<dd class="field-even"><p>Ask Solem</p>
</dd>
</dl>
<ul class="simple">
<li><p><strong>Programs</strong>: Last release broke support for the <code class="docutils literal notranslate"><span class="pre">--hostnmame</span></code> argument
to <strong class="program">celery multi</strong> and <strong class="program">celery worker --detach</strong>
(<span class="xref issue">Issue #3103</span>).</p></li>
<li><p><strong>Results</strong>: MongoDB result backend could crash the worker at startup
if not configured using an URL.</p></li>
</ul>
</section>
<section id="version-3-1-22">
<span id="id5"></span><h2>3.1.22<a class="headerlink" href="#version-3-1-22" title="Link to this heading">¶</a></h2>
<dl class="field-list simple">
<dt class="field-odd">release-date<span class="colon">:</span></dt>
<dd class="field-odd"><p>2016-03-07 01:30 P.M PST</p>
</dd>
<dt class="field-even">release-by<span class="colon">:</span></dt>
<dd class="field-even"><p>Ask Solem</p>
</dd>
</dl>
<ul class="simple">
<li><p><strong>Programs</strong>: The worker would crash immediately on startup on
<code class="docutils literal notranslate"><span class="pre">backend.as_uri()</span></code> when using some result backends (<span class="xref issue">Issue #3094</span>).</p></li>
<li><p><strong>Programs</strong>: <strong class="program">celery multi</strong>/<strong class="program">celery worker --detach</strong>
would create an extraneous logfile including literal formats (e.g. <code class="docutils literal notranslate"><span class="pre">%I</span></code>)
in the filename (<span class="xref issue">Issue #3096</span>).</p></li>
</ul>
</section>
<section id="version-3-1-21">
<span id="id6"></span><h2>3.1.21<a class="headerlink" href="#version-3-1-21" title="Link to this heading">¶</a></h2>
<dl class="field-list simple">
<dt class="field-odd">release-date<span class="colon">:</span></dt>
<dd class="field-odd"><p>2016-03-04 11:16 a.m. PST</p>
</dd>
<dt class="field-even">release-by<span class="colon">:</span></dt>
<dd class="field-even"><p>Ask Solem</p>
</dd>
</dl>
<ul>
<li><p><strong>Requirements</strong></p>
<blockquote>
<div><ul class="simple">
<li><p>Now depends on <a class="reference external" href="https://docs.celeryq.dev/projects/kombu/en/main/changelog.html#version-3-0-34" title="（在 Kombu v5.5）"><span class="xref std std-ref">Kombu 3.0.34</span></a>.</p></li>
<li><p>Now depends on <code class="xref py py-mod docutils literal notranslate"><span class="pre">billiard</span></code> 3.3.0.23.</p></li>
</ul>
</div></blockquote>
</li>
<li><p><strong>Prefork pool</strong>: Fixes 100% CPU loop on Linux <em class="manpage">epoll</em>
(<span class="xref issue">Issue #1845</span>).</p>
<blockquote>
<div><p>Also potential fix for: <span class="xref issue">Issue #2142</span>, <span class="xref issue">Issue #2606</span></p>
</div></blockquote>
</li>
<li><p><strong>Prefork pool</strong>: Fixes memory leak related to processes exiting
(<span class="xref issue">Issue #2927</span>).</p></li>
<li><p><strong>Worker</strong>: Fixes crash at start-up when trying to censor passwords
in MongoDB and Cache result backend URLs (<span class="xref issue">Issue #3079</span>, <span class="xref issue">Issue #3045</span>,
<span class="xref issue">Issue #3049</span>, <span class="xref issue">Issue #3068</span>, <span class="xref issue">Issue #3073</span>).</p>
<blockquote>
<div><p>Fix contributed by Maxime Verger.</p>
</div></blockquote>
</li>
<li><p><strong>Task</strong>: An exception is now raised if countdown/expires is less
than -2147483648 (<span class="xref issue">Issue #3078</span>).</p></li>
<li><p><strong>Programs</strong>: <strong class="program">celery shell --ipython</strong> now compatible with newer
<a class="extlink-pypi reference external" href="https://pypi.org/project/IPython/">https://pypi.org/project/IPython/</a> versions.</p></li>
<li><p><strong>Programs</strong>: The DuplicateNodeName warning emitted by inspect/control
now includes a list of the node names returned.</p>
<blockquote>
<div><p>Contributed by Sebastian Kalinowski.</p>
</div></blockquote>
</li>
<li><p><strong>Utils</strong>: The <code class="docutils literal notranslate"><span class="pre">.discard(item)</span></code> method of
<a class="reference internal" href="../internals/reference/celery.utils.collections.html#celery.utils.collections.LimitedSet" title="celery.utils.collections.LimitedSet"><code class="xref py py-class docutils literal notranslate"><span class="pre">LimitedSet</span></code></a> didn't actually remove the item
(<span class="xref issue">Issue #3087</span>).</p>
<blockquote>
<div><p>Fix contributed by Dave Smith.</p>
</div></blockquote>
</li>
<li><p><strong>Worker</strong>: Node name formatting now emits less confusing error message
for unmatched format keys (<span class="xref issue">Issue #3016</span>).</p></li>
<li><p><strong>Results</strong>: RPC/AMQP backends: Fixed deserialization of JSON exceptions
(<span class="xref issue">Issue #2518</span>).</p>
<blockquote>
<div><p>Fix contributed by Allard Hoeve.</p>
</div></blockquote>
</li>
<li><p><strong>Prefork pool</strong>: The <cite>process inqueue damaged</cite> error message now includes
the original exception raised.</p></li>
<li><p><strong>Documentation</strong>: Includes improvements by:</p>
<blockquote>
<div><ul class="simple">
<li><p>Jeff Widman.</p></li>
</ul>
</div></blockquote>
</li>
</ul>
</section>
<section id="version-3-1-20">
<span id="id7"></span><h2>3.1.20<a class="headerlink" href="#version-3-1-20" title="Link to this heading">¶</a></h2>
<dl class="field-list simple">
<dt class="field-odd">release-date<span class="colon">:</span></dt>
<dd class="field-odd"><p>2016-01-22 06:50 p.m. UTC</p>
</dd>
<dt class="field-even">release-by<span class="colon">:</span></dt>
<dd class="field-even"><p>Ask Solem</p>
</dd>
</dl>
<ul>
<li><p><strong>Requirements</strong></p>
<blockquote>
<div><ul>
<li><p>Now depends on <a class="reference external" href="https://docs.celeryq.dev/projects/kombu/en/main/changelog.html#version-3-0-33" title="（在 Kombu v5.5）"><span class="xref std std-ref">Kombu 3.0.33</span></a>.</p></li>
<li><p>Now depends on <code class="xref py py-mod docutils literal notranslate"><span class="pre">billiard</span></code> 3.3.0.22.</p>
<blockquote>
<div><p>Includes binary wheels for Microsoft Windows x86 and x86_64!</p>
</div></blockquote>
</li>
</ul>
</div></blockquote>
</li>
<li><p><strong>Task</strong>: Error emails now uses <code class="docutils literal notranslate"><span class="pre">utf-8</span></code> character set by default
(<span class="xref issue">Issue #2737</span>).</p></li>
<li><p><strong>Task</strong>: Retry now forwards original message headers (<span class="xref issue">Issue #3017</span>).</p></li>
<li><p><strong>Worker</strong>: Bootsteps can now hook into <code class="docutils literal notranslate"><span class="pre">on_node_join</span></code>/<code class="docutils literal notranslate"><span class="pre">leave</span></code>/<code class="docutils literal notranslate"><span class="pre">lost</span></code>.</p>
<blockquote>
<div><p>See <a class="reference internal" href="../userguide/extending.html#extending-consumer-attributes"><span class="std std-ref">属性</span></a> for an example.</p>
</div></blockquote>
</li>
<li><p><strong>Events</strong>: Fixed handling of DST timezones (<span class="xref issue">Issue #2983</span>).</p></li>
<li><p><strong>Results</strong>: Redis backend stopped respecting certain settings.</p>
<blockquote>
<div><p>Contributed by Jeremy Llewellyn.</p>
</div></blockquote>
</li>
<li><p><strong>Results</strong>: Database backend now properly supports JSON exceptions
(<span class="xref issue">Issue #2441</span>).</p></li>
<li><p><strong>Results</strong>: Redis <code class="docutils literal notranslate"><span class="pre">new_join</span></code> didn't properly call task errbacks on chord
error (<span class="xref issue">Issue #2796</span>).</p></li>
<li><p><strong>Results</strong>: Restores Redis compatibility with Python <a class="extlink-pypi reference external" href="https://pypi.org/project/redis/">https://pypi.org/project/redis/</a> &lt; 2.10.0
(<span class="xref issue">Issue #2903</span>).</p></li>
<li><p><strong>Results</strong>: Fixed rare issue with chord error handling (<span class="xref issue">Issue #2409</span>).</p></li>
<li><p><strong>Tasks</strong>: Using queue-name values in <code class="xref std std-setting docutils literal notranslate"><span class="pre">CELERY_ROUTES</span></code> now works
again (<span class="xref issue">Issue #2987</span>).</p></li>
<li><p><strong>General</strong>: Result backend password now sanitized in report output
(<span class="xref issue">Issue #2812</span>, <span class="xref issue">Issue #2004</span>).</p></li>
<li><p><strong>Configuration</strong>: Now gives helpful error message when the result backend
configuration points to a module, and not a class (<span class="xref issue">Issue #2945</span>).</p></li>
<li><p><strong>Results</strong>: Exceptions sent by JSON serialized workers are now properly
handled by pickle configured workers.</p></li>
<li><p><strong>Programs</strong>: <code class="docutils literal notranslate"><span class="pre">celery</span> <span class="pre">control</span> <span class="pre">autoscale</span></code> now works (<span class="xref issue">Issue #2950</span>).</p></li>
<li><p><strong>Programs</strong>: <code class="docutils literal notranslate"><span class="pre">celery</span> <span class="pre">beat</span> <span class="pre">--detached</span></code> now runs after fork callbacks.</p></li>
<li><p><strong>General</strong>: Fix for LRU cache implementation on Python 3.5 (<span class="xref issue">Issue #2897</span>).</p>
<blockquote>
<div><p>Contributed by Dennis Brakhane.</p>
<p>Python 3.5's <code class="docutils literal notranslate"><span class="pre">OrderedDict</span></code> doesn't allow mutation while it is being
iterated over. This breaks &quot;update&quot; if it is called with a dict
larger than the maximum size.</p>
<p>This commit changes the code to a version that doesn't iterate over
the dict, and should also be a little bit faster.</p>
</div></blockquote>
</li>
<li><p><strong>Init-scripts</strong>: The beat init-script now properly reports service as down
when no pid file can be found.</p>
<blockquote>
<div><p>Eric Zarowny</p>
</div></blockquote>
</li>
<li><p><strong>Beat</strong>: Added cleaning of corrupted scheduler files for some storage
backend errors (<span class="xref issue">Issue #2985</span>).</p>
<blockquote>
<div><p>Fix contributed by Aleksandr Kuznetsov.</p>
</div></blockquote>
</li>
<li><p><strong>Beat</strong>: Now syncs the schedule even if the schedule is empty.</p>
<blockquote>
<div><p>Fix contributed by Colin McIntosh.</p>
</div></blockquote>
</li>
<li><dl>
<dt><strong>Supervisord</strong>: Set higher process priority in the <a class="extlink-pypi reference external" href="https://pypi.org/project/supervisord/">https://pypi.org/project/supervisord/</a></dt><dd><p>example.</p>
<p>Contributed by George Tantiras.</p>
</dd>
</dl>
</li>
<li><p><strong>Documentation</strong>: Includes improvements by:</p>
<blockquote>
<div><p><a class="extlink-github_user reference external" href="https://github.com/Bryson/">&#64;Bryson</a>
Caleb Mingle
Christopher Martin
Dieter Adriaenssens
Jason Veatch
Jeremy Cline
Juan Rossi
Kevin Harvey
Kevin McCarthy
Kirill Pavlov
Marco Buttu
<a class="extlink-github_user reference external" href="https://github.com/Mayflower/">&#64;Mayflower</a>
Mher Movsisyan
Michael Floering
<a class="extlink-github_user reference external" href="https://github.com/michael-k/">&#64;michael-k</a>
Nathaniel Varona
Rudy Attias
Ryan Luckie
Steven Parker
<a class="extlink-github_user reference external" href="https://github.com/squfrans/">&#64;squfrans</a>
Tadej Janež
TakesxiSximada
Tom S</p>
</div></blockquote>
</li>
</ul>
</section>
<section id="version-3-1-19">
<span id="id8"></span><h2>3.1.19<a class="headerlink" href="#version-3-1-19" title="Link to this heading">¶</a></h2>
<dl class="field-list simple">
<dt class="field-odd">release-date<span class="colon">:</span></dt>
<dd class="field-odd"><p>2015-10-26 01:00 p.m. UTC</p>
</dd>
<dt class="field-even">release-by<span class="colon">:</span></dt>
<dd class="field-even"><p>Ask Solem</p>
</dd>
</dl>
<ul>
<li><p><strong>Requirements</strong></p>
<blockquote>
<div><ul class="simple">
<li><p>Now depends on <a class="reference external" href="https://docs.celeryq.dev/projects/kombu/en/main/changelog.html#version-3-0-29" title="（在 Kombu v5.5）"><span class="xref std std-ref">Kombu 3.0.29</span></a>.</p></li>
<li><p>Now depends on <code class="xref py py-mod docutils literal notranslate"><span class="pre">billiard</span></code> 3.3.0.21.</p></li>
</ul>
</div></blockquote>
</li>
<li><p><strong>Results</strong>: Fixed MongoDB result backend URL parsing problem
(Issue celery/kombu#375).</p></li>
<li><p><strong>Worker</strong>: Task request now properly sets <code class="docutils literal notranslate"><span class="pre">priority</span></code> in delivery_info.</p>
<blockquote>
<div><p>Fix contributed by Gerald Manipon.</p>
</div></blockquote>
</li>
<li><p><strong>Beat</strong>: PyPy shelve may raise <code class="docutils literal notranslate"><span class="pre">KeyError</span></code> when setting keys
(<span class="xref issue">Issue #2862</span>).</p></li>
<li><p><strong>Programs</strong>: <strong class="program">celery beat --deatched</strong> now working on PyPy.</p>
<blockquote>
<div><p>Fix contributed by Krzysztof Bujniewicz.</p>
</div></blockquote>
</li>
<li><p><strong>Results</strong>: Redis result backend now ensures all pipelines are cleaned up.</p>
<blockquote>
<div><p>Contributed by Justin Patrin.</p>
</div></blockquote>
</li>
<li><p><strong>Results</strong>: Redis result backend now allows for timeout to be set in the
query portion of the result backend URL.</p>
<blockquote>
<div><p>For example <code class="docutils literal notranslate"><span class="pre">CELERY_RESULT_BACKEND</span> <span class="pre">=</span> <span class="pre">'redis://?timeout=10'</span></code></p>
<p>Contributed by Justin Patrin.</p>
</div></blockquote>
</li>
<li><p><strong>Results</strong>: <code class="docutils literal notranslate"><span class="pre">result.get</span></code> now properly handles failures where the
exception value is set to <code class="xref py py-const docutils literal notranslate"><span class="pre">None</span></code> (<span class="xref issue">Issue #2560</span>).</p></li>
<li><p><strong>Prefork pool</strong>: Fixed attribute error <code class="docutils literal notranslate"><span class="pre">proc.dead</span></code>.</p></li>
<li><p><strong>Worker</strong>: Fixed worker hanging when gossip/heartbeat disabled
(<span class="xref issue">Issue #1847</span>).</p>
<blockquote>
<div><p>Fix contributed by Aaron Webber and Bryan Helmig.</p>
</div></blockquote>
</li>
<li><p><strong>Results</strong>: MongoDB result backend now supports pymongo 3.x
(<span class="xref issue">Issue #2744</span>).</p>
<blockquote>
<div><p>Fix contributed by Sukrit Khera.</p>
</div></blockquote>
</li>
<li><p><strong>Results</strong>: RPC/AMQP backends didn't deserialize exceptions properly
(<span class="xref issue">Issue #2691</span>).</p>
<blockquote>
<div><p>Fix contributed by Sukrit Khera.</p>
</div></blockquote>
</li>
<li><p><strong>Programs</strong>: Fixed problem with <strong class="program">celery amqp</strong>'s
<code class="docutils literal notranslate"><span class="pre">basic_publish</span></code> (<span class="xref issue">Issue #2013</span>).</p></li>
<li><p><strong>Worker</strong>: Embedded beat now properly sets app for thread/process
(<span class="xref issue">Issue #2594</span>).</p></li>
<li><p><strong>Documentation</strong>: Many improvements and typos fixed.</p>
<blockquote>
<div><p>Contributions by:</p>
<blockquote>
<div><p>Carlos Garcia-Dubus
D. Yu
<a class="extlink-github_user reference external" href="https://github.com/jerry/">&#64;jerry</a>
Jocelyn Delalande
Josh Kupershmidt
Juan Rossi
<a class="extlink-github_user reference external" href="https://github.com/kanemra/">&#64;kanemra</a>
Paul Pearce
Pavel Savchenko
Sean Wang
Seungha Kim
Zhaorong Ma</p>
</div></blockquote>
</div></blockquote>
</li>
</ul>
</section>
<section id="version-3-1-18">
<span id="id9"></span><h2>3.1.18<a class="headerlink" href="#version-3-1-18" title="Link to this heading">¶</a></h2>
<dl class="field-list simple">
<dt class="field-odd">release-date<span class="colon">:</span></dt>
<dd class="field-odd"><p>2015-04-22 05:30 p.m. UTC</p>
</dd>
<dt class="field-even">release-by<span class="colon">:</span></dt>
<dd class="field-even"><p>Ask Solem</p>
</dd>
</dl>
<ul>
<li><p><strong>Requirements</strong></p>
<blockquote>
<div><ul class="simple">
<li><p>Now depends on <a class="reference external" href="https://docs.celeryq.dev/projects/kombu/en/main/changelog.html#version-3-0-25" title="（在 Kombu v5.5）"><span class="xref std std-ref">Kombu 3.0.25</span></a>.</p></li>
<li><p>Now depends on <code class="xref py py-mod docutils literal notranslate"><span class="pre">billiard</span></code> 3.3.0.20.</p></li>
</ul>
</div></blockquote>
</li>
<li><p><strong>Django</strong>: Now supports Django 1.8 (<span class="xref issue">Issue #2536</span>).</p>
<blockquote>
<div><p>Fix contributed by Bence Tamas and Mickaël Penhard.</p>
</div></blockquote>
</li>
<li><p><strong>Results</strong>: MongoDB result backend now compatible with pymongo 3.0.</p>
<blockquote>
<div><p>Fix contributed by Fatih Sucu.</p>
</div></blockquote>
</li>
<li><p><strong>Tasks</strong>: Fixed bug only happening when a task has multiple callbacks
(<span class="xref issue">Issue #2515</span>).</p>
<blockquote>
<div><p>Fix contributed by NotSqrt.</p>
</div></blockquote>
</li>
<li><p><strong>Commands</strong>: Preload options now support <code class="docutils literal notranslate"><span class="pre">--arg</span> <span class="pre">value</span></code> syntax.</p>
<blockquote>
<div><p>Fix contributed by John Anderson.</p>
</div></blockquote>
</li>
<li><p><strong>Compat</strong>: A typo caused <code class="docutils literal notranslate"><span class="pre">celery.log.setup_logging_subsystem</span></code> to be
undefined.</p>
<blockquote>
<div><p>Fix contributed by Gunnlaugur Thor Briem.</p>
</div></blockquote>
</li>
<li><p><strong>init-scripts</strong>: The beat generic init-script now uses
<code class="file docutils literal notranslate"><span class="pre">/bin/sh</span></code> instead of <strong class="command">bash</strong> (<span class="xref issue">Issue #2496</span>).</p>
<blockquote>
<div><p>Fix contributed by Jelle Verstraaten.</p>
</div></blockquote>
</li>
<li><p><strong>Django</strong>: Fixed a <a class="reference external" href="https://docs.python.org/dev/library/exceptions.html#TypeError" title="（在 Python v3.15）"><code class="xref py py-exc docutils literal notranslate"><span class="pre">TypeError</span></code></a> sometimes occurring in logging
when validating models.</p>
<blockquote>
<div><p>Fix contributed by Alexander.</p>
</div></blockquote>
</li>
<li><p><strong>Commands</strong>: Worker now supports new
<a class="reference internal" href="../reference/cli.html#cmdoption-celery-worker-executable"><code class="xref std std-option docutils literal notranslate"><span class="pre">--executable</span></code></a> argument that can
be used with <a class="reference internal" href="../reference/cli.html#cmdoption-celery-worker-D"><code class="xref std std-option docutils literal notranslate"><span class="pre">celery</span> <span class="pre">worker</span> <span class="pre">--detach</span></code></a>.</p>
<blockquote>
<div><p>Contributed by Bert Vanderbauwhede.</p>
</div></blockquote>
</li>
<li><p><strong>Canvas</strong>: Fixed crash in chord unlock fallback task (<span class="xref issue">Issue #2404</span>).</p></li>
<li><p><strong>Worker</strong>: Fixed rare crash occurring with
<a class="reference internal" href="../reference/cli.html#cmdoption-celery-worker-autoscale"><code class="xref std std-option docutils literal notranslate"><span class="pre">--autoscale</span></code></a> enabled (<span class="xref issue">Issue #2411</span>).</p></li>
<li><p><strong>Django</strong>: Properly recycle worker Django database connections when the
Django <code class="docutils literal notranslate"><span class="pre">CONN_MAX_AGE</span></code> setting is enabled (<span class="xref issue">Issue #2453</span>).</p>
<blockquote>
<div><p>Fix contributed by Luke Burden.</p>
</div></blockquote>
</li>
</ul>
</section>
<section id="version-3-1-17">
<span id="id10"></span><h2>3.1.17<a class="headerlink" href="#version-3-1-17" title="Link to this heading">¶</a></h2>
<dl class="field-list simple">
<dt class="field-odd">release-date<span class="colon">:</span></dt>
<dd class="field-odd"><p>2014-11-19 03:30 p.m. UTC</p>
</dd>
<dt class="field-even">release-by<span class="colon">:</span></dt>
<dd class="field-even"><p>Ask Solem</p>
</dd>
</dl>
<div class="admonition-don-t-enable-the-celeryd-force-execv-setting admonition">
<p class="admonition-title">Don't enable the <cite>CELERYD_FORCE_EXECV</cite> setting!</p>
<p>Please review your configuration and disable this option if you're using the
RabbitMQ or Redis transport.</p>
<p>Keeping this option enabled after 3.1 means the async based prefork pool will
be disabled, which can easily cause instability.</p>
</div>
<ul>
<li><p><strong>Requirements</strong></p>
<blockquote>
<div><ul>
<li><p>Now depends on <a class="reference external" href="https://docs.celeryq.dev/projects/kombu/en/main/changelog.html#version-3-0-24" title="（在 Kombu v5.5）"><span class="xref std std-ref">Kombu 3.0.24</span></a>.</p>
<blockquote>
<div><p>Includes the new Qpid transport coming in Celery 3.2, backported to
support those who may still require Python 2.6 compatibility.</p>
</div></blockquote>
</li>
<li><p>Now depends on <code class="xref py py-mod docutils literal notranslate"><span class="pre">billiard</span></code> 3.3.0.19.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">celery[librabbitmq]</span></code> now depends on librabbitmq 1.6.1.</p></li>
</ul>
</div></blockquote>
</li>
<li><p><strong>Task</strong>: The timing of ETA/countdown tasks were off after the example <code class="docutils literal notranslate"><span class="pre">LocalTimezone</span></code>
implementation in the Python documentation no longer works in Python 3.4.
(<span class="xref issue">Issue #2306</span>).</p></li>
<li><p><strong>Task</strong>: Raising <a class="reference internal" href="../reference/celery.exceptions.html#celery.exceptions.Ignore" title="celery.exceptions.Ignore"><code class="xref py py-exc docutils literal notranslate"><span class="pre">Ignore</span></code></a> no longer sends
<code class="docutils literal notranslate"><span class="pre">task-failed</span></code> event (<span class="xref issue">Issue #2365</span>).</p></li>
<li><p><strong>Redis result backend</strong>: Fixed unbound local errors.</p>
<blockquote>
<div><p>Fix contributed by Thomas French.</p>
</div></blockquote>
</li>
<li><p><strong>Task</strong>: Callbacks wasn't called properly if <code class="docutils literal notranslate"><span class="pre">link</span></code> was a list of
signatures (<span class="xref issue">Issue #2350</span>).</p></li>
<li><p><strong>Canvas</strong>: chain and group now handles json serialized signatures
(<span class="xref issue">Issue #2076</span>).</p></li>
<li><p><strong>Results</strong>: <code class="docutils literal notranslate"><span class="pre">.join_native()</span></code> would accidentally treat the <code class="docutils literal notranslate"><span class="pre">STARTED</span></code>
state as being ready (<span class="xref issue">Issue #2326</span>).</p>
<blockquote>
<div><p>This could lead to the chord callback being called with invalid arguments
when using chords with the <code class="xref std std-setting docutils literal notranslate"><span class="pre">CELERY_TRACK_STARTED</span></code> setting
enabled.</p>
</div></blockquote>
</li>
<li><p><strong>Canvas</strong>: The <code class="docutils literal notranslate"><span class="pre">chord_size</span></code> attribute is now set for all canvas primitives,
making sure more combinations will work with the <code class="docutils literal notranslate"><span class="pre">new_join</span></code> optimization
for Redis (<span class="xref issue">Issue #2339</span>).</p></li>
<li><p><strong>Task</strong>: Fixed problem with app not being properly propagated to
<code class="docutils literal notranslate"><span class="pre">trace_task</span></code> in all cases.</p>
<blockquote>
<div><p>Fix contributed by <a class="extlink-github_user reference external" href="https://github.com/kristaps/">&#64;kristaps</a>.</p>
</div></blockquote>
</li>
<li><p><strong>Worker</strong>: Expires from task message now associated with a timezone.</p>
<blockquote>
<div><p>Fix contributed by Albert Wang.</p>
</div></blockquote>
</li>
<li><p><strong>Cassandra result backend</strong>: Fixed problems when using detailed mode.</p>
<blockquote>
<div><p>When using the Cassandra backend in detailed mode, a regression
caused errors when attempting to retrieve results.</p>
<p>Fix contributed by Gino Ledesma.</p>
</div></blockquote>
</li>
<li><p><strong>Mongodb Result backend</strong>: Pickling the backend instance will now include
the original URL (<span class="xref issue">Issue #2347</span>).</p>
<blockquote>
<div><p>Fix contributed by Sukrit Khera.</p>
</div></blockquote>
</li>
<li><p><strong>Task</strong>: Exception info wasn't properly set for tasks raising
<a class="reference internal" href="../reference/celery.exceptions.html#celery.exceptions.Reject" title="celery.exceptions.Reject"><code class="xref py py-exc docutils literal notranslate"><span class="pre">Reject</span></code></a> (<span class="xref issue">Issue #2043</span>).</p></li>
<li><p><strong>Worker</strong>: Duplicates are now removed when loading the set of revoked tasks
from the worker state database (<span class="xref issue">Issue #2336</span>).</p></li>
<li><p><strong>celery.contrib.rdb</strong>: Fixed problems with <code class="docutils literal notranslate"><span class="pre">rdb.set_trace</span></code> calling stop
from the wrong frame.</p>
<blockquote>
<div><p>Fix contributed by <a class="extlink-github_user reference external" href="https://github.com/llllllllll/">&#64;llllllllll</a>.</p>
</div></blockquote>
</li>
<li><p><strong>Canvas</strong>: <code class="docutils literal notranslate"><span class="pre">chain</span></code> and <code class="docutils literal notranslate"><span class="pre">chord</span></code> can now be immutable.</p></li>
<li><p><strong>Canvas</strong>: <code class="docutils literal notranslate"><span class="pre">chord.apply_async</span></code> will now keep partial args set in
<code class="docutils literal notranslate"><span class="pre">self.args</span></code> (<span class="xref issue">Issue #2299</span>).</p></li>
<li><p><strong>Results</strong>: Small refactoring so that results are decoded the same way in
all result backends.</p></li>
<li><p><strong>Logging</strong>: The <code class="docutils literal notranslate"><span class="pre">processName</span></code> format was introduced in Python 2.6.2 so for
compatibility this format is now excluded when using earlier versions
(<span class="xref issue">Issue #1644</span>).</p></li>
</ul>
</section>
<section id="version-3-1-16">
<span id="id11"></span><h2>3.1.16<a class="headerlink" href="#version-3-1-16" title="Link to this heading">¶</a></h2>
<dl class="field-list simple">
<dt class="field-odd">release-date<span class="colon">:</span></dt>
<dd class="field-odd"><p>2014-10-03 06:00 p.m. UTC</p>
</dd>
<dt class="field-even">release-by<span class="colon">:</span></dt>
<dd class="field-even"><p>Ask Solem</p>
</dd>
</dl>
<ul>
<li><p><strong>Worker</strong>: 3.1.15 broke <a class="reference internal" href="../reference/cli.html#cmdoption-celery-worker-O"><code class="xref std std-option docutils literal notranslate"><span class="pre">-Ofair</span></code></a>
behavior (<span class="xref issue">Issue #2286</span>).</p>
<blockquote>
<div><p>This regression could result in all tasks executing
in a single child process if <code class="docutils literal notranslate"><span class="pre">-Ofair</span></code> was enabled.</p>
</div></blockquote>
</li>
<li><p><strong>Canvas</strong>: <code class="docutils literal notranslate"><span class="pre">celery.signature</span></code> now properly forwards app argument
in all cases.</p></li>
<li><p><strong>Task</strong>: <code class="docutils literal notranslate"><span class="pre">.retry()</span></code> didn't raise the exception correctly
when called without a current exception.</p>
<blockquote>
<div><p>Fix contributed by Andrea Rabbaglietti.</p>
</div></blockquote>
</li>
<li><p><strong>Worker</strong>: The <code class="docutils literal notranslate"><span class="pre">enable_events</span></code> remote control command
disabled worker-related events by mistake (<span class="xref issue">Issue #2272</span>).</p>
<blockquote>
<div><p>Fix contributed by Konstantinos Koukopoulos.</p>
</div></blockquote>
</li>
<li><p><strong>Django</strong>: Adds support for Django 1.7 class names in INSTALLED_APPS
when using <code class="docutils literal notranslate"><span class="pre">app.autodiscover_tasks()</span></code>  (<span class="xref issue">Issue #2248</span>).</p></li>
<li><p><strong>Sphinx</strong>: <code class="docutils literal notranslate"><span class="pre">celery.contrib.sphinx</span></code> now uses <code class="docutils literal notranslate"><span class="pre">getfullargspec</span></code>
on Python 3 (<span class="xref issue">Issue #2302</span>).</p></li>
<li><p><strong>Redis/Cache Backends</strong>: Chords will now run at most once if one or more tasks
in the chord are executed multiple times for some reason.</p></li>
</ul>
</section>
<section id="version-3-1-15">
<span id="id12"></span><h2>3.1.15<a class="headerlink" href="#version-3-1-15" title="Link to this heading">¶</a></h2>
<dl class="field-list simple">
<dt class="field-odd">release-date<span class="colon">:</span></dt>
<dd class="field-odd"><p>2014-09-14 11:00 p.m. UTC</p>
</dd>
<dt class="field-even">release-by<span class="colon">:</span></dt>
<dd class="field-even"><p>Ask Solem</p>
</dd>
</dl>
<ul class="simple">
<li><p><strong>Django</strong>: Now makes sure <code class="docutils literal notranslate"><span class="pre">django.setup()</span></code> is called
before importing any task modules (Django 1.7 compatibility, <span class="xref issue">Issue #2227</span>)</p></li>
<li><p><strong>Results</strong>: <code class="docutils literal notranslate"><span class="pre">result.get()</span></code> was misbehaving by calling
<code class="docutils literal notranslate"><span class="pre">backend.get_task_meta</span></code> in a <a class="reference external" href="https://docs.python.org/dev/reference/compound_stmts.html#finally" title="（在 Python v3.15）"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">finally</span></code></a> call leading to
AMQP result backend queues not being properly cleaned up (<span class="xref issue">Issue #2245</span>).</p></li>
</ul>
</section>
<section id="version-3-1-14">
<span id="id13"></span><h2>3.1.14<a class="headerlink" href="#version-3-1-14" title="Link to this heading">¶</a></h2>
<dl class="field-list simple">
<dt class="field-odd">release-date<span class="colon">:</span></dt>
<dd class="field-odd"><p>2014-09-08 03:00 p.m. UTC</p>
</dd>
<dt class="field-even">release-by<span class="colon">:</span></dt>
<dd class="field-even"><p>Ask Solem</p>
</dd>
</dl>
<ul>
<li><p><strong>Requirements</strong></p>
<blockquote>
<div><ul class="simple">
<li><p>Now depends on <a class="reference external" href="https://docs.celeryq.dev/projects/kombu/en/main/changelog.html#version-3-0-22" title="（在 Kombu v5.5）"><span class="xref std std-ref">Kombu 3.0.22</span></a>.</p></li>
</ul>
</div></blockquote>
</li>
<li><p><strong>Init-scripts</strong>: The generic worker init-scripts <code class="docutils literal notranslate"><span class="pre">status</span></code> command
now gets an accurate pidfile list (<span class="xref issue">Issue #1942</span>).</p></li>
<li><dl>
<dt><strong>Init-scripts</strong>: The generic beat script now implements the <code class="docutils literal notranslate"><span class="pre">status</span></code></dt><dd><p>command.</p>
<blockquote>
<div><p>Contributed by John Whitlock.</p>
</div></blockquote>
</dd>
</dl>
</li>
<li><p><strong>Commands</strong>: Multi now writes informational output to stdout instead of stderr.</p></li>
<li><p><strong>Worker</strong>: Now ignores not implemented error for <code class="docutils literal notranslate"><span class="pre">pool.restart</span></code>
(<span class="xref issue">Issue #2153</span>).</p></li>
<li><p><strong>Task</strong>: Retry no longer raises retry exception when executed in eager
mode (<span class="xref issue">Issue #2164</span>).</p></li>
<li><p><strong>AMQP Result backend</strong>: Now ensured <code class="docutils literal notranslate"><span class="pre">on_interval</span></code> is called at least
every second for blocking calls to properly propagate parent errors.</p></li>
<li><p><strong>Django</strong>: Compatibility with Django 1.7 on Windows (<span class="xref issue">Issue #2126</span>).</p></li>
<li><p><strong>Programs</strong>: <code class="xref std std-option docutils literal notranslate"><span class="pre">--umask</span></code> argument can now be
specified in both octal (if starting with 0) or decimal.</p></li>
</ul>
</section>
<section id="version-3-1-13">
<span id="id14"></span><h2>3.1.13<a class="headerlink" href="#version-3-1-13" title="Link to this heading">¶</a></h2>
<section id="security-fixes">
<h3>Security Fixes<a class="headerlink" href="#security-fixes" title="Link to this heading">¶</a></h3>
<ul>
<li><p>[Security: <a class="reference external" href="https://github.com/celery/celery/tree/master/docs/sec/CELERYSA-0002.txt">CELERYSA-0002</a>] Insecure default umask.</p>
<blockquote>
<div><p>The built-in utility used to daemonize the Celery worker service sets
an insecure umask by default (umask 0).</p>
<p>This means that any files or directories created by the worker will
end up having world-writable permissions.</p>
<p>Special thanks to Red Hat for originally discovering and reporting the
issue!</p>
<p>This version will no longer set a default umask by default, so if unset
the umask of the parent process will be used.</p>
</div></blockquote>
</li>
</ul>
</section>
<section id="news">
<h3>News<a class="headerlink" href="#news" title="Link to this heading">¶</a></h3>
<ul>
<li><p><strong>Requirements</strong></p>
<blockquote>
<div><ul class="simple">
<li><p>Now depends on <a class="reference external" href="https://docs.celeryq.dev/projects/kombu/en/main/changelog.html#version-3-0-21" title="（在 Kombu v5.5）"><span class="xref std std-ref">Kombu 3.0.21</span></a>.</p></li>
<li><p>Now depends on <code class="xref py py-mod docutils literal notranslate"><span class="pre">billiard</span></code> 3.3.0.18.</p></li>
</ul>
</div></blockquote>
</li>
<li><p><strong>App</strong>: <code class="docutils literal notranslate"><span class="pre">backend</span></code> argument now also sets the <code class="xref std std-setting docutils literal notranslate"><span class="pre">CELERY_RESULT_BACKEND</span></code>
setting.</p></li>
<li><p><strong>Task</strong>: <code class="docutils literal notranslate"><span class="pre">signature_from_request</span></code> now propagates <code class="docutils literal notranslate"><span class="pre">reply_to</span></code> so that
the RPC backend works with retried tasks (<span class="xref issue">Issue #2113</span>).</p></li>
<li><p><strong>Task</strong>: <code class="docutils literal notranslate"><span class="pre">retry</span></code> will no longer attempt to re-queue the task if sending
the retry message fails.</p>
<blockquote>
<div><p>Unrelated exceptions being raised could cause a message loop, so it was
better to remove this behavior.</p>
</div></blockquote>
</li>
<li><p><strong>Beat</strong>: Accounts for standard 1ms drift by always waking up 0.010s
earlier.</p>
<blockquote>
<div><p>This will adjust the latency so that the periodic tasks won't move
1ms after every invocation.</p>
</div></blockquote>
</li>
<li><p>Documentation fixes</p>
<blockquote>
<div><p>Contributed by Yuval Greenfield, Lucas Wiman, <a class="extlink-github_user reference external" href="https://github.com/nicholsonjf/">&#64;nicholsonjf</a>.</p>
</div></blockquote>
</li>
<li><p><strong>Worker</strong>: Removed an outdated assert statement that could lead to errors
being masked (<span class="xref issue">Issue #2086</span>).</p></li>
</ul>
</section>
</section>
<section id="version-3-1-12">
<span id="id15"></span><h2>3.1.12<a class="headerlink" href="#version-3-1-12" title="Link to this heading">¶</a></h2>
<dl class="field-list simple">
<dt class="field-odd">release-date<span class="colon">:</span></dt>
<dd class="field-odd"><p>2014-06-09 10:12 p.m. UTC</p>
</dd>
<dt class="field-even">release-by<span class="colon">:</span></dt>
<dd class="field-even"><p>Ask Solem</p>
</dd>
</dl>
<ul>
<li><p><strong>Requirements</strong></p>
<blockquote>
<div><p>Now depends on <a class="reference external" href="https://docs.celeryq.dev/projects/kombu/en/main/changelog.html#version-3-0-19" title="（在 Kombu v5.5）"><span class="xref std std-ref">Kombu 3.0.19</span></a>.</p>
</div></blockquote>
</li>
<li><p><strong>App</strong>: Connections weren't being closed after fork due to an error in the
after fork handler (<span class="xref issue">Issue #2055</span>).</p>
<blockquote>
<div><p>This could manifest itself by causing framing errors when using RabbitMQ.
(<code class="docutils literal notranslate"><span class="pre">Unexpected</span> <span class="pre">frame</span></code>).</p>
</div></blockquote>
</li>
<li><p><strong>Django</strong>: <code class="docutils literal notranslate"><span class="pre">django.setup()</span></code> was being called too late when
using Django 1.7 (<span class="xref issue">Issue #1802</span>).</p></li>
<li><p><strong>Django</strong>: Fixed problems with event timezones when using Django
(<code class="docutils literal notranslate"><span class="pre">Substantial</span> <span class="pre">drift</span></code>).</p>
<blockquote>
<div><p>Celery didn't take into account that Django modifies the
<code class="docutils literal notranslate"><span class="pre">time.timeone</span></code> attributes and friends.</p>
</div></blockquote>
</li>
<li><p><strong>Canvas</strong>: <code class="docutils literal notranslate"><span class="pre">Signature.link</span></code> now works when the link option is a scalar
value (<span class="xref issue">Issue #2019</span>).</p></li>
<li><p><strong>Prefork pool</strong>: Fixed race conditions for when file descriptors are
removed from the event loop.</p>
<blockquote>
<div><p>Fix contributed by Roger Hu.</p>
</div></blockquote>
</li>
<li><p><strong>Prefork pool</strong>: Improved solution for dividing tasks between child
processes.</p>
<blockquote>
<div><p>This change should improve performance when there are many child
processes, and also decrease the chance that two subsequent tasks are
written to the same child process.</p>
</div></blockquote>
</li>
<li><p><strong>Worker</strong>: Now ignores unknown event types, instead of crashing.</p>
<blockquote>
<div><p>Fix contributed by Illes Solt.</p>
</div></blockquote>
</li>
<li><p><strong>Programs</strong>: <strong class="program">celery worker --detach</strong> no longer closes open file
descriptors when <span class="target" id="index-0"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">C_FAKEFORK</span></code> is used so that the workers output
can be seen.</p></li>
<li><p><strong>Programs</strong>: The default working directory for <strong class="program">celery worker
--detach</strong> is now the current working directory, not <code class="docutils literal notranslate"><span class="pre">/</span></code>.</p></li>
<li><p><strong>Canvas</strong>: <code class="docutils literal notranslate"><span class="pre">signature(s,</span> <span class="pre">app=app)</span></code> didn't upgrade serialized signatures
to their original class (<code class="docutils literal notranslate"><span class="pre">subtask_type</span></code>) when the <code class="docutils literal notranslate"><span class="pre">app</span></code> keyword argument
was used.</p></li>
<li><p><strong>Control</strong>: The <code class="docutils literal notranslate"><span class="pre">duplicate</span> <span class="pre">nodename</span></code> warning emitted by control commands
now shows the duplicate node name.</p></li>
<li><p><strong>Tasks</strong>: Can now call <code class="docutils literal notranslate"><span class="pre">ResultSet.get()</span></code> on a result set without members.</p>
<blockquote>
<div><p>Fix contributed by Alexey Kotlyarov.</p>
</div></blockquote>
</li>
<li><p><strong>App</strong>: Fixed strange traceback mangling issue for
<code class="docutils literal notranslate"><span class="pre">app.connection_or_acquire</span></code>.</p></li>
<li><p><strong>Programs</strong>: The <strong class="program">celery multi stopwait</strong> command is now documented
in usage.</p></li>
<li><p><strong>Other</strong>: Fixed cleanup problem with <code class="docutils literal notranslate"><span class="pre">PromiseProxy</span></code> when an error is
raised while trying to evaluate the promise.</p></li>
<li><p><strong>Other</strong>: The utility used to censor configuration values now handles
non-string keys.</p>
<blockquote>
<div><p>Fix contributed by Luke Pomfrey.</p>
</div></blockquote>
</li>
<li><p><strong>Other</strong>: The <code class="docutils literal notranslate"><span class="pre">inspect</span> <span class="pre">conf</span></code> command didn't handle non-string keys well.</p>
<blockquote>
<div><p>Fix contributed by Jay Farrimond.</p>
</div></blockquote>
</li>
<li><p><strong>Programs</strong>: Fixed argument handling problem in
<strong class="program">celery worker --detach</strong>.</p>
<blockquote>
<div><p>Fix contributed by Dmitry Malinovsky.</p>
</div></blockquote>
</li>
<li><p><strong>Programs</strong>: <strong class="program">celery worker --detach</strong> didn't forward working
directory option (<span class="xref issue">Issue #2003</span>).</p></li>
<li><p><strong>Programs</strong>: <strong class="program">celery inspect registered</strong> no longer includes
the list of built-in tasks.</p></li>
<li><p><strong>Worker</strong>: The <code class="docutils literal notranslate"><span class="pre">requires</span></code> attribute for boot steps weren't being handled
correctly (<span class="xref issue">Issue #2002</span>).</p></li>
<li><p><strong>Eventlet</strong>: The eventlet pool now supports the <code class="docutils literal notranslate"><span class="pre">pool_grow</span></code> and
<code class="docutils literal notranslate"><span class="pre">pool_shrink</span></code> remote control commands.</p>
<blockquote>
<div><p>Contributed by Mher Movsisyan.</p>
</div></blockquote>
</li>
<li><p><strong>Eventlet</strong>: The eventlet pool now implements statistics for
:program:<code class="docutils literal notranslate"><span class="pre">celery</span> <span class="pre">inspect</span> <span class="pre">stats</span></code>.</p>
<blockquote>
<div><p>Contributed by Mher Movsisyan.</p>
</div></blockquote>
</li>
<li><p><strong>Documentation</strong>: Clarified <code class="docutils literal notranslate"><span class="pre">Task.rate_limit</span></code> behavior.</p>
<blockquote>
<div><p>Contributed by Jonas Haag.</p>
</div></blockquote>
</li>
<li><p><strong>Documentation</strong>: <code class="docutils literal notranslate"><span class="pre">AbortableTask</span></code> examples now updated to use the new
API (<span class="xref issue">Issue #1993</span>).</p></li>
<li><p><strong>Documentation</strong>: The security documentation examples used an out of date
import.</p>
<blockquote>
<div><p>Fix contributed by Ian Dees.</p>
</div></blockquote>
</li>
<li><p><strong>Init-scripts</strong>: The CentOS init-scripts didn't quote
<span class="target" id="index-1"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">CELERY_CHDIR</span></code>.</p>
<blockquote>
<div><p>Fix contributed by <a class="extlink-github_user reference external" href="https://github.com/ffeast/">&#64;ffeast</a>.</p>
</div></blockquote>
</li>
</ul>
</section>
<section id="version-3-1-11">
<span id="id16"></span><h2>3.1.11<a class="headerlink" href="#version-3-1-11" title="Link to this heading">¶</a></h2>
<dl class="field-list simple">
<dt class="field-odd">release-date<span class="colon">:</span></dt>
<dd class="field-odd"><p>2014-04-16 11:00 p.m. UTC</p>
</dd>
<dt class="field-even">release-by<span class="colon">:</span></dt>
<dd class="field-even"><p>Ask Solem</p>
</dd>
</dl>
<ul>
<li><p><strong>Now compatible with RabbitMQ 3.3.0</strong></p>
<blockquote>
<div><p>You need to run Celery 3.1.11 or later when using RabbitMQ 3.3,
and if you use the <code class="docutils literal notranslate"><span class="pre">librabbitmq</span></code> module you also have to upgrade
to librabbitmq 1.5.0:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>pip<span class="w"> </span>install<span class="w"> </span>-U<span class="w"> </span>librabbitmq
</pre></div>
</div>
</div></blockquote>
</li>
<li><p><strong>Requirements</strong>:</p>
<blockquote>
<div><ul class="simple">
<li><p>Now depends on <a class="reference external" href="https://docs.celeryq.dev/projects/kombu/en/main/changelog.html#version-3-0-15" title="（在 Kombu v5.5）"><span class="xref std std-ref">Kombu 3.0.15</span></a>.</p></li>
<li><p>Now depends on <a class="reference external" href="https://github.com/celery/billiard/blob/master/CHANGES.txt">billiard 3.3.0.17</a>.</p></li>
<li><p>Bundle <code class="docutils literal notranslate"><span class="pre">celery[librabbitmq]</span></code> now depends on <code class="xref py py-mod docutils literal notranslate"><span class="pre">librabbitmq</span></code> 1.5.0.</p></li>
</ul>
</div></blockquote>
</li>
</ul>
<ul>
<li><p><strong>Tasks</strong>: The <code class="xref std std-setting docutils literal notranslate"><span class="pre">CELERY_DEFAULT_DELIVERY_MODE</span></code> setting was being
ignored (<span class="xref issue">Issue #1953</span>).</p></li>
<li><p><strong>Worker</strong>: New <a class="reference internal" href="../reference/cli.html#cmdoption-celery-worker-heartbeat-interval"><code class="xref std std-option docutils literal notranslate"><span class="pre">celery</span> <span class="pre">worker</span> <span class="pre">--heartbeat-interval</span></code></a> can be used
to change the time (in seconds) between sending event heartbeats.</p>
<blockquote>
<div><p>Contributed by Matthew Duggan and Craig Northway.</p>
</div></blockquote>
</li>
<li><p><strong>App</strong>: Fixed memory leaks occurring when creating lots of temporary
app instances (<span class="xref issue">Issue #1949</span>).</p></li>
<li><p><strong>MongoDB</strong>: SSL configuration with non-MongoDB transport breaks MongoDB
results backend (<span class="xref issue">Issue #1973</span>).</p>
<blockquote>
<div><p>Fix contributed by Brian Bouterse.</p>
</div></blockquote>
</li>
<li><p><strong>Logging</strong>: The color formatter accidentally modified <code class="docutils literal notranslate"><span class="pre">record.msg</span></code>
(<span class="xref issue">Issue #1939</span>).</p></li>
<li><p><strong>Results</strong>: Fixed problem with task trails being stored multiple times,
causing <code class="docutils literal notranslate"><span class="pre">result.collect()</span></code> to hang (<span class="xref issue">Issue #1936</span>, <span class="xref issue">Issue #1943</span>).</p></li>
<li><p><strong>Results</strong>: <code class="docutils literal notranslate"><span class="pre">ResultSet</span></code> now implements a <code class="docutils literal notranslate"><span class="pre">.backend</span></code> attribute for
compatibility with <code class="docutils literal notranslate"><span class="pre">AsyncResult</span></code>.</p></li>
<li><p><strong>Results</strong>: <code class="docutils literal notranslate"><span class="pre">.forget()</span></code> now also clears the local cache.</p></li>
<li><p><strong>Results</strong>: Fixed problem with multiple calls to <code class="docutils literal notranslate"><span class="pre">result._set_cache</span></code>
(<span class="xref issue">Issue #1940</span>).</p></li>
<li><p><strong>Results</strong>: <code class="docutils literal notranslate"><span class="pre">join_native</span></code> populated result cache even if disabled.</p></li>
<li><p><strong>Results</strong>: The YAML result serializer should now be able to handle storing
exceptions.</p></li>
<li><p><strong>Worker</strong>: No longer sends task error emails for expected errors (in
<code class="docutils literal notranslate"><span class="pre">&#64;task(throws=(...,</span> <span class="pre">)))</span></code>.</p></li>
<li><p><strong>Canvas</strong>: Fixed problem with exception deserialization when using
the JSON serializer (<span class="xref issue">Issue #1987</span>).</p></li>
<li><p><strong>Eventlet</strong>: Fixes crash when <code class="docutils literal notranslate"><span class="pre">celery.contrib.batches</span></code> attempted to
cancel a non-existing timer (<span class="xref issue">Issue #1984</span>).</p></li>
<li><p>Can now import <code class="docutils literal notranslate"><span class="pre">celery.version_info_t</span></code>, and <code class="docutils literal notranslate"><span class="pre">celery.five</span></code> (<span class="xref issue">Issue #1968</span>).</p></li>
</ul>
</section>
<section id="version-3-1-10">
<span id="id17"></span><h2>3.1.10<a class="headerlink" href="#version-3-1-10" title="Link to this heading">¶</a></h2>
<dl class="field-list simple">
<dt class="field-odd">release-date<span class="colon">:</span></dt>
<dd class="field-odd"><p>2014-03-22 09:40 p.m. UTC</p>
</dd>
<dt class="field-even">release-by<span class="colon">:</span></dt>
<dd class="field-even"><p>Ask Solem</p>
</dd>
</dl>
<ul>
<li><p><strong>Requirements</strong>:</p>
<blockquote>
<div><ul class="simple">
<li><p>Now depends on <a class="reference external" href="https://docs.celeryq.dev/projects/kombu/en/main/changelog.html#version-3-0-14" title="（在 Kombu v5.5）"><span class="xref std std-ref">Kombu 3.0.14</span></a>.</p></li>
</ul>
</div></blockquote>
</li>
<li><p><strong>Results</strong>:</p>
<blockquote>
<div><p>Reliability improvements to the SQLAlchemy database backend. Previously the
connection from the MainProcess was improperly shared with the workers.
(<span class="xref issue">Issue #1786</span>)</p>
</div></blockquote>
</li>
<li><p><strong>Redis:</strong> Important note about events (<span class="xref issue">Issue #1882</span>).</p>
<blockquote>
<div><p>There's a new transport option for Redis that enables monitors
to filter out unwanted events. Enabling this option in the workers
will increase performance considerably:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">BROKER_TRANSPORT_OPTIONS</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;fanout_patterns&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">}</span>
</pre></div>
</div>
<p>Enabling this option means that your workers won't be able to see
workers with the option disabled (or is running an older version of
Celery), so if you do enable it then make sure you do so on all
nodes.</p>
<p>See <a class="reference internal" href="../getting-started/backends-and-brokers/redis.html#redis-caveats"><span class="std std-ref">Caveats</span></a>.</p>
<p>This will be the default in Celery 3.2.</p>
</div></blockquote>
</li>
<li><p><strong>Results</strong>: The <a class="reference internal" href="../reference/celery.result.html#celery.result.AsyncResult" title="celery.result.AsyncResult"><code class="xref py py-class docutils literal notranslate"><span class="pre">app.AsyncResult</span></code></a> object now keeps a local cache
of the final state of the task.</p>
<blockquote>
<div><p>This means that the global result cache can finally be disabled,
and you can do so by setting <code class="xref std std-setting docutils literal notranslate"><span class="pre">CELERY_MAX_CACHED_RESULTS</span></code> to
<code class="xref py py-const docutils literal notranslate"><span class="pre">-1</span></code>. The lifetime of the cache will then be bound to the
lifetime of the result object, which will be the default behavior
in Celery 3.2.</p>
</div></blockquote>
</li>
<li><p><strong>Events</strong>: The &quot;Substantial drift&quot; warning message is now logged once
per node name only (<span class="xref issue">Issue #1802</span>).</p></li>
<li><p><strong>Worker</strong>: Ability to use one log file per child process when using the
prefork pool.</p>
<blockquote>
<div><p>This can be enabled by using the new <code class="docutils literal notranslate"><span class="pre">%i</span></code> and <code class="docutils literal notranslate"><span class="pre">%I</span></code> format specifiers
for the log file name. See <a class="reference internal" href="../userguide/workers.html#worker-files-process-index"><span class="std std-ref">Prefork 池进程索引</span></a>.</p>
</div></blockquote>
</li>
<li><p><strong>Redis</strong>: New experimental chord join implementation.</p>
<blockquote>
<div><p>This is an optimization for chords when using the Redis result backend,
where the join operation is now considerably faster and using less
resources than the previous strategy.</p>
<p>The new option can be set in the result backend URL:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">CELERY_RESULT_BACKEND</span> <span class="o">=</span> <span class="s1">&#39;redis://localhost?new_join=1&#39;</span>
</pre></div>
</div>
<p>This must be enabled manually as it's incompatible
with workers and clients not using it, so be sure to enable
the option in all clients and workers if you decide to use it.</p>
</div></blockquote>
</li>
<li><p><strong>Multi</strong>: With <code class="docutils literal notranslate"><span class="pre">-opt:index</span></code> (e.g., <code class="docutils literal notranslate"><span class="pre">-c:1</span></code>) the index now always refers
to the position of a node in the argument list.</p>
<blockquote>
<div><p>This means that referring to a number will work when specifying a list
of node names and not just for a number range:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>celery<span class="w"> </span>multi<span class="w"> </span>start<span class="w"> </span>A<span class="w"> </span>B<span class="w"> </span>C<span class="w"> </span>D<span class="w"> </span>-c:1<span class="w"> </span><span class="m">4</span><span class="w"> </span>-c:2-4<span class="w"> </span><span class="m">8</span>
</pre></div>
</div>
<p>In this example <code class="docutils literal notranslate"><span class="pre">1</span></code> refers to node A (as it's the first node in the
list).</p>
</div></blockquote>
</li>
<li><p><strong>Signals</strong>: The sender argument to <code class="docutils literal notranslate"><span class="pre">Signal.connect</span></code> can now be a proxy
object, which means that it can be used with the task decorator
(<span class="xref issue">Issue #1873</span>).</p></li>
<li><p><strong>Task</strong>: A regression caused the <code class="docutils literal notranslate"><span class="pre">queue</span></code> argument to <code class="docutils literal notranslate"><span class="pre">Task.retry</span></code> to be
ignored (<span class="xref issue">Issue #1892</span>).</p></li>
<li><p><strong>App</strong>: Fixed error message for <a class="reference internal" href="../reference/celery.html#celery.Celery.config_from_envvar" title="celery.Celery.config_from_envvar"><code class="xref py py-meth docutils literal notranslate"><span class="pre">config_from_envvar()</span></code></a>.</p>
<blockquote>
<div><p>Fix contributed by Dmitry Malinovsky.</p>
</div></blockquote>
</li>
<li><p><strong>Canvas</strong>: Chords can now contain a group of other chords (<span class="xref issue">Issue #1921</span>).</p></li>
<li><p><strong>Canvas</strong>: Chords can now be combined when using the amqp result backend
(a chord where the callback is also a chord).</p></li>
<li><p><strong>Canvas</strong>: Calling <code class="docutils literal notranslate"><span class="pre">result.get()</span></code> for a chain task will now complete
even if one of the tasks in the chain is <code class="docutils literal notranslate"><span class="pre">ignore_result=True</span></code>
(<span class="xref issue">Issue #1905</span>).</p></li>
<li><p><strong>Canvas</strong>: Worker now also logs chord errors.</p></li>
<li><p><strong>Canvas</strong>: A chord task raising an exception will now result in
any errbacks (<code class="docutils literal notranslate"><span class="pre">link_error</span></code>) to the chord callback to also be called.</p></li>
<li><p><strong>Results</strong>: Reliability improvements to the SQLAlchemy database backend
(<span class="xref issue">Issue #1786</span>).</p>
<blockquote>
<div><p>Previously the connection from the <code class="docutils literal notranslate"><span class="pre">MainProcess</span></code> was improperly
inherited by child processes.</p>
<p>Fix contributed by Ionel Cristian Mărieș.</p>
</div></blockquote>
</li>
<li><p><strong>Task</strong>: Task callbacks and errbacks are now called using the group
primitive.</p></li>
<li><p><strong>Task</strong>: <code class="docutils literal notranslate"><span class="pre">Task.apply</span></code> now properly sets <code class="docutils literal notranslate"><span class="pre">request.headers</span></code>
(<span class="xref issue">Issue #1874</span>).</p></li>
<li><p><strong>Worker</strong>: Fixed <a class="reference external" href="https://docs.python.org/dev/library/exceptions.html#UnicodeEncodeError" title="（在 Python v3.15）"><code class="xref py py-exc docutils literal notranslate"><span class="pre">UnicodeEncodeError</span></code></a> occurring when worker is started
by <a class="extlink-pypi reference external" href="https://pypi.org/project/supervisor/">https://pypi.org/project/supervisor/</a>.</p>
<blockquote>
<div><p>Fix contributed by Codeb Fan.</p>
</div></blockquote>
</li>
<li><p><strong>Beat</strong>: No longer attempts to upgrade a newly created database file
(<span class="xref issue">Issue #1923</span>).</p></li>
<li><p><strong>Beat</strong>: New setting :setting:<code class="docutils literal notranslate"><span class="pre">CELERYBEAT_SYNC_EVERY</span></code> can be be used
to control file sync by specifying the number of tasks to send between
each sync.</p>
<blockquote>
<div><p>Contributed by Chris Clark.</p>
</div></blockquote>
</li>
<li><p><strong>Commands</strong>: <strong class="program">celery inspect memdump</strong> no longer crashes
if the <code class="xref py py-mod docutils literal notranslate"><span class="pre">psutil</span></code> module isn't installed (<span class="xref issue">Issue #1914</span>).</p></li>
<li><p><strong>Worker</strong>: Remote control commands now always accepts json serialized
messages (<span class="xref issue">Issue #1870</span>).</p></li>
<li><p><strong>Worker</strong>: Gossip will now drop any task related events it receives
by mistake (<span class="xref issue">Issue #1882</span>).</p></li>
</ul>
</section>
<section id="version-3-1-9">
<span id="id18"></span><h2>3.1.9<a class="headerlink" href="#version-3-1-9" title="Link to this heading">¶</a></h2>
<dl class="field-list simple">
<dt class="field-odd">release-date<span class="colon">:</span></dt>
<dd class="field-odd"><p>2014-02-10 06:43 p.m. UTC</p>
</dd>
<dt class="field-even">release-by<span class="colon">:</span></dt>
<dd class="field-even"><p>Ask Solem</p>
</dd>
</dl>
<ul>
<li><p><strong>Requirements</strong>:</p>
<blockquote>
<div><ul class="simple">
<li><p>Now depends on <a class="reference external" href="https://docs.celeryq.dev/projects/kombu/en/main/changelog.html#version-3-0-12" title="（在 Kombu v5.5）"><span class="xref std std-ref">Kombu 3.0.12</span></a>.</p></li>
</ul>
</div></blockquote>
</li>
<li><p><strong>Prefork pool</strong>: Better handling of exiting child processes.</p>
<blockquote>
<div><p>Fix contributed by Ionel Cristian Mărieș.</p>
</div></blockquote>
</li>
<li><p><strong>Prefork pool</strong>: Now makes sure all file descriptors are removed
from the hub when a process is cleaned up.</p>
<blockquote>
<div><p>Fix contributed by Ionel Cristian Mărieș.</p>
</div></blockquote>
</li>
<li><p><strong>New Sphinx extension</strong>: for autodoc documentation of tasks:
<code class="xref py py-mod docutils literal notranslate"><span class="pre">celery.contrib.spinx</span></code> (<span class="xref issue">Issue #1833</span>).</p></li>
<li><p><strong>Django</strong>: Now works with Django 1.7a1.</p></li>
<li><p><strong>Task</strong>: Task.backend is now a property that forwards to <code class="docutils literal notranslate"><span class="pre">app.backend</span></code>
if no custom backend has been specified for the task (<span class="xref issue">Issue #1821</span>).</p></li>
<li><p><strong>Generic init-scripts</strong>: Fixed bug in stop command.</p>
<blockquote>
<div><p>Fix contributed by Rinat Shigapov.</p>
</div></blockquote>
</li>
<li><p><strong>Generic init-scripts</strong>: Fixed compatibility with GNU <em class="manpage">stat</em>.</p>
<blockquote>
<div><p>Fix contributed by Paul Kilgo.</p>
</div></blockquote>
</li>
<li><p><strong>Generic init-scripts</strong>: Fixed compatibility with the minimal
<strong class="program">dash</strong> shell (<span class="xref issue">Issue #1815</span>).</p></li>
<li><p><strong>Commands</strong>: The <strong class="program">celery amqp basic.publish</strong> command wasn't
working properly.</p>
<blockquote>
<div><p>Fix contributed by Andrey Voronov.</p>
</div></blockquote>
</li>
<li><p><strong>Commands</strong>: Did no longer emit an error message if the pidfile exists
and the process is still alive (<span class="xref issue">Issue #1855</span>).</p></li>
<li><p><strong>Commands</strong>: Better error message for missing arguments to preload
options (<span class="xref issue">Issue #1860</span>).</p></li>
<li><p><strong>Commands</strong>: <strong class="program">celery -h</strong> didn't work because of a bug in the
argument parser (<span class="xref issue">Issue #1849</span>).</p></li>
<li><p><strong>Worker</strong>: Improved error message for message decoding errors.</p></li>
<li><p><strong>Time</strong>: Now properly parses the <cite>Z</cite> timezone specifier in ISO 8601 date
strings.</p>
<blockquote>
<div><p>Fix contributed by Martin Davidsson.</p>
</div></blockquote>
</li>
<li><p><strong>Worker</strong>: Now uses the <em>negotiated</em> heartbeat value to calculate
how often to run the heartbeat checks.</p></li>
<li><p><strong>Beat</strong>: Fixed problem with beat hanging after the first schedule
iteration (<span class="xref issue">Issue #1822</span>).</p>
<blockquote>
<div><p>Fix contributed by Roger Hu.</p>
</div></blockquote>
</li>
<li><p><strong>Signals</strong>: The header argument to <a class="reference internal" href="../userguide/signals.html#std-signal-before_task_publish"><code class="xref std std-signal docutils literal notranslate"><span class="pre">before_task_publish</span></code></a> is now
always a dictionary instance so that signal handlers can add headers.</p></li>
<li><p><strong>Worker</strong>: A list of message headers is now included in message related
errors.</p></li>
</ul>
</section>
<section id="version-3-1-8">
<span id="id19"></span><h2>3.1.8<a class="headerlink" href="#version-3-1-8" title="Link to this heading">¶</a></h2>
<dl class="field-list simple">
<dt class="field-odd">release-date<span class="colon">:</span></dt>
<dd class="field-odd"><p>2014-01-17 10:45 p.m. UTC</p>
</dd>
<dt class="field-even">release-by<span class="colon">:</span></dt>
<dd class="field-even"><p>Ask Solem</p>
</dd>
</dl>
<ul>
<li><p><strong>Requirements</strong>:</p>
<blockquote>
<div><ul class="simple">
<li><p>Now depends on <a class="reference external" href="https://docs.celeryq.dev/projects/kombu/en/main/changelog.html#version-3-0-10" title="（在 Kombu v5.5）"><span class="xref std std-ref">Kombu 3.0.10</span></a>.</p></li>
<li><p>Now depends on <a class="reference external" href="https://github.com/celery/billiard/blob/master/CHANGES.txt">billiard 3.3.0.14</a>.</p></li>
</ul>
</div></blockquote>
</li>
</ul>
<ul>
<li><p><strong>Worker</strong>: The event loop wasn't properly reinitialized at consumer restart
which would force the worker to continue with a closed <code class="docutils literal notranslate"><span class="pre">epoll</span></code> instance on
Linux, resulting in a crash.</p></li>
<li><p><strong>Events:</strong> Fixed issue with both heartbeats and task events that could
result in the data not being kept in sorted order.</p>
<blockquote>
<div><p>As a result this would force the worker to log &quot;heartbeat missed&quot;
events even though the remote node was sending heartbeats in a timely manner.</p>
</div></blockquote>
</li>
<li><p><strong>Results:</strong> The pickle serializer no longer converts group results to tuples,
and will keep the original type (<em><span class="xref issue">Issue #1750</span></em>).</p></li>
<li><p><strong>Results:</strong> <code class="docutils literal notranslate"><span class="pre">ResultSet.iterate</span></code> is now pending deprecation.</p>
<blockquote>
<div><p>The method will be deprecated in version 3.2 and removed in version 3.3.</p>
<p>Use <code class="docutils literal notranslate"><span class="pre">result.get(callback=)</span></code> (or <code class="docutils literal notranslate"><span class="pre">result.iter_native()</span></code> where available)
instead.</p>
</div></blockquote>
</li>
<li><p><strong>Worker</strong>|eventlet/gevent: A regression caused <kbd class="kbd docutils literal notranslate">Control</kbd>-<kbd class="kbd docutils literal notranslate">c</kbd> to be
ineffective for shutdown.</p></li>
<li><p><strong>Redis result backend:</strong> Now using a pipeline to store state changes
for improved performance.</p>
<blockquote>
<div><p>Contributed by Pepijn de Vos.</p>
</div></blockquote>
</li>
<li><p><strong>Redis result backend:</strong> Will now retry storing the result if disconnected.</p></li>
<li><p><strong>Worker</strong>|gossip: Fixed attribute error occurring when another node leaves.</p>
<blockquote>
<div><p>Fix contributed by Brodie Rao.</p>
</div></blockquote>
</li>
<li><p><strong>Generic init-scripts:</strong> Now runs a check at start-up to verify
that any configuration scripts are owned by root and that they
aren't world/group writable.</p>
<blockquote>
<div><p>The init-script configuration is a shell script executed by root,
so this is a preventive measure to ensure that users don't
leave this file vulnerable to changes by unprivileged users.</p>
<div class="admonition note">
<p class="admonition-title">备注</p>
<p>Note that upgrading Celery won't update the init-scripts,
instead you need to manually copy the improved versions from the
source distribution:
<a class="reference external" href="https://github.com/celery/celery/tree/3.1/extra/generic-init.d">https://github.com/celery/celery/tree/3.1/extra/generic-init.d</a></p>
</div>
</div></blockquote>
</li>
<li><p><strong>Commands</strong>: The <strong class="program">celery purge</strong> command now warns that the operation
will delete all tasks and prompts the user for confirmation.</p>
<blockquote>
<div><p>A new <a class="reference internal" href="../reference/cli.html#cmdoption-celery-purge-f"><code class="xref std std-option docutils literal notranslate"><span class="pre">-f</span></code></a> was added that can be used to disable
interactive mode.</p>
</div></blockquote>
</li>
<li><p><strong>Task</strong>: <code class="docutils literal notranslate"><span class="pre">.retry()</span></code> didn't raise the value provided in the <code class="docutils literal notranslate"><span class="pre">exc</span></code> argument
when called outside of an error context (<em><span class="xref issue">Issue #1755</span></em>).</p></li>
<li><p><strong>Commands:</strong> The <strong class="program">celery multi</strong> command didn't forward command
line configuration to the target workers.</p>
<blockquote>
<div><p>The change means that multi will forward the special <code class="docutils literal notranslate"><span class="pre">--</span></code> argument and
configuration content at the end of the arguments line to the specified
workers.</p>
<p>Example using command-line configuration to set a broker heartbeat
from <strong class="program">celery multi</strong>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>celery<span class="w"> </span>multi<span class="w"> </span>start<span class="w"> </span><span class="m">1</span><span class="w"> </span>-c3<span class="w"> </span>--<span class="w"> </span>broker.heartbeat<span class="o">=</span><span class="m">30</span>
</pre></div>
</div>
<p>Fix contributed by Antoine Legrand.</p>
</div></blockquote>
</li>
<li><p><strong>Canvas:</strong> <code class="docutils literal notranslate"><span class="pre">chain.apply_async()</span></code> now properly forwards execution options.</p>
<blockquote>
<div><p>Fix contributed by Konstantin Podshumok.</p>
</div></blockquote>
</li>
<li><p><strong>Redis result backend:</strong> Now takes <code class="docutils literal notranslate"><span class="pre">connection_pool</span></code> argument that can be
used to change the connection pool class/constructor.</p></li>
<li><p><strong>Worker:</strong> Now truncates very long arguments and keyword arguments logged by
the pool at debug severity.</p></li>
<li><p><strong>Worker:</strong> The worker now closes all open files on <code class="xref std std-sig docutils literal notranslate"><span class="pre">SIGHUP</span></code> (regression)
(<em><span class="xref issue">Issue #1768</span></em>).</p>
<blockquote>
<div><p>Fix contributed by Brodie Rao</p>
</div></blockquote>
</li>
<li><p><strong>Worker:</strong> Will no longer accept remote control commands while the
worker start-up phase is incomplete (<em><span class="xref issue">Issue #1741</span></em>).</p></li>
<li><p><strong>Commands:</strong> The output of the event dump utility
(<strong class="program">celery events -d</strong>) can now be piped into other commands.</p></li>
<li><p><strong>Documentation:</strong> The RabbitMQ installation instructions for macOS was
updated to use modern Homebrew practices.</p>
<blockquote>
<div><p>Contributed by Jon Chen.</p>
</div></blockquote>
</li>
<li><p><strong>Commands:</strong> The <strong class="program">celery inspect conf</strong> utility now works.</p></li>
<li><p><strong>Commands:</strong> The <a class="reference internal" href="../reference/cli.html#cmdoption-celery-C"><code class="xref std std-option docutils literal notranslate"><span class="pre">--no-color</span></code></a> argument was
not respected by all commands (<em><span class="xref issue">Issue #1799</span></em>).</p></li>
<li><p><strong>App:</strong> Fixed rare bug with <code class="docutils literal notranslate"><span class="pre">autodiscover_tasks()</span></code> (<em><span class="xref issue">Issue #1797</span></em>).</p></li>
<li><p><strong>Distribution:</strong> The sphinx docs will now always add the parent directory
to path so that the current Celery source code is used as a basis for
API documentation (<em><span class="xref issue">Issue #1782</span></em>).</p></li>
<li><p><strong>Documentation:</strong> <a class="extlink-pypi reference external" href="https://pypi.org/project/supervisor/">https://pypi.org/project/supervisor/</a> examples contained an
extraneous '-' in a <a class="reference internal" href="../reference/cli.html#cmdoption-celery-worker-f"><code class="xref std std-option docutils literal notranslate"><span class="pre">--logfile</span></code></a> argument
example.</p>
<blockquote>
<div><p>Fix contributed by Mohammad Almeer.</p>
</div></blockquote>
</li>
</ul>
</section>
<section id="version-3-1-7">
<span id="id20"></span><h2>3.1.7<a class="headerlink" href="#version-3-1-7" title="Link to this heading">¶</a></h2>
<dl class="field-list simple">
<dt class="field-odd">release-date<span class="colon">:</span></dt>
<dd class="field-odd"><p>2013-12-17 06:00 p.m. UTC</p>
</dd>
<dt class="field-even">release-by<span class="colon">:</span></dt>
<dd class="field-even"><p>Ask Solem</p>
</dd>
</dl>
<section id="important-notes">
<span id="v317-important"></span><h3>Important Notes<a class="headerlink" href="#important-notes" title="Link to this heading">¶</a></h3>
</section>
<section id="init-script-security-improvements">
<h3>Init-script security improvements<a class="headerlink" href="#init-script-security-improvements" title="Link to this heading">¶</a></h3>
<p>Where the generic init-scripts (for <code class="docutils literal notranslate"><span class="pre">celeryd</span></code>, and <code class="docutils literal notranslate"><span class="pre">celerybeat</span></code>) before
delegated the responsibility of dropping privileges to the target application,
it will now use <code class="docutils literal notranslate"><span class="pre">su</span></code> instead, so that the Python program isn't trusted
with superuser privileges.</p>
<p>This isn't in reaction to any known exploit, but it will
limit the possibility of a privilege escalation bug being abused in the
future.</p>
<p>You have to upgrade the init-scripts manually from this directory:
<a class="reference external" href="https://github.com/celery/celery/tree/3.1/extra/generic-init.d">https://github.com/celery/celery/tree/3.1/extra/generic-init.d</a></p>
<section id="amqp-result-backend">
<h4>AMQP result backend<a class="headerlink" href="#amqp-result-backend" title="Link to this heading">¶</a></h4>
<p>The 3.1 release accidentally left the amqp backend configured to be
non-persistent by default.</p>
<p>Upgrading from 3.0 would give a &quot;not equivalent&quot; error when attempting to
set or retrieve results for a task. That's unless you manually set the
persistence setting:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">CELERY_RESULT_PERSISTENT</span> <span class="o">=</span> <span class="kc">True</span>
</pre></div>
</div>
<p>This version restores the previous value so if you already forced
the upgrade by removing the existing exchange you must either
keep the configuration by setting <code class="docutils literal notranslate"><span class="pre">CELERY_RESULT_PERSISTENT</span> <span class="pre">=</span> <span class="pre">False</span></code>
or delete the <code class="docutils literal notranslate"><span class="pre">celeryresults</span></code> exchange again.</p>
</section>
<section id="synchronous-subtasks">
<h4>Synchronous subtasks<a class="headerlink" href="#synchronous-subtasks" title="Link to this heading">¶</a></h4>
<p>Tasks waiting for the result of a subtask will now emit
a <a class="reference external" href="https://docs.python.org/dev/library/exceptions.html#RuntimeWarning" title="（在 Python v3.15）"><code class="xref py py-exc docutils literal notranslate"><span class="pre">RuntimeWarning</span></code></a> warning when using the prefork pool,
and in 3.2 this will result in an exception being raised.</p>
<p>It's not legal for tasks to block by waiting for subtasks
as this is likely to lead to resource starvation and eventually
deadlock when using the prefork pool (see also <a class="reference internal" href="../userguide/tasks.html#task-synchronous-subtasks"><span class="std std-ref">避免启动同步子任务</span></a>).</p>
<p>If you really know what you're doing you can avoid the warning (and
the future exception being raised) by moving the operation in a
white-list block:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">celery.result</span><span class="w"> </span><span class="kn">import</span> <span class="n">allow_join_result</span>

<span class="nd">@app</span><span class="o">.</span><span class="n">task</span>
<span class="k">def</span><span class="w"> </span><span class="nf">misbehaving</span><span class="p">():</span>
    <span class="n">result</span> <span class="o">=</span> <span class="n">other_task</span><span class="o">.</span><span class="n">delay</span><span class="p">()</span>
    <span class="k">with</span> <span class="n">allow_join_result</span><span class="p">():</span>
        <span class="n">result</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>
</pre></div>
</div>
<p>Note also that if you wait for the result of a subtask in any form
when using the prefork pool you must also disable the pool prefetching
behavior with the worker <a class="reference internal" href="../userguide/optimizing.html#optimizing-prefetch-limit"><span class="std std-ref">-Ofair option</span></a>.</p>
</section>
</section>
<section id="fixes">
<span id="v317-fixes"></span><h3>Fixes<a class="headerlink" href="#fixes" title="Link to this heading">¶</a></h3>
<ul>
<li><p>Now depends on <a class="reference external" href="https://docs.celeryq.dev/projects/kombu/en/main/changelog.html#version-3-0-8" title="（在 Kombu v5.5）"><span class="xref std std-ref">Kombu 3.0.8</span></a>.</p></li>
<li><p>Now depends on <code class="xref py py-mod docutils literal notranslate"><span class="pre">billiard</span></code> 3.3.0.13</p></li>
<li><p>Events: Fixed compatibility with non-standard json libraries
that sends float as <a class="reference external" href="https://docs.python.org/dev/library/decimal.html#decimal.Decimal" title="（在 Python v3.15）"><code class="xref py py-class docutils literal notranslate"><span class="pre">decimal.Decimal</span></code></a> (<span class="xref issue">Issue #1731</span>)</p></li>
<li><p>Events: State worker objects now always defines attributes:
<code class="docutils literal notranslate"><span class="pre">active</span></code>, <code class="docutils literal notranslate"><span class="pre">processed</span></code>, <code class="docutils literal notranslate"><span class="pre">loadavg</span></code>, <code class="docutils literal notranslate"><span class="pre">sw_ident</span></code>, <code class="docutils literal notranslate"><span class="pre">sw_ver</span></code>
and <code class="docutils literal notranslate"><span class="pre">sw_sys</span></code>.</p></li>
<li><p>Worker: Now keeps count of the total number of tasks processed,
not just by type (<code class="docutils literal notranslate"><span class="pre">all_active_count</span></code>).</p></li>
<li><p>Init-scripts:  Fixed problem with reading configuration file
when the init-script is symlinked to a runlevel (e.g., <code class="docutils literal notranslate"><span class="pre">S02celeryd</span></code>).
(<span class="xref issue">Issue #1740</span>).</p>
<blockquote>
<div><p>This also removed a rarely used feature where you can symlink the script
to provide alternative configurations. You instead copy the script
and give it a new name, but perhaps a better solution is to provide
arguments to <code class="docutils literal notranslate"><span class="pre">CELERYD_OPTS</span></code> to separate them:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nv">CELERYD_NODES</span><span class="o">=</span><span class="s2">&quot;X1 X2 Y1 Y2&quot;</span>
<span class="nv">CELERYD_OPTS</span><span class="o">=</span><span class="s2">&quot;-A:X1 x -A:X2 x -A:Y1 y -A:Y2 y&quot;</span>
</pre></div>
</div>
</div></blockquote>
</li>
<li><p>Fallback chord unlock task is now always called after the chord header
(<span class="xref issue">Issue #1700</span>).</p>
<blockquote>
<div><p>This means that the unlock task won't be started if there's
an error sending the header.</p>
</div></blockquote>
</li>
<li><p>Celery command: Fixed problem with arguments for some control commands.</p>
<blockquote>
<div><p>Fix contributed by Konstantin Podshumok.</p>
</div></blockquote>
</li>
<li><p>Fixed bug in <code class="docutils literal notranslate"><span class="pre">utcoffset</span></code> where the offset when in DST would be
completely wrong (<span class="xref issue">Issue #1743</span>).</p></li>
<li><p>Worker: Errors occurring while attempting to serialize the result of a
task will now cause the task to be marked with failure and a
<code class="xref py py-class docutils literal notranslate"><span class="pre">kombu.exceptions.EncodingError</span></code> error.</p>
<blockquote>
<div><p>Fix contributed by Ionel Cristian Mărieș.</p>
</div></blockquote>
</li>
<li><p>Worker with <a class="reference internal" href="../reference/cli.html#cmdoption-celery-worker-B"><code class="xref std std-option docutils literal notranslate"><span class="pre">-B</span></code></a> argument didn't properly
shut down the beat instance.</p></li>
<li><p>Worker: The <code class="docutils literal notranslate"><span class="pre">%n</span></code> and <code class="docutils literal notranslate"><span class="pre">%h</span></code> formats are now also supported by the
<a class="reference internal" href="../reference/cli.html#cmdoption-celery-worker-f"><code class="xref std std-option docutils literal notranslate"><span class="pre">--logfile</span></code></a>,
<a class="reference internal" href="../reference/cli.html#cmdoption-celery-worker-pidfile"><code class="xref std std-option docutils literal notranslate"><span class="pre">--pidfile</span></code></a> and
<a class="reference internal" href="../reference/cli.html#cmdoption-celery-worker-S"><code class="xref std std-option docutils literal notranslate"><span class="pre">--statedb</span></code></a> arguments.</p>
<blockquote>
<div><p>Example:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>celery<span class="w"> </span>-A<span class="w"> </span>proj<span class="w"> </span>worker<span class="w"> </span>-n<span class="w"> </span>foo@%h<span class="w"> </span>--logfile<span class="o">=</span>%n.log<span class="w"> </span>--statedb<span class="o">=</span>%n.db
</pre></div>
</div>
</div></blockquote>
</li>
<li><p>Redis/Cache result backends: Will now timeout if keys evicted while trying
to join a chord.</p></li>
<li><p>The fallback unlock chord task now raises <code class="xref py py-exc docutils literal notranslate"><span class="pre">Retry</span></code> so that the
retry even is properly logged by the worker.</p></li>
<li><p>Multi: Will no longer apply Eventlet/gevent monkey patches (<span class="xref issue">Issue #1717</span>).</p></li>
<li><p>Redis result backend: Now supports UNIX sockets.</p>
<blockquote>
<div><p>Like the Redis broker transport the result backend now also supports
using <code class="docutils literal notranslate"><span class="pre">redis+socket:///tmp/redis.sock</span></code> URLs.</p>
<p>Contributed by Alcides Viamontes Esquivel.</p>
</div></blockquote>
</li>
<li><p>Events: Events sent by clients was mistaken for worker related events
(<span class="xref issue">Issue #1714</span>).</p>
<blockquote>
<div><p>For <code class="docutils literal notranslate"><span class="pre">events.State</span></code> the tasks now have a <code class="docutils literal notranslate"><span class="pre">Task.client</span></code> attribute
that's set when a <code class="docutils literal notranslate"><span class="pre">task-sent</span></code> event is being received.</p>
<p>Also, a clients logical clock isn't in sync with the cluster so
they live in a &quot;time bubble.&quot; So for this reason monitors will no
longer attempt to merge with the clock of an event sent by a client,
instead it will fake the value by using the current clock with
a skew of -1.</p>
</div></blockquote>
</li>
<li><p>Prefork pool: The method used to find terminated processes was flawed
in that it didn't also take into account missing <code class="docutils literal notranslate"><span class="pre">popen</span></code> objects.</p></li>
<li><p>Canvas: <code class="docutils literal notranslate"><span class="pre">group</span></code> and <code class="docutils literal notranslate"><span class="pre">chord</span></code> now works with anon signatures as long
as the group/chord object is associated with an app instance (<span class="xref issue">Issue #1744</span>).</p>
<blockquote>
<div><p>You can pass the app by using <code class="docutils literal notranslate"><span class="pre">group(...,</span> <span class="pre">app=app)</span></code>.</p>
</div></blockquote>
</li>
</ul>
</section>
</section>
<section id="version-3-1-6">
<span id="id21"></span><h2>3.1.6<a class="headerlink" href="#version-3-1-6" title="Link to this heading">¶</a></h2>
<dl class="field-list simple">
<dt class="field-odd">release-date<span class="colon">:</span></dt>
<dd class="field-odd"><p>2013-12-02 06:00 p.m. UTC</p>
</dd>
<dt class="field-even">release-by<span class="colon">:</span></dt>
<dd class="field-even"><p>Ask Solem</p>
</dd>
</dl>
<ul>
<li><p>Now depends on <code class="xref py py-mod docutils literal notranslate"><span class="pre">billiard</span></code> 3.3.0.10.</p></li>
<li><p>Now depends on <a class="reference external" href="https://docs.celeryq.dev/projects/kombu/en/main/changelog.html#version-3-0-7" title="（在 Kombu v5.5）"><span class="xref std std-ref">Kombu 3.0.7</span></a>.</p></li>
<li><p>Fixed problem where Mingle caused the worker to hang at start-up
(<span class="xref issue">Issue #1686</span>).</p></li>
<li><p>Beat: Would attempt to drop privileges twice (<span class="xref issue">Issue #1708</span>).</p></li>
<li><p>Windows: Fixed error with <code class="docutils literal notranslate"><span class="pre">geteuid</span></code> not being available (<span class="xref issue">Issue #1676</span>).</p></li>
<li><p>Tasks can now provide a list of expected error classes (<span class="xref issue">Issue #1682</span>).</p>
<blockquote>
<div><p>The list should only include errors that the task is expected to raise
during normal operation:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nd">@task</span><span class="p">(</span><span class="n">throws</span><span class="o">=</span><span class="p">(</span><span class="ne">KeyError</span><span class="p">,</span> <span class="n">HttpNotFound</span><span class="p">))</span>
</pre></div>
</div>
<p>What happens when an exceptions is raised depends on the type of error:</p>
<ul>
<li><p>Expected errors (included in <code class="docutils literal notranslate"><span class="pre">Task.throws</span></code>)</p>
<blockquote>
<div><p>Will be logged using severity <code class="docutils literal notranslate"><span class="pre">INFO</span></code>, and traceback is excluded.</p>
</div></blockquote>
</li>
<li><p>Unexpected errors</p>
<blockquote>
<div><p>Will be logged using severity <code class="docutils literal notranslate"><span class="pre">ERROR</span></code>, with traceback included.</p>
</div></blockquote>
</li>
</ul>
</div></blockquote>
</li>
<li><p>Cache result backend now compatible with Python 3 (<span class="xref issue">Issue #1697</span>).</p></li>
<li><p>CentOS init-script: Now compatible with SysV style init symlinks.</p>
<blockquote>
<div><p>Fix contributed by Jonathan Jordan.</p>
</div></blockquote>
</li>
<li><p>Events: Fixed problem when task name isn't defined (<span class="xref issue">Issue #1710</span>).</p>
<blockquote>
<div><p>Fix contributed by Mher Movsisyan.</p>
</div></blockquote>
</li>
<li><p>Task: Fixed unbound local errors (<span class="xref issue">Issue #1684</span>).</p>
<blockquote>
<div><p>Fix contributed by Markus Ullmann.</p>
</div></blockquote>
</li>
<li><p>Canvas: Now unrolls groups with only one task (optimization) (<span class="xref issue">Issue #1656</span>).</p></li>
<li><p>Task: Fixed problem with ETA and timezones.</p>
<blockquote>
<div><p>Fix contributed by Alexander Koval.</p>
</div></blockquote>
</li>
<li><p>Django: Worker now performs model validation (<span class="xref issue">Issue #1681</span>).</p></li>
<li><p>Task decorator now emits less confusing errors when used with
incorrect arguments (<span class="xref issue">Issue #1692</span>).</p></li>
<li><p>Task: New method <code class="docutils literal notranslate"><span class="pre">Task.send_event</span></code> can be used to send custom events
to Flower and other monitors.</p></li>
<li><p>Fixed a compatibility issue with non-abstract task classes</p></li>
<li><p>Events from clients now uses new node name format (<code class="docutils literal notranslate"><span class="pre">gen&lt;pid&gt;&#64;&lt;hostname&gt;</span></code>).</p></li>
<li><p>Fixed rare bug with Callable not being defined at interpreter shutdown
(<span class="xref issue">Issue #1678</span>).</p>
<blockquote>
<div><p>Fix contributed by Nick Johnson.</p>
</div></blockquote>
</li>
<li><p>Fixed Python 2.6 compatibility (<span class="xref issue">Issue #1679</span>).</p></li>
</ul>
</section>
<section id="version-3-1-5">
<span id="id22"></span><h2>3.1.5<a class="headerlink" href="#version-3-1-5" title="Link to this heading">¶</a></h2>
<dl class="field-list simple">
<dt class="field-odd">release-date<span class="colon">:</span></dt>
<dd class="field-odd"><p>2013-11-21 06:20 p.m. UTC</p>
</dd>
<dt class="field-even">release-by<span class="colon">:</span></dt>
<dd class="field-even"><p>Ask Solem</p>
</dd>
</dl>
<ul>
<li><p>Now depends on <a class="reference external" href="https://docs.celeryq.dev/projects/kombu/en/main/changelog.html#version-3-0-6" title="（在 Kombu v5.5）"><span class="xref std std-ref">Kombu 3.0.6</span></a>.</p></li>
<li><p>Now depends on <code class="xref py py-mod docutils literal notranslate"><span class="pre">billiard</span></code> 3.3.0.8</p></li>
<li><p>App: <code class="docutils literal notranslate"><span class="pre">config_from_object</span></code> is now lazy (<span class="xref issue">Issue #1665</span>).</p></li>
<li><p>App: <code class="docutils literal notranslate"><span class="pre">autodiscover_tasks</span></code> is now lazy.</p>
<blockquote>
<div><p>Django users should now wrap access to the settings object
in a lambda:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">app</span><span class="o">.</span><span class="n">autodiscover_tasks</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="n">settings</span><span class="o">.</span><span class="n">INSTALLED_APPS</span><span class="p">)</span>
</pre></div>
</div>
<p>this ensures that the settings object isn't prepared
prematurely.</p>
</div></blockquote>
</li>
<li><p>Fixed regression for <a class="reference internal" href="../reference/cli.html#cmdoption-celery-A"><code class="xref std std-option docutils literal notranslate"><span class="pre">--app</span></code></a> argument
experienced by some users (<span class="xref issue">Issue #1653</span>).</p></li>
<li><p>Worker: Now respects the <a class="reference internal" href="../reference/cli.html#cmdoption-celery-worker-uid"><code class="xref std std-option docutils literal notranslate"><span class="pre">--uid</span></code></a> and
<a class="reference internal" href="../reference/cli.html#cmdoption-celery-worker-gid"><code class="xref std std-option docutils literal notranslate"><span class="pre">--gid</span></code></a> arguments even if
<a class="reference internal" href="../reference/cli.html#cmdoption-celery-worker-D"><code class="xref std std-option docutils literal notranslate"><span class="pre">--detach</span></code></a> isn't enabled.</p></li>
<li><p>Beat: Now respects the <a class="reference internal" href="../reference/cli.html#cmdoption-celery-beat-uid"><code class="xref std std-option docutils literal notranslate"><span class="pre">--uid</span></code></a> and
<a class="reference internal" href="../reference/cli.html#cmdoption-celery-beat-gid"><code class="xref std std-option docutils literal notranslate"><span class="pre">--gid</span></code></a> arguments even if
<a class="reference internal" href="../reference/cli.html#cmdoption-celery-beat-detach"><code class="xref std std-option docutils literal notranslate"><span class="pre">--detach</span></code></a> isn't enabled.</p></li>
<li><p>Python 3: Fixed unorderable error occurring with the worker
<a class="reference internal" href="../reference/cli.html#cmdoption-celery-worker-B"><code class="xref std std-option docutils literal notranslate"><span class="pre">-B</span></code></a> argument enabled.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">celery.VERSION</span></code> is now a named tuple.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">maybe_signature(list)</span></code> is now applied recursively (<span class="xref issue">Issue #1645</span>).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">celery</span> <span class="pre">shell</span></code> command: Fixed <code class="docutils literal notranslate"><span class="pre">IPython.frontend</span></code> deprecation warning.</p></li>
<li><p>The default app no longer includes the built-in fix-ups.</p>
<blockquote>
<div><p>This fixes a bug where <code class="docutils literal notranslate"><span class="pre">celery</span> <span class="pre">multi</span></code> would attempt
to load the Django settings module before entering
the target working directory.</p>
</div></blockquote>
</li>
<li><p>The Django daemonization tutorial was changed.</p>
<blockquote>
<div><p>Users no longer have to explicitly export <code class="docutils literal notranslate"><span class="pre">DJANGO_SETTINGS_MODULE</span></code>
in <code class="file docutils literal notranslate"><span class="pre">/etc/default/celeryd</span></code> when the new project layout is used.</p>
</div></blockquote>
</li>
<li><p>Redis result backend: expiry value can now be 0 (<span class="xref issue">Issue #1661</span>).</p></li>
<li><p>Censoring settings now accounts for non-string keys (<span class="xref issue">Issue #1663</span>).</p></li>
<li><p>App: New <code class="docutils literal notranslate"><span class="pre">autofinalize</span></code> option.</p>
<blockquote>
<div><p>Apps are automatically finalized when the task registry is accessed.
You can now disable this behavior so that an exception is raised
instead.</p>
<p>Example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">app</span> <span class="o">=</span> <span class="n">Celery</span><span class="p">(</span><span class="n">autofinalize</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

<span class="c1"># raises RuntimeError</span>
<span class="n">tasks</span> <span class="o">=</span> <span class="n">app</span><span class="o">.</span><span class="n">tasks</span>

<span class="nd">@app</span><span class="o">.</span><span class="n">task</span>
<span class="k">def</span><span class="w"> </span><span class="nf">add</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">x</span> <span class="o">+</span> <span class="n">y</span>

<span class="c1"># raises RuntimeError</span>
<span class="n">add</span><span class="o">.</span><span class="n">delay</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>

<span class="n">app</span><span class="o">.</span><span class="n">finalize</span><span class="p">()</span>
<span class="c1"># no longer raises:</span>
<span class="n">tasks</span> <span class="o">=</span> <span class="n">app</span><span class="o">.</span><span class="n">tasks</span>
<span class="n">add</span><span class="o">.</span><span class="n">delay</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
</div></blockquote>
</li>
<li><p>The worker didn't send monitoring events during shutdown.</p></li>
<li><p>Worker: Mingle and gossip is now automatically disabled when
used with an unsupported transport (<span class="xref issue">Issue #1664</span>).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">celery</span></code> command:  Preload options now supports
the rare <code class="docutils literal notranslate"><span class="pre">--opt</span> <span class="pre">value</span></code> format (<span class="xref issue">Issue #1668</span>).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">celery</span></code> command: Accidentally removed options
appearing before the sub-command, these are now moved to the end
instead.</p></li>
<li><p>Worker now properly responds to <code class="docutils literal notranslate"><span class="pre">inspect</span> <span class="pre">stats</span></code> commands
even if received before start-up is complete (<span class="xref issue">Issue #1659</span>).</p></li>
<li><p><a class="reference internal" href="../userguide/signals.html#std-signal-task_postrun"><code class="xref std std-signal docutils literal notranslate"><span class="pre">task_postrun</span></code></a> is now sent within a <a class="reference external" href="https://docs.python.org/dev/reference/compound_stmts.html#finally" title="（在 Python v3.15）"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">finally</span></code></a> block,
to make sure the signal is always sent.</p></li>
<li><p>Beat: Fixed syntax error in string formatting.</p>
<blockquote>
<div><p>Contributed by <a class="extlink-github_user reference external" href="https://github.com/nadad/">&#64;nadad</a>.</p>
</div></blockquote>
</li>
<li><p>Fixed typos in the documentation.</p>
<blockquote>
<div><p>Fixes contributed by Loic Bistuer, <a class="extlink-github_user reference external" href="https://github.com/sunfinite/">&#64;sunfinite</a>.</p>
</div></blockquote>
</li>
<li><p>Nested chains now works properly when constructed using the
<code class="docutils literal notranslate"><span class="pre">chain</span></code> type instead of the <code class="docutils literal notranslate"><span class="pre">|</span></code> operator (<span class="xref issue">Issue #1656</span>).</p></li>
</ul>
</section>
<section id="version-3-1-4">
<span id="id23"></span><h2>3.1.4<a class="headerlink" href="#version-3-1-4" title="Link to this heading">¶</a></h2>
<dl class="field-list simple">
<dt class="field-odd">release-date<span class="colon">:</span></dt>
<dd class="field-odd"><p>2013-11-15 11:40 p.m. UTC</p>
</dd>
<dt class="field-even">release-by<span class="colon">:</span></dt>
<dd class="field-even"><p>Ask Solem</p>
</dd>
</dl>
<ul>
<li><p>Now depends on <a class="reference external" href="https://docs.celeryq.dev/projects/kombu/en/main/changelog.html#version-3-0-5" title="（在 Kombu v5.5）"><span class="xref std std-ref">Kombu 3.0.5</span></a>.</p></li>
<li><p>Now depends on <code class="xref py py-mod docutils literal notranslate"><span class="pre">billiard</span></code> 3.3.0.7</p></li>
<li><p>Worker accidentally set a default socket timeout of 5 seconds.</p></li>
<li><p>Django: Fix-up now sets the default app so that threads will use
the same app instance (e.g., for <strong class="command">manage.py runserver</strong>).</p></li>
<li><p>Worker: Fixed Unicode error crash at start-up experienced by some users.</p></li>
<li><p>Calling <code class="docutils literal notranslate"><span class="pre">.apply_async</span></code> on an empty chain now works again (<span class="xref issue">Issue #1650</span>).</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">celery</span> <span class="pre">multi</span> <span class="pre">show</span></code> command now generates the same arguments
as the start command does.</p></li>
<li><p>The <a class="reference internal" href="../reference/cli.html#cmdoption-celery-A"><code class="xref std std-option docutils literal notranslate"><span class="pre">--app</span></code></a> argument could end up using a module
object instead of an app instance (with a resulting crash).</p></li>
<li><p>Fixed a syntax error problem in the beat init-script.</p>
<blockquote>
<div><p>Fix contributed by Vsevolod.</p>
</div></blockquote>
</li>
<li><p>Tests now passing on PyPy 2.1 and 2.2.</p></li>
</ul>
</section>
<section id="version-3-1-3">
<span id="id24"></span><h2>3.1.3<a class="headerlink" href="#version-3-1-3" title="Link to this heading">¶</a></h2>
<dl class="field-list simple">
<dt class="field-odd">release-date<span class="colon">:</span></dt>
<dd class="field-odd"><p>2013-11-13 00:55 a.m. UTC</p>
</dd>
<dt class="field-even">release-by<span class="colon">:</span></dt>
<dd class="field-even"><p>Ask Solem</p>
</dd>
</dl>
<ul>
<li><p>Fixed compatibility problem with Python 2.7.0 - 2.7.5 (<span class="xref issue">Issue #1637</span>)</p>
<blockquote>
<div><p><code class="docutils literal notranslate"><span class="pre">unpack_from</span></code> started supporting <code class="docutils literal notranslate"><span class="pre">memoryview</span></code> arguments
in Python 2.7.6.</p>
</div></blockquote>
</li>
<li><p>Worker: <a class="reference internal" href="../reference/cli.html#cmdoption-celery-worker-B"><code class="xref std std-option docutils literal notranslate"><span class="pre">-B</span></code></a> argument accidentally closed
files used for logging.</p></li>
<li><p>Task decorated tasks now keep their docstring (<span class="xref issue">Issue #1636</span>)</p></li>
</ul>
</section>
<section id="version-3-1-2">
<span id="id25"></span><h2>3.1.2<a class="headerlink" href="#version-3-1-2" title="Link to this heading">¶</a></h2>
<dl class="field-list simple">
<dt class="field-odd">release-date<span class="colon">:</span></dt>
<dd class="field-odd"><p>2013-11-12 08:00 p.m. UTC</p>
</dd>
<dt class="field-even">release-by<span class="colon">:</span></dt>
<dd class="field-even"><p>Ask Solem</p>
</dd>
</dl>
<ul>
<li><p>Now depends on <code class="xref py py-mod docutils literal notranslate"><span class="pre">billiard</span></code> 3.3.0.6</p></li>
<li><p>No longer needs the billiard C extension to be installed.</p></li>
<li><p>The worker silently ignored task errors.</p></li>
<li><p>Django: Fixed <code class="docutils literal notranslate"><span class="pre">ImproperlyConfigured</span></code> error raised
when no database backend specified.</p>
<blockquote>
<div><p>Fix contributed by <a class="extlink-github_user reference external" href="https://github.com/j0hnsmith/">&#64;j0hnsmith</a>.</p>
</div></blockquote>
</li>
<li><p>Prefork pool: Now using <code class="docutils literal notranslate"><span class="pre">_multiprocessing.read</span></code> with <code class="docutils literal notranslate"><span class="pre">memoryview</span></code>
if available.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">close_open_fds</span></code> now uses <code class="docutils literal notranslate"><span class="pre">os.closerange</span></code> if available.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">get_fdmax</span></code> now takes value from <code class="docutils literal notranslate"><span class="pre">sysconfig</span></code> if possible.</p></li>
</ul>
</section>
<section id="version-3-1-1">
<span id="id26"></span><h2>3.1.1<a class="headerlink" href="#version-3-1-1" title="Link to this heading">¶</a></h2>
<dl class="field-list simple">
<dt class="field-odd">release-date<span class="colon">:</span></dt>
<dd class="field-odd"><p>2013-11-11 06:30 p.m. UTC</p>
</dd>
<dt class="field-even">release-by<span class="colon">:</span></dt>
<dd class="field-even"><p>Ask Solem</p>
</dd>
</dl>
<ul>
<li><p>Now depends on <code class="xref py py-mod docutils literal notranslate"><span class="pre">billiard</span></code> 3.3.0.4.</p></li>
<li><p>Python 3: Fixed compatibility issues.</p></li>
<li><p>Windows:  Accidentally showed warning that the billiard C extension
wasn't installed (<span class="xref issue">Issue #1630</span>).</p></li>
<li><p>Django: Tutorial updated with a solution that sets a default
<span class="target" id="index-2"></span><a class="reference external" href="http://docs.djangoproject.com/en/dev/topics/settings/#envvar-DJANGO_SETTINGS_MODULE" title="（在 Django v6.0）"><code class="xref std std-envvar docutils literal notranslate"><span class="pre">DJANGO_SETTINGS_MODULE</span></code></a> so that it doesn't have to be typed
in with the <strong class="program">celery</strong> command.</p>
<blockquote>
<div><p>Also fixed typos in the tutorial, and added the settings
required to use the Django database backend.</p>
<p>Thanks to Chris Ward, <a class="extlink-github_user reference external" href="https://github.com/orarbel/">&#64;orarbel</a>.</p>
</div></blockquote>
</li>
<li><p>Django: Fixed a problem when using the Django settings in Django 1.6.</p></li>
<li><p>Django: Fix-up shouldn't be applied if the django loader is active.</p></li>
<li><p>Worker:  Fixed attribute error for <code class="docutils literal notranslate"><span class="pre">human_write_stats</span></code> when using the
compatibility prefork pool implementation.</p></li>
<li><p>Worker: Fixed compatibility with billiard without C extension.</p></li>
<li><p>Inspect.conf: Now supports a <code class="docutils literal notranslate"><span class="pre">with_defaults</span></code> argument.</p></li>
<li><p>Group.restore: The backend argument wasn't respected.</p></li>
</ul>
</section>
<section id="version-3-1-0">
<span id="id27"></span><h2>3.1.0<a class="headerlink" href="#version-3-1-0" title="Link to this heading">¶</a></h2>
<dl class="field-list simple">
<dt class="field-odd">release-date<span class="colon">:</span></dt>
<dd class="field-odd"><p>2013-11-09 11:00 p.m. UTC</p>
</dd>
<dt class="field-even">release-by<span class="colon">:</span></dt>
<dd class="field-even"><p>Ask Solem</p>
</dd>
</dl>
<p>See <a class="reference internal" href="whatsnew-3.1.html#whatsnew-3-1"><span class="std std-ref">What's new in Celery 3.1 (Cipater)</span></a>.</p>
</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="whatsnew-3.0.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">What's new in Celery 3.0 (Chiastic Slide)</div>
              </div>
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="whatsnew-3.1.html">
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">What's new in Celery 3.1 (Cipater)</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                <a href="../copyright.html">Copyright</a> &#169; 2009-2023, Ask Solem &amp; contributors
            </div>
            Made with 
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">Change history</a><ul>
<li><a class="reference internal" href="#version-3-1-26">3.1.26</a></li>
<li><a class="reference internal" href="#version-3-1-25">3.1.25</a></li>
<li><a class="reference internal" href="#version-3-1-24">3.1.24</a></li>
<li><a class="reference internal" href="#version-3-1-23">3.1.23</a></li>
<li><a class="reference internal" href="#version-3-1-22">3.1.22</a></li>
<li><a class="reference internal" href="#version-3-1-21">3.1.21</a></li>
<li><a class="reference internal" href="#version-3-1-20">3.1.20</a></li>
<li><a class="reference internal" href="#version-3-1-19">3.1.19</a></li>
<li><a class="reference internal" href="#version-3-1-18">3.1.18</a></li>
<li><a class="reference internal" href="#version-3-1-17">3.1.17</a></li>
<li><a class="reference internal" href="#version-3-1-16">3.1.16</a></li>
<li><a class="reference internal" href="#version-3-1-15">3.1.15</a></li>
<li><a class="reference internal" href="#version-3-1-14">3.1.14</a></li>
<li><a class="reference internal" href="#version-3-1-13">3.1.13</a><ul>
<li><a class="reference internal" href="#security-fixes">Security Fixes</a></li>
<li><a class="reference internal" href="#news">News</a></li>
</ul>
</li>
<li><a class="reference internal" href="#version-3-1-12">3.1.12</a></li>
<li><a class="reference internal" href="#version-3-1-11">3.1.11</a></li>
<li><a class="reference internal" href="#version-3-1-10">3.1.10</a></li>
<li><a class="reference internal" href="#version-3-1-9">3.1.9</a></li>
<li><a class="reference internal" href="#version-3-1-8">3.1.8</a></li>
<li><a class="reference internal" href="#version-3-1-7">3.1.7</a><ul>
<li><a class="reference internal" href="#important-notes">Important Notes</a></li>
<li><a class="reference internal" href="#init-script-security-improvements">Init-script security improvements</a><ul>
<li><a class="reference internal" href="#amqp-result-backend">AMQP result backend</a></li>
<li><a class="reference internal" href="#synchronous-subtasks">Synchronous subtasks</a></li>
</ul>
</li>
<li><a class="reference internal" href="#fixes">Fixes</a></li>
</ul>
</li>
<li><a class="reference internal" href="#version-3-1-6">3.1.6</a></li>
<li><a class="reference internal" href="#version-3-1-5">3.1.5</a></li>
<li><a class="reference internal" href="#version-3-1-4">3.1.4</a></li>
<li><a class="reference internal" href="#version-3-1-3">3.1.3</a></li>
<li><a class="reference internal" href="#version-3-1-2">3.1.2</a></li>
<li><a class="reference internal" href="#version-3-1-1">3.1.1</a></li>
<li><a class="reference internal" href="#version-3-1-0">3.1.0</a></li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script src="../_static/documentation_options.js?v=8156d91f"></script>
    <script src="../_static/doctools.js?v=9bcbadda"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/scripts/furo.js?v=5fa4622c"></script>
    <script src="../_static/tabs.js?v=3ee01567"></script>
    <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../_static/copybutton.js?v=5eb1bb1e"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../_static/togglebutton.js?v=4a39c7ea"></script>
    <script src="../_static/translations.js?v=beaddf03"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    </body>
</html>